// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var wa,xa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,c){if(e==Array.prototype||e==Object.prototype)return e;e[a]=c.value;return e};function za(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<e.length;++a){var c=e[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var Ba=za(this);
function Da(e,a){if(a)a:{var c=Ba;e=e.split(".");for(var f=0;f<e.length-1;f++){var b=e[f];if(!(b in c))break a;c=c[b]}e=e[e.length-1];f=c[e];a=a(f);a!=f&&null!=a&&xa(c,e,{configurable:!0,writable:!0,value:a})}}Da("globalThis",function(e){return e||Ba});var Fa=this;
function Ha(e){function a(g,n,u){var w=n[0],y=n[1],C=n[2];n=n[3];var D=u[0],G=u[1],H=u[2];u=u[3];g[0]=w*D+C*G;g[1]=y*D+n*G;g[2]=w*H+C*u;g[3]=y*H+n*u;return g}function c(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-u[1];g[2]=n[2]-u[2];g[3]=n[3]-u[3];return g}function f(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4];n=n[5];var H=u[0],L=u[1],N=u[2],O=u[3],T=u[4];u=u[5];g[0]=w*H+C*L;g[1]=y*H+D*L;g[2]=w*N+C*O;g[3]=y*N+D*O;g[4]=w*T+C*u+G;g[5]=y*T+D*u+n;return g}function b(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-u[1];g[2]=n[2]-
u[2];g[3]=n[3]-u[3];g[4]=n[4]-u[4];g[5]=n[5]-u[5];return g}function d(){var g=new la(9);la!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[5]=0,g[6]=0,g[7]=0);g[0]=1;g[4]=1;g[8]=1;return g}function m(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7];n=n[8];var O=u[0],T=u[1],R=u[2],Z=u[3],Y=u[4],V=u[5],pa=u[6],ka=u[7];u=u[8];g[0]=O*w+T*D+R*L;g[1]=O*y+T*G+R*N;g[2]=O*C+T*H+R*n;g[3]=Z*w+Y*D+V*L;g[4]=Z*y+Y*G+V*N;g[5]=Z*C+Y*H+V*n;g[6]=pa*w+ka*D+u*L;g[7]=pa*y+ka*G+u*N;g[8]=pa*C+ka*H+u*n;return g}
function k(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-u[1];g[2]=n[2]-u[2];g[3]=n[3]-u[3];g[4]=n[4]-u[4];g[5]=n[5]-u[5];g[6]=n[6]-u[6];g[7]=n[7]-u[7];g[8]=n[8]-u[8];return g}function p(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function r(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7],O=n[8],T=n[9],R=n[10],Z=n[11],Y=n[12],V=n[13],pa=n[14];n=n[15];var ka=u[0],na=u[1],oa=u[2],ma=u[3];g[0]=ka*w+na*G+oa*O+ma*
Y;g[1]=ka*y+na*H+oa*T+ma*V;g[2]=ka*C+na*L+oa*R+ma*pa;g[3]=ka*D+na*N+oa*Z+ma*n;ka=u[4];na=u[5];oa=u[6];ma=u[7];g[4]=ka*w+na*G+oa*O+ma*Y;g[5]=ka*y+na*H+oa*T+ma*V;g[6]=ka*C+na*L+oa*R+ma*pa;g[7]=ka*D+na*N+oa*Z+ma*n;ka=u[8];na=u[9];oa=u[10];ma=u[11];g[8]=ka*w+na*G+oa*O+ma*Y;g[9]=ka*y+na*H+oa*T+ma*V;g[10]=ka*C+na*L+oa*R+ma*pa;g[11]=ka*D+na*N+oa*Z+ma*n;ka=u[12];na=u[13];oa=u[14];ma=u[15];g[12]=ka*w+na*G+oa*O+ma*Y;g[13]=ka*y+na*H+oa*T+ma*V;g[14]=ka*C+na*L+oa*R+ma*pa;g[15]=ka*D+na*N+oa*Z+ma*n;return g}function l(g,
n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=w+w,H=y+y,L=C+C;n=w*G;var N=w*H;w*=L;var O=y*H;y*=L;C*=L;G*=D;H*=D;D*=L;g[0]=1-(O+C);g[1]=N+D;g[2]=w-H;g[3]=0;g[4]=N-D;g[5]=1-(n+C);g[6]=y+G;g[7]=0;g[8]=w+H;g[9]=y-G;g[10]=1-(n+O);g[11]=0;g[12]=u[0];g[13]=u[1];g[14]=u[2];g[15]=1;return g}function h(g,n){g[0]=n[12];g[1]=n[13];g[2]=n[14];return g}function q(g,n){var u=n[4],w=n[5],y=n[6],C=n[8],D=n[9],G=n[10];g[0]=Math.hypot(n[0],n[1],n[2]);g[1]=Math.hypot(u,w,y);g[2]=Math.hypot(C,D,G);return g}function t(g,n){var u=
new la(3);q(u,n);var w=1/u[0],y=1/u[1],C=1/u[2],D=n[0]*w;u=n[1]*y;var G=n[2]*C,H=n[4]*w,L=n[5]*y,N=n[6]*C;w*=n[8];y*=n[9];n=n[10]*C;C=D+L+n;0<C?(D=2*Math.sqrt(C+1),g[3]=.25*D,g[0]=(N-y)/D,g[1]=(w-G)/D,g[2]=(u-H)/D):D>L&&D>n?(D=2*Math.sqrt(1+D-L-n),g[3]=(N-y)/D,g[0]=.25*D,g[1]=(u+H)/D,g[2]=(w+G)/D):L>n?(D=2*Math.sqrt(1+L-D-n),g[3]=(w-G)/D,g[0]=(u+H)/D,g[1]=.25*D,g[2]=(N+y)/D):(D=2*Math.sqrt(1+n-D-L),g[3]=(u-H)/D,g[0]=(w+G)/D,g[1]=(N+y)/D,g[2]=.25*D);return g}function v(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-
u[1];g[2]=n[2]-u[2];g[3]=n[3]-u[3];g[4]=n[4]-u[4];g[5]=n[5]-u[5];g[6]=n[6]-u[6];g[7]=n[7]-u[7];g[8]=n[8]-u[8];g[9]=n[9]-u[9];g[10]=n[10]-u[10];g[11]=n[11]-u[11];g[12]=n[12]-u[12];g[13]=n[13]-u[13];g[14]=n[14]-u[14];g[15]=n[15]-u[15];return g}function z(){var g=new la(3);la!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);return g}function A(g){return Math.hypot(g[0],g[1],g[2])}function F(g,n,u){var w=new la(3);w[0]=g;w[1]=n;w[2]=u;return w}function x(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-u[1];g[2]=n[2]-u[2];return g}
function E(g,n,u){g[0]=n[0]*u[0];g[1]=n[1]*u[1];g[2]=n[2]*u[2];return g}function I(g,n,u){g[0]=n[0]/u[0];g[1]=n[1]/u[1];g[2]=n[2]/u[2];return g}function M(g,n){return Math.hypot(n[0]-g[0],n[1]-g[1],n[2]-g[2])}function P(g,n){var u=n[0]-g[0],w=n[1]-g[1];g=n[2]-g[2];return u*u+w*w+g*g}function Q(g){var n=g[0],u=g[1];g=g[2];return n*n+u*u+g*g}function U(g,n){var u=n[0],w=n[1],y=n[2];u=u*u+w*w+y*y;0<u&&(u=1/Math.sqrt(u));g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;return g}function ba(g,n){return g[0]*n[0]+g[1]*
n[1]+g[2]*n[2]}function X(g,n,u){var w=n[0],y=n[1];n=n[2];var C=u[0],D=u[1];u=u[2];g[0]=y*u-n*D;g[1]=n*C-w*u;g[2]=w*D-y*C;return g}function fa(){var g=new la(4);la!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[3]=0);return g}function sa(g){var n=new la(4);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];return n}function ua(g,n,u,w){var y=new la(4);y[0]=g;y[1]=n;y[2]=u;y[3]=w;return y}function ca(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];return g}function qa(g,n,u,w,y){g[0]=n;g[1]=u;g[2]=w;g[3]=y;return g}function ea(g,
n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];return g}function ya(g,n,u){g[0]=n[0]-u[0];g[1]=n[1]-u[1];g[2]=n[2]-u[2];g[3]=n[3]-u[3];return g}function Na(g,n,u){g[0]=n[0]*u[0];g[1]=n[1]*u[1];g[2]=n[2]*u[2];g[3]=n[3]*u[3];return g}function cb(g,n,u){g[0]=n[0]/u[0];g[1]=n[1]/u[1];g[2]=n[2]/u[2];g[3]=n[3]/u[3];return g}function Sa(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;return g}function db(g,n){return Math.hypot(n[0]-g[0],n[1]-g[1],n[2]-g[2],n[3]-g[3])}function Ta(g,
n){var u=n[0]-g[0],w=n[1]-g[1],y=n[2]-g[2];g=n[3]-g[3];return u*u+w*w+y*y+g*g}function Ga(g){return Math.hypot(g[0],g[1],g[2],g[3])}function Ea(g){var n=g[0],u=g[1],w=g[2];g=g[3];return n*n+u*u+w*w+g*g}function Oa(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=u*u+w*w+y*y+n*n;0<C&&(C=1/Math.sqrt(C));g[0]=u*C;g[1]=w*C;g[2]=y*C;g[3]=n*C;return g}function La(g,n){return g[0]*n[0]+g[1]*n[1]+g[2]*n[2]+g[3]*n[3]}function eb(g,n,u,w){var y=n[0],C=n[1],D=n[2];n=n[3];g[0]=y+w*(u[0]-y);g[1]=C+w*(u[1]-C);g[2]=D+
w*(u[2]-D);g[3]=n+w*(u[3]-n);return g}function fb(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]}function gb(g,n){var u=g[0],w=g[1],y=g[2];g=g[3];var C=n[0],D=n[1],G=n[2];n=n[3];return Math.abs(u-C)<=1E-6*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(w-D)<=1E-6*Math.max(1,Math.abs(w),Math.abs(D))&&Math.abs(y-G)<=1E-6*Math.max(1,Math.abs(y),Math.abs(G))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))}function Pa(){var g=new la(4);la!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0);g[3]=
1;return g}function hb(g,n,u){u*=.5;var w=Math.sin(u);g[0]=w*n[0];g[1]=w*n[1];g[2]=w*n[2];g[3]=Math.cos(u);return g}function ib(g,n,u){var w=n[0],y=n[1],C=n[2];n=n[3];var D=u[0],G=u[1],H=u[2];u=u[3];g[0]=w*u+n*D+y*H-C*G;g[1]=y*u+n*G+C*D-w*H;g[2]=C*u+n*H+w*G-y*D;g[3]=n*u-w*D-y*G-C*H;return g}function jb(g,n,u){u*=.5;var w=n[0],y=n[1],C=n[2];n=n[3];var D=Math.sin(u);u=Math.cos(u);g[0]=w*u+n*D;g[1]=y*u+C*D;g[2]=C*u-y*D;g[3]=n*u-w*D;return g}function kb(g,n,u){u*=.5;var w=n[0],y=n[1],C=n[2];n=n[3];var D=
Math.sin(u);u=Math.cos(u);g[0]=w*u-C*D;g[1]=y*u+n*D;g[2]=C*u+w*D;g[3]=n*u-y*D;return g}function lb(g,n,u){u*=.5;var w=n[0],y=n[1],C=n[2];n=n[3];var D=Math.sin(u);u=Math.cos(u);g[0]=w*u+y*D;g[1]=y*u-w*D;g[2]=C*u+n*D;g[3]=n*u-C*D;return g}function mb(g,n){var u=n[0],w=n[1],y=n[2],C=Math.sqrt(u*u+w*w+y*y);n=Math.exp(n[3]);var D=0<C?n*Math.sin(C)/C:0;g[0]=u*D;g[1]=w*D;g[2]=y*D;g[3]=n*Math.cos(C);return g}function nb(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=Math.sqrt(u*u+w*w+y*y);C=0<C?Math.atan2(C,
n)/C:0;g[0]=u*C;g[1]=w*C;g[2]=y*C;g[3]=.5*Math.log(u*u+w*w+y*y+n*n);return g}function Qa(g,n,u,w){var y=n[0],C=n[1],D=n[2];n=n[3];var G=u[0],H=u[1],L=u[2];u=u[3];var N=y*G+C*H+D*L+n*u;0>N&&(N=-N,G=-G,H=-H,L=-L,u=-u);if(1E-6<1-N){var O=Math.acos(N);var T=Math.sin(O);N=Math.sin((1-w)*O)/T;w=Math.sin(w*O)/T}else N=1-w;g[0]=N*y+w*G;g[1]=N*C+w*H;g[2]=N*D+w*L;g[3]=N*n+w*u;return g}function ob(g,n){var u=n[0]+n[4]+n[8];if(0<u)u=Math.sqrt(u+1),g[3]=.5*u,u=.5/u,g[0]=(n[5]-n[7])*u,g[1]=(n[6]-n[2])*u,g[2]=(n[1]-
n[3])*u;else{var w=0;n[4]>n[0]&&(w=1);n[8]>n[3*w+w]&&(w=2);var y=(w+1)%3,C=(w+2)%3;u=Math.sqrt(n[3*w+w]-n[3*y+y]-n[3*C+C]+1);g[w]=.5*u;u=.5/u;g[3]=(n[3*y+C]-n[3*C+y])*u;g[y]=(n[3*y+w]+n[3*w+y])*u;g[C]=(n[3*C+w]+n[3*w+C])*u}return g}function pb(g,n,u){var w=.5*u[0],y=.5*u[1];u=.5*u[2];var C=n[0],D=n[1],G=n[2];n=n[3];g[0]=C;g[1]=D;g[2]=G;g[3]=n;g[4]=w*n+y*G-u*D;g[5]=y*n+u*C-w*G;g[6]=u*n+w*D-y*C;g[7]=-w*C-y*D-u*G;return g}function qb(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=n[4];g[5]=n[5];g[6]=
n[6];g[7]=n[7];return g}function rb(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=u[4],H=u[5],L=u[6],N=u[7],O=n[4],T=n[5],R=n[6];n=n[7];var Z=u[0],Y=u[1],V=u[2];u=u[3];g[0]=w*u+D*Z+y*V-C*Y;g[1]=y*u+D*Y+C*Z-w*V;g[2]=C*u+D*V+w*Y-y*Z;g[3]=D*u-w*Z-y*Y-C*V;g[4]=w*N+D*G+y*L-C*H+O*u+n*Z+T*V-R*Y;g[5]=y*N+D*H+C*G-w*L+T*u+n*Y+R*Z-O*V;g[6]=C*N+D*L+w*H-y*G+R*u+n*V+O*Y-T*Z;g[7]=D*N-w*G-y*H-C*L+n*u-O*Z-T*Y-R*V;return g}function sb(){var g=new la(2);la!=Float32Array&&(g[0]=0,g[1]=0);return g}function tb(g,n,u){g[0]=
n[0]-u[0];g[1]=n[1]-u[1];return g}function ub(g,n,u){g[0]=n[0]*u[0];g[1]=n[1]*u[1];return g}function vb(g,n,u){g[0]=n[0]/u[0];g[1]=n[1]/u[1];return g}function wb(g,n){return Math.hypot(n[0]-g[0],n[1]-g[1])}function xb(g,n){var u=n[0]-g[0];g=n[1]-g[1];return u*u+g*g}function yb(g){return Math.hypot(g[0],g[1])}function zb(g){var n=g[0];g=g[1];return n*n+g*g}var la="undefined"!==typeof Float32Array?Float32Array:Array,Aa=Math.random,Db=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var g=0,n=arguments.length;n--;)g+=
arguments[n]*arguments[n];return Math.sqrt(g)});var Eb=Object.freeze({__proto__:null,EPSILON:1E-6,get Eea(){return la},qja:Aa,Ppa:function(g){la=g},iqa:function(g){return g*Db},cd:function(g,n){return Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))}}),Fb=Object.freeze({__proto__:null,create:function(){var g=new la(4);la!=Float32Array&&(g[1]=0,g[2]=0);g[0]=1;g[3]=1;return g},clone:function(g){var n=new la(4);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];return n},Ka:function(g,n){g[0]=n[0];g[1]=
n[1];g[2]=n[2];g[3]=n[3];return g},Nv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;return g},Ad:function(g,n,u,w){var y=new la(4);y[0]=g;y[1]=n;y[2]=u;y[3]=w;return y},set:function(g,n,u,w,y){g[0]=n;g[1]=u;g[2]=w;g[3]=y;return g},JU:function(g,n){if(g===n){var u=n[1];g[1]=n[2];g[2]=u}else g[0]=n[0],g[1]=n[2],g[2]=n[1],g[3]=n[3];return g},Ov:function(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=u*n-y*w;if(!C)return null;C=1/C;g[0]=n*C;g[1]=-w*C;g[2]=-y*C;g[3]=u*C;return g},gT:function(g,n){var u=n[0];g[0]=
n[3];g[1]=-n[1];g[2]=-n[2];g[3]=u;return g},mJ:function(g){return g[0]*g[3]-g[2]*g[1]},multiply:a,rotate:function(g,n,u){var w=n[0],y=n[1],C=n[2];n=n[3];var D=Math.sin(u);u=Math.cos(u);g[0]=w*u+C*D;g[1]=y*u+n*D;g[2]=w*-D+C*u;g[3]=y*-D+n*u;return g},scale:function(g,n,u){var w=n[1],y=n[2],C=n[3],D=u[0];u=u[1];g[0]=n[0]*D;g[1]=w*D;g[2]=y*u;g[3]=C*u;return g},oB:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=u;g[2]=-u;g[3]=n;return g},tJ:function(g,n){g[0]=n[0];g[1]=0;g[2]=0;g[3]=n[1];return g},
el:function(g){return"mat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},sJ:function(g){return Math.hypot(g[0],g[1],g[2],g[3])},yha:function(g,n,u,w){g[2]=w[2]/w[0];u[0]=w[0];u[1]=w[1];u[3]=w[3]-g[2]*u[1];return[g,n,u]},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];return g},js:c,Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]},cd:function(g,n){var u=g[0],w=g[1],y=g[2];g=g[3];var C=n[0],D=n[1],G=n[2];n=n[3];return Math.abs(u-C)<=1E-6*Math.max(1,
Math.abs(u),Math.abs(C))&&Math.abs(w-D)<=1E-6*Math.max(1,Math.abs(w),Math.abs(D))&&Math.abs(y-G)<=1E-6*Math.max(1,Math.abs(y),Math.abs(G))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},KJ:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;return g},LJ:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+u[2]*w;g[3]=n[3]+u[3]*w;return g},Xm:a,sub:c}),Gb=Object.freeze({__proto__:null,create:function(){var g=new la(6);la!=Float32Array&&(g[1]=0,g[2]=0,g[4]=0,g[5]=0);
g[0]=1;g[3]=1;return g},clone:function(g){var n=new la(6);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];n[4]=g[4];n[5]=g[5];return n},Ka:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=n[4];g[5]=n[5];return g},Nv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;return g},Ad:function(g,n,u,w,y,C){var D=new la(6);D[0]=g;D[1]=n;D[2]=u;D[3]=w;D[4]=y;D[5]=C;return D},set:function(g,n,u,w,y,C,D){g[0]=n;g[1]=u;g[2]=w;g[3]=y;g[4]=C;g[5]=D;return g},Ov:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],
D=n[4];n=n[5];var G=u*C-w*y;if(!G)return null;G=1/G;g[0]=C*G;g[1]=-w*G;g[2]=-y*G;g[3]=u*G;g[4]=(y*n-C*D)*G;g[5]=(w*D-u*n)*G;return g},mJ:function(g){return g[0]*g[3]-g[1]*g[2]},multiply:f,rotate:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4];n=n[5];var H=Math.sin(u);u=Math.cos(u);g[0]=w*u+C*H;g[1]=y*u+D*H;g[2]=w*-H+C*u;g[3]=y*-H+D*u;g[4]=G;g[5]=n;return g},scale:function(g,n,u){var w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],H=u[0];u=u[1];g[0]=n[0]*H;g[1]=w*H;g[2]=y*u;g[3]=C*u;g[4]=D;g[5]=G;return g},
translate:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4];n=n[5];var H=u[0];u=u[1];g[0]=w;g[1]=y;g[2]=C;g[3]=D;g[4]=w*H+C*u+G;g[5]=y*H+D*u+n;return g},oB:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=u;g[2]=-u;g[3]=n;g[4]=0;g[5]=0;return g},tJ:function(g,n){g[0]=n[0];g[1]=0;g[2]=0;g[3]=n[1];g[4]=0;g[5]=0;return g},uJ:function(g,n){g[0]=1;g[1]=0;g[2]=0;g[3]=1;g[4]=n[0];g[5]=n[1];return g},el:function(g){return"mat2d("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+")"},sJ:function(g){return Math.hypot(g[0],
g[1],g[2],g[3],g[4],g[5],1)},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];g[4]=n[4]+u[4];g[5]=n[5]+u[5];return g},js:b,KJ:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;g[4]=n[4]*u;g[5]=n[5]*u;return g},LJ:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+u[2]*w;g[3]=n[3]+u[3]*w;g[4]=n[4]+u[4]*w;g[5]=n[5]+u[5]*w;return g},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]&&g[4]===n[4]&&g[5]===n[5]},cd:function(g,
n){var u=g[0],w=g[1],y=g[2],C=g[3],D=g[4];g=g[5];var G=n[0],H=n[1],L=n[2],N=n[3],O=n[4];n=n[5];return Math.abs(u-G)<=1E-6*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(w-H)<=1E-6*Math.max(1,Math.abs(w),Math.abs(H))&&Math.abs(y-L)<=1E-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),Math.abs(N))&&Math.abs(D-O)<=1E-6*Math.max(1,Math.abs(D),Math.abs(O))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},Xm:f,sub:b}),Hb=Object.freeze({__proto__:null,create:d,Jca:function(g,
n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[4];g[4]=n[5];g[5]=n[6];g[6]=n[8];g[7]=n[9];g[8]=n[10];return g},clone:function(g){var n=new la(9);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];n[4]=g[4];n[5]=g[5];n[6]=g[6];n[7]=g[7];n[8]=g[8];return n},Ka:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=n[4];g[5]=n[5];g[6]=n[6];g[7]=n[7];g[8]=n[8];return g},Ad:function(g,n,u,w,y,C,D,G,H){var L=new la(9);L[0]=g;L[1]=n;L[2]=u;L[3]=w;L[4]=y;L[5]=C;L[6]=D;L[7]=G;L[8]=H;return L},set:function(g,n,u,w,y,C,D,
G,H,L){g[0]=n;g[1]=u;g[2]=w;g[3]=y;g[4]=C;g[5]=D;g[6]=G;g[7]=H;g[8]=L;return g},Nv:function(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},JU:function(g,n){if(g===n){var u=n[1],w=n[2],y=n[5];g[1]=n[3];g[2]=n[6];g[3]=u;g[5]=n[7];g[6]=w;g[7]=y}else g[0]=n[0],g[1]=n[3],g[2]=n[6],g[3]=n[1],g[4]=n[4],g[5]=n[7],g[6]=n[2],g[7]=n[5],g[8]=n[8];return g},Ov:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],H=n[6],L=n[7];n=n[8];var N=n*D-G*L,O=-n*C+G*H,T=L*C-D*H,R=u*N+
w*O+y*T;if(!R)return null;R=1/R;g[0]=N*R;g[1]=(-n*w+y*L)*R;g[2]=(G*w-y*D)*R;g[3]=O*R;g[4]=(n*u-y*H)*R;g[5]=(-G*u+y*C)*R;g[6]=T*R;g[7]=(-L*u+w*H)*R;g[8]=(D*u-w*C)*R;return g},gT:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],H=n[6],L=n[7];n=n[8];g[0]=D*n-G*L;g[1]=y*L-w*n;g[2]=w*G-y*D;g[3]=G*H-C*n;g[4]=u*n-y*H;g[5]=y*C-u*G;g[6]=C*L-D*H;g[7]=w*H-u*L;g[8]=u*D-w*C;return g},mJ:function(g){var n=g[3],u=g[4],w=g[5],y=g[6],C=g[7],D=g[8];return g[0]*(D*u-w*C)+g[1]*(-D*n+w*y)+g[2]*(C*n-u*y)},multiply:m,
translate:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7];n=n[8];var O=u[0];u=u[1];g[0]=w;g[1]=y;g[2]=C;g[3]=D;g[4]=G;g[5]=H;g[6]=O*w+u*D+L;g[7]=O*y+u*G+N;g[8]=O*C+u*H+n;return g},rotate:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7];n=n[8];var O=Math.sin(u);u=Math.cos(u);g[0]=u*w+O*D;g[1]=u*y+O*G;g[2]=u*C+O*H;g[3]=u*D-O*w;g[4]=u*G-O*y;g[5]=u*H-O*C;g[6]=L;g[7]=N;g[8]=n;return g},scale:function(g,n,u){var w=u[0];u=u[1];g[0]=w*n[0];g[1]=w*n[1];
g[2]=w*n[2];g[3]=u*n[3];g[4]=u*n[4];g[5]=u*n[5];g[6]=n[6];g[7]=n[7];g[8]=n[8];return g},uJ:function(g,n){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=n[0];g[7]=n[1];g[8]=1;return g},oB:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=u;g[2]=0;g[3]=-u;g[4]=n;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},tJ:function(g,n){g[0]=n[0];g[1]=0;g[2]=0;g[3]=0;g[4]=n[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g},Hna:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=0;g[3]=n[2];g[4]=n[3];g[5]=0;g[6]=n[4];g[7]=n[5];g[8]=1;
return g},Kca:function(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=u+u,D=w+w,G=y+y;u*=C;var H=w*C;w*=D;var L=y*C,N=y*D;y*=G;C*=n;D*=n;n*=G;g[0]=1-w-y;g[3]=H-n;g[6]=L+D;g[1]=H+n;g[4]=1-u-y;g[7]=N-C;g[2]=L-D;g[5]=N+C;g[8]=1-u-w;return g},Qoa:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],H=n[6],L=n[7],N=n[8],O=n[9],T=n[10],R=n[11],Z=n[12],Y=n[13],V=n[14];n=n[15];var pa=u*G-w*D,ka=u*H-y*D,na=u*L-C*D,oa=w*H-y*G,ma=w*L-C*G,J=y*L-C*H,K=N*Y-O*Z,S=N*V-T*Z;N=N*n-R*Z;var W=O*V-T*Y;O=O*n-R*Y;T=T*
n-R*V;R=pa*T-ka*O+na*W+oa*N-ma*S+J*K;if(!R)return null;R=1/R;g[0]=(G*T-H*O+L*W)*R;g[1]=(H*N-D*T-L*S)*R;g[2]=(D*O-G*N+L*K)*R;g[3]=(y*O-w*T-C*W)*R;g[4]=(u*T-y*N+C*S)*R;g[5]=(w*N-u*O-C*K)*R;g[6]=(Y*J-V*ma+n*oa)*R;g[7]=(V*na-Z*J-n*ka)*R;g[8]=(Z*ma-Y*na+n*pa)*R;return g},cpa:function(g,n,u){g[0]=2/n;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/u;g[5]=0;g[6]=-1;g[7]=1;g[8]=1;return g},el:function(g){return"mat3("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"},sJ:function(g){return Math.hypot(g[0],
g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8])},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];g[4]=n[4]+u[4];g[5]=n[5]+u[5];g[6]=n[6]+u[6];g[7]=n[7]+u[7];g[8]=n[8]+u[8];return g},js:k,KJ:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;g[4]=n[4]*u;g[5]=n[5]*u;g[6]=n[6]*u;g[7]=n[7]*u;g[8]=n[8]*u;return g},LJ:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+u[2]*w;g[3]=n[3]+u[3]*w;g[4]=n[4]+u[4]*w;g[5]=n[5]+u[5]*w;g[6]=n[6]+u[6]*w;g[7]=n[7]+u[7]*
w;g[8]=n[8]+u[8]*w;return g},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]&&g[4]===n[4]&&g[5]===n[5]&&g[6]===n[6]&&g[7]===n[7]&&g[8]===n[8]},cd:function(g,n){var u=g[0],w=g[1],y=g[2],C=g[3],D=g[4],G=g[5],H=g[6],L=g[7];g=g[8];var N=n[0],O=n[1],T=n[2],R=n[3],Z=n[4],Y=n[5],V=n[6],pa=n[7];n=n[8];return Math.abs(u-N)<=1E-6*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(w-O)<=1E-6*Math.max(1,Math.abs(w),Math.abs(O))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(C-
R)<=1E-6*Math.max(1,Math.abs(C),Math.abs(R))&&Math.abs(D-Z)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Z))&&Math.abs(G-Y)<=1E-6*Math.max(1,Math.abs(G),Math.abs(Y))&&Math.abs(H-V)<=1E-6*Math.max(1,Math.abs(H),Math.abs(V))&&Math.abs(L-pa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(pa))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},Xm:m,sub:k}),Ib=Object.freeze({__proto__:null,create:function(){var g=new la(16);la!=Float32Array&&(g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[11]=0,g[12]=
0,g[13]=0,g[14]=0);g[0]=1;g[5]=1;g[10]=1;g[15]=1;return g},clone:function(g){var n=new la(16);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];n[4]=g[4];n[5]=g[5];n[6]=g[6];n[7]=g[7];n[8]=g[8];n[9]=g[9];n[10]=g[10];n[11]=g[11];n[12]=g[12];n[13]=g[13];n[14]=g[14];n[15]=g[15];return n},Ka:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=n[4];g[5]=n[5];g[6]=n[6];g[7]=n[7];g[8]=n[8];g[9]=n[9];g[10]=n[10];g[11]=n[11];g[12]=n[12];g[13]=n[13];g[14]=n[14];g[15]=n[15];return g},Ad:function(g,n,u,w,y,C,D,
G,H,L,N,O,T,R,Z,Y){var V=new la(16);V[0]=g;V[1]=n;V[2]=u;V[3]=w;V[4]=y;V[5]=C;V[6]=D;V[7]=G;V[8]=H;V[9]=L;V[10]=N;V[11]=O;V[12]=T;V[13]=R;V[14]=Z;V[15]=Y;return V},set:function(g,n,u,w,y,C,D,G,H,L,N,O,T,R,Z,Y,V){g[0]=n;g[1]=u;g[2]=w;g[3]=y;g[4]=C;g[5]=D;g[6]=G;g[7]=H;g[8]=L;g[9]=N;g[10]=O;g[11]=T;g[12]=R;g[13]=Z;g[14]=Y;g[15]=V;return g},Nv:p,JU:function(g,n){if(g===n){var u=n[1],w=n[2],y=n[3],C=n[6],D=n[7],G=n[11];g[1]=n[4];g[2]=n[8];g[3]=n[12];g[4]=u;g[6]=n[9];g[7]=n[13];g[8]=w;g[9]=C;g[11]=n[14];
g[12]=y;g[13]=D;g[14]=G}else g[0]=n[0],g[1]=n[4],g[2]=n[8],g[3]=n[12],g[4]=n[1],g[5]=n[5],g[6]=n[9],g[7]=n[13],g[8]=n[2],g[9]=n[6],g[10]=n[10],g[11]=n[14],g[12]=n[3],g[13]=n[7],g[14]=n[11],g[15]=n[15];return g},Ov:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],H=n[6],L=n[7],N=n[8],O=n[9],T=n[10],R=n[11],Z=n[12],Y=n[13],V=n[14];n=n[15];var pa=u*G-w*D,ka=u*H-y*D,na=u*L-C*D,oa=w*H-y*G,ma=w*L-C*G,J=y*L-C*H,K=N*Y-O*Z,S=N*V-T*Z,W=N*n-R*Z,aa=O*V-T*Y,ha=O*n-R*Y,da=T*n-R*V,ia=pa*da-ka*ha+na*aa+
oa*W-ma*S+J*K;if(!ia)return null;ia=1/ia;g[0]=(G*da-H*ha+L*aa)*ia;g[1]=(y*ha-w*da-C*aa)*ia;g[2]=(Y*J-V*ma+n*oa)*ia;g[3]=(T*ma-O*J-R*oa)*ia;g[4]=(H*W-D*da-L*S)*ia;g[5]=(u*da-y*W+C*S)*ia;g[6]=(V*na-Z*J-n*ka)*ia;g[7]=(N*J-T*na+R*ka)*ia;g[8]=(D*ha-G*W+L*K)*ia;g[9]=(w*W-u*ha-C*K)*ia;g[10]=(Z*ma-Y*na+n*pa)*ia;g[11]=(O*na-N*ma-R*pa)*ia;g[12]=(G*S-D*aa-H*K)*ia;g[13]=(u*aa-w*S+y*K)*ia;g[14]=(Y*ka-Z*oa-V*pa)*ia;g[15]=(N*oa-O*ka+T*pa)*ia;return g},gT:function(g,n){var u=n[0],w=n[1],y=n[2],C=n[3],D=n[4],G=n[5],
H=n[6],L=n[7],N=n[8],O=n[9],T=n[10],R=n[11],Z=n[12],Y=n[13],V=n[14];n=n[15];g[0]=G*(T*n-R*V)-O*(H*n-L*V)+Y*(H*R-L*T);g[1]=-(w*(T*n-R*V)-O*(y*n-C*V)+Y*(y*R-C*T));g[2]=w*(H*n-L*V)-G*(y*n-C*V)+Y*(y*L-C*H);g[3]=-(w*(H*R-L*T)-G*(y*R-C*T)+O*(y*L-C*H));g[4]=-(D*(T*n-R*V)-N*(H*n-L*V)+Z*(H*R-L*T));g[5]=u*(T*n-R*V)-N*(y*n-C*V)+Z*(y*R-C*T);g[6]=-(u*(H*n-L*V)-D*(y*n-C*V)+Z*(y*L-C*H));g[7]=u*(H*R-L*T)-D*(y*R-C*T)+N*(y*L-C*H);g[8]=D*(O*n-R*Y)-N*(G*n-L*Y)+Z*(G*R-L*O);g[9]=-(u*(O*n-R*Y)-N*(w*n-C*Y)+Z*(w*R-C*O));
g[10]=u*(G*n-L*Y)-D*(w*n-C*Y)+Z*(w*L-C*G);g[11]=-(u*(G*R-L*O)-D*(w*R-C*O)+N*(w*L-C*G));g[12]=-(D*(O*V-T*Y)-N*(G*V-H*Y)+Z*(G*T-H*O));g[13]=u*(O*V-T*Y)-N*(w*V-y*Y)+Z*(w*T-y*O);g[14]=-(u*(G*V-H*Y)-D*(w*V-y*Y)+Z*(w*H-y*G));g[15]=u*(G*T-H*O)-D*(w*T-y*O)+N*(w*H-y*G);return g},mJ:function(g){var n=g[0],u=g[1],w=g[2],y=g[3],C=g[4],D=g[5],G=g[6],H=g[7],L=g[8],N=g[9],O=g[10],T=g[11],R=g[12],Z=g[13],Y=g[14];g=g[15];return(n*D-u*C)*(O*g-T*Y)-(n*G-w*C)*(N*g-T*Z)+(n*H-y*C)*(N*Y-O*Z)+(u*G-w*D)*(L*g-T*R)-(u*H-y*
D)*(L*Y-O*R)+(w*H-y*G)*(L*Z-N*R)},multiply:r,translate:function(g,n,u){var w=u[0],y=u[1];u=u[2];if(n===g)g[12]=n[0]*w+n[4]*y+n[8]*u+n[12],g[13]=n[1]*w+n[5]*y+n[9]*u+n[13],g[14]=n[2]*w+n[6]*y+n[10]*u+n[14],g[15]=n[3]*w+n[7]*y+n[11]*u+n[15];else{var C=n[0];var D=n[1];var G=n[2];var H=n[3];var L=n[4];var N=n[5];var O=n[6];var T=n[7];var R=n[8];var Z=n[9];var Y=n[10];var V=n[11];g[0]=C;g[1]=D;g[2]=G;g[3]=H;g[4]=L;g[5]=N;g[6]=O;g[7]=T;g[8]=R;g[9]=Z;g[10]=Y;g[11]=V;g[12]=C*w+L*y+R*u+n[12];g[13]=D*w+N*y+
Z*u+n[13];g[14]=G*w+O*y+Y*u+n[14];g[15]=H*w+T*y+V*u+n[15]}return g},scale:function(g,n,u){var w=u[0],y=u[1];u=u[2];g[0]=n[0]*w;g[1]=n[1]*w;g[2]=n[2]*w;g[3]=n[3]*w;g[4]=n[4]*y;g[5]=n[5]*y;g[6]=n[6]*y;g[7]=n[7]*y;g[8]=n[8]*u;g[9]=n[9]*u;g[10]=n[10]*u;g[11]=n[11]*u;g[12]=n[12];g[13]=n[13];g[14]=n[14];g[15]=n[15];return g},rotate:function(g,n,u,w){var y=w[0],C=w[1];w=w[2];var D=Math.hypot(y,C,w);if(1E-6>D)return null;D=1/D;y*=D;C*=D;w*=D;var G=Math.sin(u);var H=Math.cos(u);var L=1-H;u=n[0];D=n[1];var N=
n[2];var O=n[3];var T=n[4];var R=n[5];var Z=n[6];var Y=n[7];var V=n[8];var pa=n[9];var ka=n[10];var na=n[11];var oa=y*y*L+H;var ma=C*y*L+w*G;var J=w*y*L-C*G;var K=y*C*L-w*G;var S=C*C*L+H;var W=w*C*L+y*G;var aa=y*w*L+C*G;y=C*w*L-y*G;C=w*w*L+H;g[0]=u*oa+T*ma+V*J;g[1]=D*oa+R*ma+pa*J;g[2]=N*oa+Z*ma+ka*J;g[3]=O*oa+Y*ma+na*J;g[4]=u*K+T*S+V*W;g[5]=D*K+R*S+pa*W;g[6]=N*K+Z*S+ka*W;g[7]=O*K+Y*S+na*W;g[8]=u*aa+T*y+V*C;g[9]=D*aa+R*y+pa*C;g[10]=N*aa+Z*y+ka*C;g[11]=O*aa+Y*y+na*C;n!==g&&(g[12]=n[12],g[13]=n[13],
g[14]=n[14],g[15]=n[15]);return g},$J:function(g,n,u){var w=Math.sin(u);u=Math.cos(u);var y=n[4],C=n[5],D=n[6],G=n[7],H=n[8],L=n[9],N=n[10],O=n[11];n!==g&&(g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[12]=n[12],g[13]=n[13],g[14]=n[14],g[15]=n[15]);g[4]=y*u+H*w;g[5]=C*u+L*w;g[6]=D*u+N*w;g[7]=G*u+O*w;g[8]=H*u-y*w;g[9]=L*u-C*w;g[10]=N*u-D*w;g[11]=O*u-G*w;return g},aK:function(g,n,u){var w=Math.sin(u);u=Math.cos(u);var y=n[0],C=n[1],D=n[2],G=n[3],H=n[8],L=n[9],N=n[10],O=n[11];n!==g&&(g[4]=n[4],g[5]=n[5],
g[6]=n[6],g[7]=n[7],g[12]=n[12],g[13]=n[13],g[14]=n[14],g[15]=n[15]);g[0]=y*u-H*w;g[1]=C*u-L*w;g[2]=D*u-N*w;g[3]=G*u-O*w;g[8]=y*w+H*u;g[9]=C*w+L*u;g[10]=D*w+N*u;g[11]=G*w+O*u;return g},bK:function(g,n,u){var w=Math.sin(u);u=Math.cos(u);var y=n[0],C=n[1],D=n[2],G=n[3],H=n[4],L=n[5],N=n[6],O=n[7];n!==g&&(g[8]=n[8],g[9]=n[9],g[10]=n[10],g[11]=n[11],g[12]=n[12],g[13]=n[13],g[14]=n[14],g[15]=n[15]);g[0]=y*u+H*w;g[1]=C*u+L*w;g[2]=D*u+N*w;g[3]=G*u+O*w;g[4]=H*u-y*w;g[5]=L*u-C*w;g[6]=N*u-D*w;g[7]=O*u-G*w;
return g},uJ:function(g,n){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=n[0];g[13]=n[1];g[14]=n[2];g[15]=1;return g},tJ:function(g,n){g[0]=n[0];g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=n[1];g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=n[2];g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},oB:function(g,n,u){var w=u[0],y=u[1];u=u[2];var C=Math.hypot(w,y,u);if(1E-6>C)return null;C=1/C;w*=C;y*=C;u*=C;C=Math.sin(n);n=Math.cos(n);var D=1-n;g[0]=w*w*D+n;g[1]=y*w*D+u*C;g[2]=u*
w*D-y*C;g[3]=0;g[4]=w*y*D-u*C;g[5]=y*y*D+n;g[6]=u*y*D+w*C;g[7]=0;g[8]=w*u*D+y*C;g[9]=y*u*D-w*C;g[10]=u*u*D+n;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Nna:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=n;g[6]=u;g[7]=0;g[8]=0;g[9]=-u;g[10]=n;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Ona:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=0;g[2]=-u;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=u;g[9]=0;g[10]=n;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=
1;return g},Pna:function(g,n){var u=Math.sin(n);n=Math.cos(n);g[0]=n;g[1]=u;g[2]=0;g[3]=0;g[4]=-u;g[5]=n;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Lca:l,Jna:function(g,n){var u=new la(3),w=-n[0],y=-n[1],C=-n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7],O=w*w+y*y+C*C+D*D;0<O?(u[0]=2*(G*D+N*w+H*C-L*y)/O,u[1]=2*(H*D+N*y+L*w-G*C)/O,u[2]=2*(L*D+N*C+G*y-H*w)/O):(u[0]=2*(G*D+N*w+H*C-L*y),u[1]=2*(H*D+N*y+L*w-G*C),u[2]=2*(L*D+N*C+G*y-H*w));l(g,n,u);return g},Oca:h,aoa:q,
$na:t,Kna:function(g,n,u,w){var y=n[0],C=n[1],D=n[2],G=n[3],H=y+y,L=C+C,N=D+D;n=y*H;var O=y*L;y*=N;var T=C*L;C*=N;D*=N;H*=G;L*=G;G*=N;N=w[0];var R=w[1];w=w[2];g[0]=(1-(T+D))*N;g[1]=(O+G)*N;g[2]=(y-L)*N;g[3]=0;g[4]=(O-G)*R;g[5]=(1-(n+D))*R;g[6]=(C+H)*R;g[7]=0;g[8]=(y+L)*w;g[9]=(C-H)*w;g[10]=(1-(n+T))*w;g[11]=0;g[12]=u[0];g[13]=u[1];g[14]=u[2];g[15]=1;return g},Lna:function(g,n,u,w,y){var C=n[0],D=n[1],G=n[2],H=n[3],L=C+C,N=D+D,O=G+G;n=C*L;var T=C*N,R=C*O;C=D*N;D*=O;var Z=G*O;G=H*L;N*=H;var Y=H*O,V=
w[0],pa=w[1];O=w[2];w=y[0];H=y[1];y=y[2];L=(1-(C+Z))*V;var ka=(T+Y)*V;V*=R-N;T=(T-Y)*pa;Z=(1-(n+Z))*pa;pa*=D+G;R=(R+N)*O;D=(D-G)*O;n=(1-(n+C))*O;g[0]=L;g[1]=ka;g[2]=V;g[3]=0;g[4]=T;g[5]=Z;g[6]=pa;g[7]=0;g[8]=R;g[9]=D;g[10]=n;g[11]=0;g[12]=u[0]+w-(L*w+T*H+R*y);g[13]=u[1]+H-(ka*w+Z*H+D*y);g[14]=u[2]+y-(V*w+pa*H+n*y);g[15]=1;return g},Kca:function(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=u+u,D=w+w,G=y+y;u*=C;var H=w*C;w*=D;var L=y*C,N=y*D;y*=G;C*=n;D*=n;n*=G;g[0]=1-w-y;g[1]=H+n;g[2]=L-D;g[3]=0;g[4]=
H-n;g[5]=1-u-y;g[6]=N+C;g[7]=0;g[8]=L+D;g[9]=N-C;g[10]=1-u-w;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g},Qna:function(g,n,u,w,y,C,D){var G=1/(u-n),H=1/(y-w),L=1/(C-D);g[0]=2*C*G;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*C*H;g[6]=0;g[7]=0;g[8]=(u+n)*G;g[9]=(y+w)*H;g[10]=(D+C)*L;g[11]=-1;g[12]=0;g[13]=0;g[14]=D*C*2*L;g[15]=0;return g},perspective:function(g,n,u,w,y){n=1/Math.tan(n/2);g[0]=n/u;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=n;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!=y&&Infinity!==
y?(u=1/(w-y),g[10]=(y+w)*u,g[14]=2*y*w*u):(g[10]=-1,g[14]=-2*w);return g},Yoa:function(g,n,u,w){var y=Math.tan(n.qqa*Math.PI/180),C=Math.tan(n.una*Math.PI/180),D=Math.tan(n.Eoa*Math.PI/180);n=Math.tan(n.wpa*Math.PI/180);var G=2/(D+n),H=2/(y+C);g[0]=G;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=H;g[6]=0;g[7]=0;g[8]=-((D-n)*G*.5);g[9]=(y-C)*H*.5;g[10]=w/(u-w);g[11]=-1;g[12]=0;g[13]=0;g[14]=w*u/(u-w);g[15]=0;return g},Xoa:function(g,n,u,w,y,C,D){var G=1/(n-u),H=1/(w-y),L=1/(C-D);g[0]=-2*G;g[1]=0;g[2]=0;g[3]=0;
g[4]=0;g[5]=-2*H;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*L;g[11]=0;g[12]=(n+u)*G;g[13]=(y+w)*H;g[14]=(D+C)*L;g[15]=1;return g},GJ:function(g,n,u,w){var y=n[0],C=n[1];n=n[2];var D=w[0];var G=w[1];var H=w[2];var L=u[0];w=u[1];var N=u[2];if(1E-6>Math.abs(y-L)&&1E-6>Math.abs(C-w)&&1E-6>Math.abs(n-N))return p(g);u=y-L;w=C-w;L=n-N;var O=1/Math.hypot(u,w,L);u*=O;w*=O;L*=O;N=G*L-H*w;H=H*u-D*L;D=D*w-G*u;(O=Math.hypot(N,H,D))?(O=1/O,N*=O,H*=O,D*=O):D=H=N=0;G=w*D-L*H;var T=L*N-u*D;var R=u*H-w*N;(O=Math.hypot(G,
T,R))?(O=1/O,G*=O,T*=O,R*=O):R=T=G=0;g[0]=N;g[1]=G;g[2]=u;g[3]=0;g[4]=H;g[5]=T;g[6]=w;g[7]=0;g[8]=D;g[9]=R;g[10]=L;g[11]=0;g[12]=-(N*y+H*C+D*n);g[13]=-(G*y+T*C+R*n);g[14]=-(u*y+w*C+L*n);g[15]=1;return g},fqa:function(g,n,u,w){var y=n[0],C=n[1];n=n[2];var D=w[0],G=w[1],H=w[2];w=y-u[0];var L=C-u[1];u=n-u[2];var N=w*w+L*L+u*u;0<N&&(N=1/Math.sqrt(N),w*=N,L*=N,u*=N);var O=G*u-H*L;H=H*w-D*u;D=D*L-G*w;N=O*O+H*H+D*D;0<N&&(N=1/Math.sqrt(N),O*=N,H*=N,D*=N);g[0]=O;g[1]=H;g[2]=D;g[3]=0;g[4]=L*D-u*H;g[5]=u*O-
w*D;g[6]=w*H-L*O;g[7]=0;g[8]=w;g[9]=L;g[10]=u;g[11]=0;g[12]=y;g[13]=C;g[14]=n;g[15]=1;return g},el:function(g){return"mat4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"},sJ:function(g){return Math.hypot(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];g[4]=n[4]+
u[4];g[5]=n[5]+u[5];g[6]=n[6]+u[6];g[7]=n[7]+u[7];g[8]=n[8]+u[8];g[9]=n[9]+u[9];g[10]=n[10]+u[10];g[11]=n[11]+u[11];g[12]=n[12]+u[12];g[13]=n[13]+u[13];g[14]=n[14]+u[14];g[15]=n[15]+u[15];return g},js:v,KJ:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;g[4]=n[4]*u;g[5]=n[5]*u;g[6]=n[6]*u;g[7]=n[7]*u;g[8]=n[8]*u;g[9]=n[9]*u;g[10]=n[10]*u;g[11]=n[11]*u;g[12]=n[12]*u;g[13]=n[13]*u;g[14]=n[14]*u;g[15]=n[15]*u;return g},LJ:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+
u[2]*w;g[3]=n[3]+u[3]*w;g[4]=n[4]+u[4]*w;g[5]=n[5]+u[5]*w;g[6]=n[6]+u[6]*w;g[7]=n[7]+u[7]*w;g[8]=n[8]+u[8]*w;g[9]=n[9]+u[9]*w;g[10]=n[10]+u[10]*w;g[11]=n[11]+u[11]*w;g[12]=n[12]+u[12]*w;g[13]=n[13]+u[13]*w;g[14]=n[14]+u[14]*w;g[15]=n[15]+u[15]*w;return g},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]&&g[4]===n[4]&&g[5]===n[5]&&g[6]===n[6]&&g[7]===n[7]&&g[8]===n[8]&&g[9]===n[9]&&g[10]===n[10]&&g[11]===n[11]&&g[12]===n[12]&&g[13]===n[13]&&g[14]===n[14]&&g[15]===n[15]},cd:function(g,
n){var u=g[0],w=g[1],y=g[2],C=g[3],D=g[4],G=g[5],H=g[6],L=g[7],N=g[8],O=g[9],T=g[10],R=g[11],Z=g[12],Y=g[13],V=g[14];g=g[15];var pa=n[0],ka=n[1],na=n[2],oa=n[3],ma=n[4],J=n[5],K=n[6],S=n[7],W=n[8],aa=n[9],ha=n[10],da=n[11],ia=n[12],ra=n[13],va=n[14];n=n[15];return Math.abs(u-pa)<=1E-6*Math.max(1,Math.abs(u),Math.abs(pa))&&Math.abs(w-ka)<=1E-6*Math.max(1,Math.abs(w),Math.abs(ka))&&Math.abs(y-na)<=1E-6*Math.max(1,Math.abs(y),Math.abs(na))&&Math.abs(C-oa)<=1E-6*Math.max(1,Math.abs(C),Math.abs(oa))&&
Math.abs(D-ma)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ma))&&Math.abs(G-J)<=1E-6*Math.max(1,Math.abs(G),Math.abs(J))&&Math.abs(H-K)<=1E-6*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(L-S)<=1E-6*Math.max(1,Math.abs(L),Math.abs(S))&&Math.abs(N-W)<=1E-6*Math.max(1,Math.abs(N),Math.abs(W))&&Math.abs(O-aa)<=1E-6*Math.max(1,Math.abs(O),Math.abs(aa))&&Math.abs(T-ha)<=1E-6*Math.max(1,Math.abs(T),Math.abs(ha))&&Math.abs(R-da)<=1E-6*Math.max(1,Math.abs(R),Math.abs(da))&&Math.abs(Z-ia)<=1E-6*Math.max(1,Math.abs(Z),
Math.abs(ia))&&Math.abs(Y-ra)<=1E-6*Math.max(1,Math.abs(Y),Math.abs(ra))&&Math.abs(V-va)<=1E-6*Math.max(1,Math.abs(V),Math.abs(va))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},Xm:r,sub:v}),Ua=function(){var g=z();return function(n,u,w,y,C,D){u||(u=3);w||(w=0);for(y=y?Math.min(y*u+w,n.length):n.length;w<y;w+=u)g[0]=n[w],g[1]=n[w+1],g[2]=n[w+2],C(g,g,D),n[w]=g[0],n[w+1]=g[1],n[w+2]=g[2];return n}}();Ua=Object.freeze({__proto__:null,create:z,clone:function(g){var n=new la(3);n[0]=g[0];
n[1]=g[1];n[2]=g[2];return n},length:A,Ad:F,Ka:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];return g},set:function(g,n,u,w){g[0]=n;g[1]=u;g[2]=w;return g},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];return g},js:x,multiply:E,Wk:I,ceil:function(g,n){g[0]=Math.ceil(n[0]);g[1]=Math.ceil(n[1]);g[2]=Math.ceil(n[2]);return g},floor:function(g,n){g[0]=Math.floor(n[0]);g[1]=Math.floor(n[1]);g[2]=Math.floor(n[2]);return g},min:function(g,n,u){g[0]=Math.min(n[0],u[0]);g[1]=Math.min(n[1],
u[1]);g[2]=Math.min(n[2],u[2]);return g},max:function(g,n,u){g[0]=Math.max(n[0],u[0]);g[1]=Math.max(n[1],u[1]);g[2]=Math.max(n[2],u[2]);return g},round:function(g,n){g[0]=Math.round(n[0]);g[1]=Math.round(n[1]);g[2]=Math.round(n[2]);return g},scale:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;return g},pU:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+u[2]*w;return g},Iv:M,DU:P,QB:Q,bU:function(g,n){g[0]=-n[0];g[1]=-n[1];g[2]=-n[2];return g},inverse:function(g,n){g[0]=1/n[0];
g[1]=1/n[1];g[2]=1/n[2];return g},normalize:U,lB:ba,wT:X,Ce:function(g,n,u,w){var y=n[0],C=n[1];n=n[2];g[0]=y+w*(u[0]-y);g[1]=C+w*(u[1]-C);g[2]=n+w*(u[2]-n);return g},eoa:function(g,n,u,w,y,C){var D=C*C,G=D*(2*C-3)+1,H=D*(C-2)+C,L=D*(C-1);C=D*(3-2*C);g[0]=n[0]*G+u[0]*H+w[0]*L+y[0]*C;g[1]=n[1]*G+u[1]*H+w[1]*L+y[1]*C;g[2]=n[2]*G+u[2]*H+w[2]*L+y[2]*C;return g},dna:function(g,n,u,w,y,C){var D=1-C,G=D*D,H=C*C,L=G*D;G*=3*C;D*=3*H;C*=H;g[0]=n[0]*L+u[0]*G+w[0]*D+y[0]*C;g[1]=n[1]*L+u[1]*G+w[1]*D+y[1]*C;g[2]=
n[2]*L+u[2]*G+w[2]*D+y[2]*C;return g},random:function(g,n){n=n||1;var u=2*Aa()*Math.PI,w=2*Aa()-1,y=Math.sqrt(1-w*w)*n;g[0]=Math.cos(u)*y;g[1]=Math.sin(u)*y;g[2]=w*n;return g},HU:function(g,n,u){var w=n[0],y=n[1];n=n[2];var C=u[3]*w+u[7]*y+u[11]*n+u[15];C=C||1;g[0]=(u[0]*w+u[4]*y+u[8]*n+u[12])/C;g[1]=(u[1]*w+u[5]*y+u[9]*n+u[13])/C;g[2]=(u[2]*w+u[6]*y+u[10]*n+u[14])/C;return g},rea:function(g,n,u){var w=n[0],y=n[1];n=n[2];g[0]=w*u[0]+y*u[3]+n*u[6];g[1]=w*u[1]+y*u[4]+n*u[7];g[2]=w*u[2]+y*u[5]+n*u[8];
return g},sea:function(g,n,u){var w=u[0],y=u[1],C=u[2],D=n[0],G=n[1];n=n[2];var H=y*n-C*G,L=C*D-w*n,N=w*G-y*D;u=2*u[3];g[0]=D+H*u+2*(y*N-C*L);g[1]=G+L*u+2*(C*H-w*N);g[2]=n+N*u+2*(w*L-y*H);return g},$J:function(g,n,u,w){var y=[],C=[];y[0]=n[0]-u[0];y[1]=n[1]-u[1];y[2]=n[2]-u[2];C[0]=y[0];C[1]=y[1]*Math.cos(w)-y[2]*Math.sin(w);C[2]=y[1]*Math.sin(w)+y[2]*Math.cos(w);g[0]=C[0]+u[0];g[1]=C[1]+u[1];g[2]=C[2]+u[2];return g},aK:function(g,n,u,w){var y=[],C=[];y[0]=n[0]-u[0];y[1]=n[1]-u[1];y[2]=n[2]-u[2];
C[0]=y[2]*Math.sin(w)+y[0]*Math.cos(w);C[1]=y[1];C[2]=y[2]*Math.cos(w)-y[0]*Math.sin(w);g[0]=C[0]+u[0];g[1]=C[1]+u[1];g[2]=C[2]+u[2];return g},bK:function(g,n,u,w){var y=[],C=[];y[0]=n[0]-u[0];y[1]=n[1]-u[1];y[2]=n[2]-u[2];C[0]=y[0]*Math.cos(w)-y[1]*Math.sin(w);C[1]=y[0]*Math.sin(w)+y[1]*Math.cos(w);C[2]=y[2];g[0]=C[0]+u[0];g[1]=C[1]+u[1];g[2]=C[2]+u[2];return g},angle:function(g,n){var u=g[0],w=g[1],y=g[2],C=n[0],D=n[1],G=n[2];g=(u=Math.sqrt(u*u+w*w+y*y)*Math.sqrt(C*C+D*D+G*G))&&ba(g,n)/u;return Math.acos(Math.min(Math.max(g,
-1),1))},TU:function(g){g[0]=0;g[1]=0;g[2]=0;return g},el:function(g){return"vec3("+g[0]+", "+g[1]+", "+g[2]+")"},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]},cd:function(g,n){var u=g[0],w=g[1];g=g[2];var y=n[0],C=n[1];n=n[2];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(w-C)<=1E-6*Math.max(1,Math.abs(w),Math.abs(C))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},sub:x,Xm:E,AT:I,yT:M,CU:P,$r:A,PB:Q,forEach:Ua});var Wa=function(){var g=fa();return function(n,
u,w,y,C,D){u||(u=4);w||(w=0);for(y=y?Math.min(y*u+w,n.length):n.length;w<y;w+=u)g[0]=n[w],g[1]=n[w+1],g[2]=n[w+2],g[3]=n[w+3],C(g,g,D),n[w]=g[0],n[w+1]=g[1],n[w+2]=g[2],n[w+3]=g[3];return n}}();Wa=Object.freeze({__proto__:null,create:fa,clone:sa,Ad:ua,Ka:ca,set:qa,add:ea,js:ya,multiply:Na,Wk:cb,ceil:function(g,n){g[0]=Math.ceil(n[0]);g[1]=Math.ceil(n[1]);g[2]=Math.ceil(n[2]);g[3]=Math.ceil(n[3]);return g},floor:function(g,n){g[0]=Math.floor(n[0]);g[1]=Math.floor(n[1]);g[2]=Math.floor(n[2]);g[3]=Math.floor(n[3]);
return g},min:function(g,n,u){g[0]=Math.min(n[0],u[0]);g[1]=Math.min(n[1],u[1]);g[2]=Math.min(n[2],u[2]);g[3]=Math.min(n[3],u[3]);return g},max:function(g,n,u){g[0]=Math.max(n[0],u[0]);g[1]=Math.max(n[1],u[1]);g[2]=Math.max(n[2],u[2]);g[3]=Math.max(n[3],u[3]);return g},round:function(g,n){g[0]=Math.round(n[0]);g[1]=Math.round(n[1]);g[2]=Math.round(n[2]);g[3]=Math.round(n[3]);return g},scale:Sa,pU:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;g[2]=n[2]+u[2]*w;g[3]=n[3]+u[3]*w;return g},Iv:db,
DU:Ta,length:Ga,QB:Ea,bU:function(g,n){g[0]=-n[0];g[1]=-n[1];g[2]=-n[2];g[3]=-n[3];return g},inverse:function(g,n){g[0]=1/n[0];g[1]=1/n[1];g[2]=1/n[2];g[3]=1/n[3];return g},normalize:Oa,lB:La,wT:function(g,n,u,w){var y=u[0]*w[1]-u[1]*w[0],C=u[0]*w[2]-u[2]*w[0],D=u[0]*w[3]-u[3]*w[0],G=u[1]*w[2]-u[2]*w[1],H=u[1]*w[3]-u[3]*w[1];u=u[2]*w[3]-u[3]*w[2];w=n[0];var L=n[1],N=n[2];n=n[3];g[0]=L*u-N*H+n*G;g[1]=-(w*u)+N*D-n*C;g[2]=w*H-L*D+n*y;g[3]=-(w*G)+L*C-N*y;return g},Ce:eb,random:function(g,n){n=n||1;do{var u=
2*Aa()-1;var w=2*Aa()-1;var y=u*u+w*w}while(1<=y);do{var C=2*Aa()-1;var D=2*Aa()-1;var G=C*C+D*D}while(1<=G);y=Math.sqrt((1-y)/G);g[0]=n*u;g[1]=n*w;g[2]=n*C*y;g[3]=n*D*y;return g},HU:function(g,n,u){var w=n[0],y=n[1],C=n[2];n=n[3];g[0]=u[0]*w+u[4]*y+u[8]*C+u[12]*n;g[1]=u[1]*w+u[5]*y+u[9]*C+u[13]*n;g[2]=u[2]*w+u[6]*y+u[10]*C+u[14]*n;g[3]=u[3]*w+u[7]*y+u[11]*C+u[15]*n;return g},sea:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=u[0],G=u[1],H=u[2];u=u[3];var L=u*w+G*C-H*y,N=u*y+H*w-D*C,O=u*C+D*y-G*w;w=-D*
w-G*y-H*C;g[0]=L*u+w*-D+N*-H-O*-G;g[1]=N*u+w*-G+O*-D-L*-H;g[2]=O*u+w*-H+L*-G-N*-D;g[3]=n[3];return g},TU:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=0;return g},el:function(g){return"vec4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},Vm:fb,cd:gb,sub:ya,Xm:Na,AT:cb,yT:db,CU:Ta,$r:Ga,PB:Ea,forEach:Wa});var Xa=function(){var g=z(),n=F(1,0,0),u=F(0,1,0);return function(w,y,C){var D=ba(y,C);if(-.999999>D)return X(g,n,y),1E-6>A(g)&&X(g,u,y),U(g,g),hb(w,g,Math.PI),w;if(.999999<D)return w[0]=0,w[1]=0,w[2]=0,w[3]=1,
w;X(g,y,C);w[0]=g[0];w[1]=g[1];w[2]=g[2];w[3]=1+D;return Oa(w,w)}}(),Ya=function(){var g=Pa(),n=Pa();return function(u,w,y,C,D,G){Qa(g,w,D,G);Qa(n,y,C,G);Qa(u,g,n,2*G*(1-G));return u}}(),Ma=function(){var g=d();return function(n,u,w,y){g[0]=w[0];g[3]=w[1];g[6]=w[2];g[1]=y[0];g[4]=y[1];g[7]=y[2];g[2]=-u[0];g[5]=-u[1];g[8]=-u[2];return Oa(n,ob(n,g))}}();Xa=Object.freeze({__proto__:null,create:Pa,Nv:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;return g},Mpa:hb,Xna:function(g,n){var u=2*Math.acos(n[3]),w=
Math.sin(u/2);1E-6<w?(g[0]=n[0]/w,g[1]=n[1]/w,g[2]=n[2]/w):(g[0]=1,g[1]=0,g[2]=0);return u},Vna:function(g,n){g=La(g,n);return Math.acos(2*g*g-1)},multiply:ib,$J:jb,aK:kb,bK:lb,ena:function(g,n){var u=n[0],w=n[1];n=n[2];g[0]=u;g[1]=w;g[2]=n;g[3]=Math.sqrt(Math.abs(1-u*u-w*w-n*n));return g},exp:mb,oda:nb,pow:function(g,n,u){nb(g,n);Sa(g,g,u);mb(g,g);return g},aqa:Qa,random:function(g){var n=Aa(),u=Aa(),w=Aa(),y=Math.sqrt(1-n);n=Math.sqrt(n);g[0]=y*Math.sin(2*Math.PI*u);g[1]=y*Math.cos(2*Math.PI*u);
g[2]=n*Math.sin(2*Math.PI*w);g[3]=n*Math.cos(2*Math.PI*w);return g},Ov:function(g,n){var u=n[0],w=n[1],y=n[2];n=n[3];var C=u*u+w*w+y*y+n*n;C=C?1/C:0;g[0]=-u*C;g[1]=-w*C;g[2]=-y*C;g[3]=n*C;return g},rca:function(g,n){g[0]=-n[0];g[1]=-n[1];g[2]=-n[2];g[3]=n[3];return g},Ina:ob,Gna:function(g,n,u,w){var y=.5*Math.PI/180;n*=y;u*=y;w*=y;y=Math.sin(n);n=Math.cos(n);var C=Math.sin(u);u=Math.cos(u);var D=Math.sin(w);w=Math.cos(w);g[0]=y*u*w-n*C*D;g[1]=n*C*w+y*u*D;g[2]=n*u*D-y*C*w;g[3]=n*u*w+y*C*D;return g},
el:function(g){return"quat("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"},clone:sa,Ad:ua,Ka:ca,set:qa,add:ea,Xm:ib,scale:Sa,lB:La,Ce:eb,length:Ga,$r:Ga,QB:Ea,PB:Ea,normalize:Oa,Vm:fb,cd:gb,Apa:Xa,bqa:Ya,Lpa:Ma});Ya=Object.freeze({__proto__:null,create:function(){var g=new la(8);la!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0,g[4]=0,g[5]=0,g[6]=0,g[7]=0);g[3]=1;return g},clone:function(g){var n=new la(8);n[0]=g[0];n[1]=g[1];n[2]=g[2];n[3]=g[3];n[4]=g[4];n[5]=g[5];n[6]=g[6];n[7]=g[7];return n},Ad:function(g,n,u,
w,y,C,D,G){var H=new la(8);H[0]=g;H[1]=n;H[2]=u;H[3]=w;H[4]=y;H[5]=C;H[6]=D;H[7]=G;return H},Mna:function(g,n,u,w,y,C,D){var G=new la(8);G[0]=g;G[1]=n;G[2]=u;G[3]=w;y*=.5;C*=.5;D*=.5;G[4]=y*w+C*u-D*n;G[5]=C*w+D*g-y*u;G[6]=D*w+y*n-C*g;G[7]=-y*g-C*n-D*u;return G},Lca:pb,uJ:function(g,n){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=.5*n[0];g[5]=.5*n[1];g[6]=.5*n[2];g[7]=0;return g},oB:function(g,n){g[0]=n[0];g[1]=n[1];g[2]=n[2];g[3]=n[3];g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},Jca:function(g,n){var u=Pa();t(u,n);
var w=new la(3);h(w,n);pb(g,u,w);return g},Ka:qb,Nv:function(g){g[0]=0;g[1]=0;g[2]=0;g[3]=1;g[4]=0;g[5]=0;g[6]=0;g[7]=0;return g},set:function(g,n,u,w,y,C,D,G,H){g[0]=n;g[1]=u;g[2]=w;g[3]=y;g[4]=C;g[5]=D;g[6]=G;g[7]=H;return g},Zna:ca,Yna:function(g,n){g[0]=n[4];g[1]=n[5];g[2]=n[6];g[3]=n[7];return g},Wpa:ca,Npa:function(g,n){g[4]=n[0];g[5]=n[1];g[6]=n[2];g[7]=n[3];return g},Oca:function(g,n){var u=n[4],w=n[5],y=n[6],C=n[7],D=-n[0],G=-n[1],H=-n[2];n=n[3];g[0]=2*(u*n+C*D+w*H-y*G);g[1]=2*(w*n+C*G+y*
D-u*H);g[2]=2*(y*n+C*H+u*G-w*D);return g},translate:function(g,n,u){var w=n[0],y=n[1],C=n[2],D=n[3],G=.5*u[0],H=.5*u[1];u=.5*u[2];var L=n[4],N=n[5],O=n[6];n=n[7];g[0]=w;g[1]=y;g[2]=C;g[3]=D;g[4]=D*G+y*u-C*H+L;g[5]=D*H+C*G-w*u+N;g[6]=D*u+w*H-y*G+O;g[7]=-w*G-y*H-C*u+n;return g},$J:function(g,n,u){var w=-n[0],y=-n[1],C=-n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7],O=G*D+N*w+H*C-L*y,T=H*D+N*y+L*w-G*C,R=L*D+N*C+G*y-H*w;G=N*D-G*w-H*y-L*C;jb(g,n,u);w=g[0];y=g[1];C=g[2];D=g[3];g[4]=O*D+G*w+T*C-R*y;g[5]=T*D+G*
y+R*w-O*C;g[6]=R*D+G*C+O*y-T*w;g[7]=G*D-O*w-T*y-R*C;return g},aK:function(g,n,u){var w=-n[0],y=-n[1],C=-n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7],O=G*D+N*w+H*C-L*y,T=H*D+N*y+L*w-G*C,R=L*D+N*C+G*y-H*w;G=N*D-G*w-H*y-L*C;kb(g,n,u);w=g[0];y=g[1];C=g[2];D=g[3];g[4]=O*D+G*w+T*C-R*y;g[5]=T*D+G*y+R*w-O*C;g[6]=R*D+G*C+O*y-T*w;g[7]=G*D-O*w-T*y-R*C;return g},bK:function(g,n,u){var w=-n[0],y=-n[1],C=-n[2],D=n[3],G=n[4],H=n[5],L=n[6],N=n[7],O=G*D+N*w+H*C-L*y,T=H*D+N*y+L*w-G*C,R=L*D+N*C+G*y-H*w;G=N*D-G*w-H*y-L*C;
lb(g,n,u);w=g[0];y=g[1];C=g[2];D=g[3];g[4]=O*D+G*w+T*C-R*y;g[5]=T*D+G*y+R*w-O*C;g[6]=R*D+G*C+O*y-T*w;g[7]=G*D-O*w-T*y-R*C;return g},ypa:function(g,n,u){var w=u[0],y=u[1],C=u[2];u=u[3];var D=n[0],G=n[1],H=n[2],L=n[3];g[0]=D*u+L*w+G*C-H*y;g[1]=G*u+L*y+H*w-D*C;g[2]=H*u+L*C+D*y-G*w;g[3]=L*u-D*w-G*y-H*C;D=n[4];G=n[5];H=n[6];L=n[7];g[4]=D*u+L*w+G*C-H*y;g[5]=G*u+L*y+H*w-D*C;g[6]=H*u+L*C+D*y-G*w;g[7]=L*u-D*w-G*y-H*C;return g},zpa:function(g,n,u){var w=n[0],y=n[1],C=n[2];n=n[3];var D=u[0],G=u[1],H=u[2],L=
u[3];g[0]=w*L+n*D+y*H-C*G;g[1]=y*L+n*G+C*D-w*H;g[2]=C*L+n*H+w*G-y*D;g[3]=n*L-w*D-y*G-C*H;D=u[4];G=u[5];H=u[6];L=u[7];g[4]=w*L+n*D+y*H-C*G;g[5]=y*L+n*G+C*D-w*H;g[6]=C*L+n*H+w*G-y*D;g[7]=n*L-w*D-y*G-C*H;return g},xpa:function(g,n,u,w){if(1E-6>Math.abs(w))return qb(g,n);var y=Math.hypot(u[0],u[1],u[2]);w*=.5;var C=Math.sin(w),D=C*u[0]/y,G=C*u[1]/y;u=C*u[2]/y;w=Math.cos(w);y=n[0];C=n[1];var H=n[2],L=n[3];g[0]=y*w+L*D+C*u-H*G;g[1]=C*w+L*G+H*D-y*u;g[2]=H*w+L*u+y*G-C*D;g[3]=L*w-y*D-C*G-H*u;y=n[4];C=n[5];
H=n[6];n=n[7];g[4]=y*w+n*D+C*u-H*G;g[5]=C*w+n*G+H*D-y*u;g[6]=H*w+n*u+y*G-C*D;g[7]=n*w-y*D-C*G-H*u;return g},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];g[2]=n[2]+u[2];g[3]=n[3]+u[3];g[4]=n[4]+u[4];g[5]=n[5]+u[5];g[6]=n[6]+u[6];g[7]=n[7]+u[7];return g},multiply:rb,Xm:rb,scale:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;g[2]=n[2]*u;g[3]=n[3]*u;g[4]=n[4]*u;g[5]=n[5]*u;g[6]=n[6]*u;g[7]=n[7]*u;return g},lB:La,Ce:function(g,n,u,w){var y=1-w;0>La(n,u)&&(w=-w);g[0]=n[0]*y+u[0]*w;g[1]=n[1]*y+u[1]*w;g[2]=
n[2]*y+u[2]*w;g[3]=n[3]*y+u[3]*w;g[4]=n[4]*y+u[4]*w;g[5]=n[5]*y+u[5]*w;g[6]=n[6]*y+u[6]*w;g[7]=n[7]*y+u[7]*w;return g},Ov:function(g,n){var u=Ea(n);g[0]=-n[0]/u;g[1]=-n[1]/u;g[2]=-n[2]/u;g[3]=n[3]/u;g[4]=-n[4]/u;g[5]=-n[5]/u;g[6]=-n[6]/u;g[7]=n[7]/u;return g},rca:function(g,n){g[0]=-n[0];g[1]=-n[1];g[2]=-n[2];g[3]=n[3];g[4]=-n[4];g[5]=-n[5];g[6]=-n[6];g[7]=n[7];return g},length:Ga,$r:Ga,QB:Ea,PB:Ea,normalize:function(g,n){var u=Ea(n);if(0<u){u=Math.sqrt(u);var w=n[0]/u,y=n[1]/u,C=n[2]/u,D=n[3]/u,
G=n[4],H=n[5],L=n[6];n=n[7];var N=w*G+y*H+C*L+D*n;g[0]=w;g[1]=y;g[2]=C;g[3]=D;g[4]=(G-w*N)/u;g[5]=(H-y*N)/u;g[6]=(L-C*N)/u;g[7]=(n-D*N)/u}return g},el:function(g){return"quat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+")"},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]&&g[2]===n[2]&&g[3]===n[3]&&g[4]===n[4]&&g[5]===n[5]&&g[6]===n[6]&&g[7]===n[7]},cd:function(g,n){var u=g[0],w=g[1],y=g[2],C=g[3],D=g[4],G=g[5],H=g[6];g=g[7];var L=n[0],N=n[1],O=n[2],T=n[3],R=n[4],
Z=n[5],Y=n[6];n=n[7];return Math.abs(u-L)<=1E-6*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(w-N)<=1E-6*Math.max(1,Math.abs(w),Math.abs(N))&&Math.abs(y-O)<=1E-6*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(C-T)<=1E-6*Math.max(1,Math.abs(C),Math.abs(T))&&Math.abs(D-R)<=1E-6*Math.max(1,Math.abs(D),Math.abs(R))&&Math.abs(G-Z)<=1E-6*Math.max(1,Math.abs(G),Math.abs(Z))&&Math.abs(H-Y)<=1E-6*Math.max(1,Math.abs(H),Math.abs(Y))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))}});Ma=function(){var g=
sb();return function(n,u,w,y,C,D){u||(u=2);w||(w=0);for(y=y?Math.min(y*u+w,n.length):n.length;w<y;w+=u)g[0]=n[w],g[1]=n[w+1],C(g,g,D),n[w]=g[0],n[w+1]=g[1];return n}}();Ma=Object.freeze({__proto__:null,create:sb,clone:function(g){var n=new la(2);n[0]=g[0];n[1]=g[1];return n},Ad:function(g,n){var u=new la(2);u[0]=g;u[1]=n;return u},Ka:function(g,n){g[0]=n[0];g[1]=n[1];return g},set:function(g,n,u){g[0]=n;g[1]=u;return g},add:function(g,n,u){g[0]=n[0]+u[0];g[1]=n[1]+u[1];return g},js:tb,multiply:ub,
Wk:vb,ceil:function(g,n){g[0]=Math.ceil(n[0]);g[1]=Math.ceil(n[1]);return g},floor:function(g,n){g[0]=Math.floor(n[0]);g[1]=Math.floor(n[1]);return g},min:function(g,n,u){g[0]=Math.min(n[0],u[0]);g[1]=Math.min(n[1],u[1]);return g},max:function(g,n,u){g[0]=Math.max(n[0],u[0]);g[1]=Math.max(n[1],u[1]);return g},round:function(g,n){g[0]=Math.round(n[0]);g[1]=Math.round(n[1]);return g},scale:function(g,n,u){g[0]=n[0]*u;g[1]=n[1]*u;return g},pU:function(g,n,u,w){g[0]=n[0]+u[0]*w;g[1]=n[1]+u[1]*w;return g},
Iv:wb,DU:xb,length:yb,QB:zb,bU:function(g,n){g[0]=-n[0];g[1]=-n[1];return g},inverse:function(g,n){g[0]=1/n[0];g[1]=1/n[1];return g},normalize:function(g,n){var u=n[0],w=n[1];u=u*u+w*w;0<u&&(u=1/Math.sqrt(u));g[0]=n[0]*u;g[1]=n[1]*u;return g},lB:function(g,n){return g[0]*n[0]+g[1]*n[1]},wT:function(g,n,u){n=n[0]*u[1]-n[1]*u[0];g[0]=g[1]=0;g[2]=n;return g},Ce:function(g,n,u,w){var y=n[0];n=n[1];g[0]=y+w*(u[0]-y);g[1]=n+w*(u[1]-n);return g},random:function(g,n){n=n||1;var u=2*Aa()*Math.PI;g[0]=Math.cos(u)*
n;g[1]=Math.sin(u)*n;return g},mqa:function(g,n,u){var w=n[0];n=n[1];g[0]=u[0]*w+u[2]*n;g[1]=u[1]*w+u[3]*n;return g},nqa:function(g,n,u){var w=n[0];n=n[1];g[0]=u[0]*w+u[2]*n+u[4];g[1]=u[1]*w+u[3]*n+u[5];return g},rea:function(g,n,u){var w=n[0];n=n[1];g[0]=u[0]*w+u[3]*n+u[6];g[1]=u[1]*w+u[4]*n+u[7];return g},HU:function(g,n,u){var w=n[0];n=n[1];g[0]=u[0]*w+u[4]*n+u[12];g[1]=u[1]*w+u[5]*n+u[13];return g},rotate:function(g,n,u,w){var y=n[0]-u[0];n=n[1]-u[1];var C=Math.sin(w);w=Math.cos(w);g[0]=y*w-n*
C+u[0];g[1]=y*C+n*w+u[1];return g},angle:function(g,n){var u=g[0];g=g[1];var w=n[0];n=n[1];var y=Math.sqrt(u*u+g*g)*Math.sqrt(w*w+n*n);return Math.acos(Math.min(Math.max(y&&(u*w+g*n)/y,-1),1))},TU:function(g){g[0]=0;g[1]=0;return g},el:function(g){return"vec2("+g[0]+", "+g[1]+")"},Vm:function(g,n){return g[0]===n[0]&&g[1]===n[1]},cd:function(g,n){var u=g[0];g=g[1];var w=n[0];n=n[1];return Math.abs(u-w)<=1E-6*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(g-n)<=1E-6*Math.max(1,Math.abs(g),Math.abs(n))},
$r:yb,sub:tb,Xm:ub,AT:vb,yT:wb,CU:xb,PB:zb,forEach:Ma});e.Sr=Eb;e.Joa=Fb;e.Koa=Gb;e.Loa=Hb;e.wB=Ib;e.gpa=Xa;e.hpa=Ya;e.vqa=Ma;e.UB=Ua;e.PU=Wa;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?Ha(exports):"function"===typeof define&&define.Xma?define(["exports"],Ha):(Fa=Fa||self,Ha(Fa.Sr={}));"use strict";
{function e(v,z,A,F){var x=z[0]-v[0];z=z[1]-v[1];var E=F[0]-A[0],I=F[1]-A[1];if(0===E*z-I*x)return!1;F=(x*(A[1]-v[1])+z*(v[0]-A[0]))/(E*z-I*x);v=(E*(v[1]-A[1])+I*(A[0]-v[0]))/(I*x-E*z);return 0<=F&&1>=F&&0<=v&&1>=v}function a(v,z,A){return(z[0]-v[0])*(A[1]-v[1])-(A[0]-v[0])*(z[1]-v[1])}function c(v,z,A){return 0<a(v,z,A)}function f(v,z,A){return 0<=a(v,z,A)}function b(v,z,A){return 0>=a(v,z,A)}var Ia=[],Ja=[];function d(v,z){var A=z[0]-v[0];v=z[1]-v[1];return A*A+v*v}function m(v,z){var A=v.length;
return v[0>z?z%A+A:z%A]}function k(v,z,A,F){for(;A<F;A++)v.push(z[A])}function p(v,z){var A=m(v,z-1),F=m(v,z);v=m(v,z+1);return 0>a(A,F,v)}var Ka=[],Ra=[];function r(v,z,A,F){F=F||[];F.length=0;if(z<A)for(var x=z;x<=A;x++)F.push(v[x]);else{for(x=0;x<=A;x++)F.push(v[x]);for(x=z;x<v.length;x++)F.push(v[x])}return F}function l(v){for(var z=[],A,F,x=[],E=Number.MAX_VALUE,I=0;I<v.length;++I)if(p(v,I))for(var M=0;M<v.length;++M){a:{F=v;var P=I,Q=M;if(f(m(F,P+1),m(F,P),m(F,Q))&&b(m(F,P-1),m(F,P),m(F,Q)))A=
!1;else{A=d(m(F,P),m(F,Q));for(var U=0;U!==F.length;++U)if((U+1)%F.length!==P&&U!==P&&f(m(F,P),m(F,Q),m(F,U+1))&&b(m(F,P),m(F,Q),m(F,U))){Ka[0]=m(F,P);Ka[1]=m(F,Q);Ra[0]=m(F,U);Ra[1]=m(F,U+1);var ba=[0,0];var X=Ka[1][1]-Ka[0][1];var fa=Ka[0][0]-Ka[1][0];var sa=X*Ka[0][0]+fa*Ka[0][1];var ua=Ra[1][1]-Ra[0][1];var ca=Ra[0][0]-Ra[1][0];var qa=ua*Ra[0][0]+ca*Ra[0][1];var ea=X*ca-ua*fa;0>=Math.abs(ea-0)||(ba[0]=(ca*sa-fa*qa)/ea,ba[1]=(X*qa-ua*sa)/ea);ea=ba;if(d(m(F,P),ea)<A){A=!1;break a}}A=!0}}if(A){A=
l(r(v,I,M,x));F=l(r(v,M,I,x));for(P=0;P<F.length;P++)A.push(F[P]);A.length<E&&(z=A,E=A.length,z.push([m(v,I),m(v,M)]))}}return z}function h(v,z){if(0===z.length)return[v];if(z instanceof Array&&z.length&&z[0]instanceof Array&&2===z[0].length&&z[0][0]instanceof Array){v=[v];for(var A=0;A<z.length;A++)for(var F=z[A],x=0;x<v.length;x++){var E=h(v[x],F);if(E){v.splice(x,1);v.push(E[0],E[1]);break}}return v}F=z;A=v.indexOf(F[0]);x=v.indexOf(F[1]);return-1!==A&&-1!==x?[r(v,A,x),r(v,x,A)]:!1}function q(v,
z,A,F,x){var E=z[1]-v[1];z=v[0]-z[0];v=E*v[0]+z*v[1];var I=F[1]-A[1];F=A[0]-F[0];A=I*A[0]+F*A[1];var M=E*F-I*z;return Math.abs(M-0)<=(x||0)?[0,0]:[(F*v-z*A)/M,(E*A-I*v)/M]}function t(v,z,A,F,x,E,I){E=E||100;I=I||0;x=x||25;z="undefined"!==typeof z?z:[];A=A||[];F=F||[];var M=[0,0],P=[0,0],Q=[0,0],U,ba=0,X=0,fa=0,sa=[],ua=[];if(3>v.length)return z;I++;if(I>E)return console.warn("quickDecomp: max level ("+E+") reached."),z;for(var ca=0;ca<v.length;++ca)if(p(v,ca)){A.push(v[ca]);var qa=U=Number.MAX_VALUE;
for(var ea=0;ea<v.length;++ea){if(c(m(v,ca-1),m(v,ca),m(v,ea))&&b(m(v,ca-1),m(v,ca),m(v,ea-1))){Q=q(m(v,ca-1),m(v,ca),m(v,ea),m(v,ea-1));var ya=m(v,ca+1);var Na=m(v,ca);0>a(ya,Na,Q)&&(ya=d(v[ca],Q),ya<U&&(U=ya,P=Q,X=ea))}c(m(v,ca+1),m(v,ca),m(v,ea+1))&&b(m(v,ca+1),m(v,ca),m(v,ea))&&(Q=q(m(v,ca+1),m(v,ca),m(v,ea),m(v,ea+1)),c(m(v,ca-1),m(v,ca),Q)&&(ya=d(v[ca],Q),ya<qa&&(qa=ya,M=Q,ba=ea)))}if(X===(ba+1)%v.length)Q[0]=(P[0]+M[0])/2,Q[1]=(P[1]+M[1])/2,F.push(Q),ca<ba?(k(sa,v,ca,ba+1),sa.push(Q),ua.push(Q),
0!==X&&k(ua,v,X,v.length),k(ua,v,0,ca+1)):(0!==ca&&k(sa,v,ca,v.length),k(sa,v,0,ba+1),sa.push(Q),ua.push(Q),k(ua,v,X,ca+1));else{X>ba&&(ba+=v.length);M=Number.MAX_VALUE;if(ba<X)return z;for(ea=X;ea<=ba;++ea)if(f(m(v,ca-1),m(v,ca),m(v,ea))&&b(m(v,ca+1),m(v,ca),m(v,ea))){ya=d(m(v,ca),m(v,ea));if(X=ya<M)a:{X=v;P=ca;Q=ea;for(qa=0;qa!==X.length;++qa)if(qa!==P&&qa!==Q&&(qa+1)%X.length!==P&&(qa+1)%X.length!==Q&&e(m(X,P),m(X,Q),m(X,qa),m(X,qa+1))){X=!1;break a}X=!0}X&&(M=ya,fa=ea%v.length)}ca<fa?(k(sa,v,
ca,fa+1),0!==fa&&k(ua,v,fa,v.length),k(ua,v,0,ca+1)):(0!==ca&&k(sa,v,ca,v.length),k(sa,v,0,fa+1),k(ua,v,fa,ca+1))}sa.length<ua.length?(t(sa,z,A,F,x,E,I),t(ua,z,A,F,x,E,I)):(t(ua,z,A,F,x,E,I),t(sa,z,A,F,x,E,I));return z}z.push(v);return z}self.apa={sna:function(v){var z=l(v);return 0<z.length?h(v,z):[v]},ipa:t,moa:function(v){var z;for(z=0;z<v.length-1;z++)for(var A=0;A<z-1;A++)if(e(v[z],v[z+1],v[A],v[A+1]))return!1;for(z=1;z<v.length-2;z++)if(e(v[0],v[v.length-1],v[z],v[z+1]))return!1;return!0},npa:function(v,
z){for(var A=0,F=v.length-1;3<v.length&&0<=F;--F){var x=m(v,F-1);var E=m(v,F),I=m(v,F+1),M=z;M?(Ia[0]=E[0]-x[0],Ia[1]=E[1]-x[1],Ja[0]=I[0]-E[0],Ja[1]=I[1]-E[1],x=Math.acos((Ia[0]*Ja[0]+Ia[1]*Ja[1])/(Math.sqrt(Ia[0]*Ia[0]+Ia[1]*Ia[1])*Math.sqrt(Ja[0]*Ja[0]+Ja[1]*Ja[1])))<M):x=0===a(x,E,I);x&&(v.splice(F%v.length,1),A++)}return A},opa:function(v,z){for(var A=v.length-1;1<=A;--A)for(var F=v[A],x=A-1;0<=x;--x){var E=F,I=v[x],M=z;Math.abs(E[0]-I[0])<=(M||0)&&Math.abs(E[1]-I[1])<=(M||0)&&v.splice(A,1)}},
Ioa:function(v){for(var z=0,A=1;A<v.length;++A)if(v[A][1]<v[z][1]||v[A][1]===v[z][1]&&v[A][0]>v[z][0])z=A;if(c(m(v,z-1),m(v,z),m(v,z+1)))return!1;z=[];A=v.length;for(var F=0;F!==A;F++)z.push(v.pop());for(F=0;F!==A;F++)v[F]=z[F];return!0}}}"use strict";{const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Vr=!1;e.DJ=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.ih={}}"use strict";
{const e=self.B;e.XM=class{constructor(a){this.Fba=a;this.Ja=new Map;this.Y8()}Y8(){var a=this.Fba;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const c of a)this.Z8(c)}Z8(a){if(a)if(a.includes("=")){var c=a.indexOf("="),f=decodeURIComponent(a.substring(0,c));a=decodeURIComponent(a.substring(c+1));this.Ja.set(f,a)}else this.Ja.set(a,null)}zx(a){return this.Ja.has(a)}X(a){a=this.Ja.get(a);return"undefined"===typeof a?null:a}};e.ZM=new e.XM(location.search);e.Tha=new e.XM(location.hash);
e.ZM.X("mode")}"use strict";
{const e=self.B,a=navigator.userAgent;let c={nda:/linux|openbsd|freebsd|netbsd/i.test(a),nca:/CrOS/.test(a),VB:/trident|iemobile|msie|tizen/i.test(a),Una:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),lT:/bb10/i.test(a),Gca:/edge\//i.test(a),LU:/trident/i.test(a),webkit:/webkit/i.test(a),Vda:/safari\//i.test(a),mca:/chrome\//i.test(a),oca:/chromium\//i.test(a),vca:/crosswalk|xwalk/i.test(a),Roa:/nwjs/i.test(a),bca:/amazonwebappplatform/i.test(a),Aea:/wv\)/.test(a),cca:/android/i.test(a),
zda:/nokiabrowser\/[0-9.]+/i.test(a)};var Za=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),$a=/android\s+[0-9.]+/i.exec(a),ab=/OPR\/[0-9.]+/.exec(a),bb=/tizen\s+[0-9.]+/i.exec(a),Ab=/iphone\s+os\s+[0-9_]+/i.exec(a),Bb=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Cb=/windows\s+phone\s+[0-9.]+/i.exec(a),Jb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Kb=/chrome\/[0-9.]+/i.exec(a),Lb=/chromium\/[0-9.]+/i.exec(a),Mb=/nwjs\/[0-9.]+/i.exec(a),Nb=/firefox\/[0-9.]+/i.exec(a),Ob=/msie\s+[0-9.]+/i.exec(a),Pb=/edge\/[0-9.]+/i.exec(a),
Qb=/edg\/[0-9.]+/i.exec(a),Rb=/silk\/[0-9.]+/i.exec(a);let f="(unknown)",b="(unknown)",d="(unknown)",m="(unknown)",k="(unknown)",p="browser",r=!1,l=!1,h=new Map;function q(v,z,A){!0===z?(A(),h.set(v,!0)):z&&z.length&&(A(z[0]),h.set(v,!0))}q("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),v=>{f="Windows";if(v=v.split(" ")[2])switch(v){case "5.0":b="2000";break;case "5.1":b="XP";break;case "5.2":b="XP";break;case "6.0":b="Vista";break;case "6.1":b="7";break;case "6.2":b="8";break;case "6.3":b="8.1";
break;case "10.0":b="10"}});q("isOSX",Za,v=>{f="Mac OS X";(v=v.split(" ")[3])&&(b=v.replace("_","."))});q("isLinux",c.nda,()=>{f="Linux"});q("isChromeOS",c.nca,()=>{f="Chrome OS"});q("isAndroid",!c.VB&&$a,v=>{f="Android";(v=v.split(" ")[1])&&(b=v)});q("isTizen",bb,v=>{f="Tizen";(v=v.split(" ")[1])&&(b=v)});q("isIPhone",!c.VB&&Ab,v=>{f="iOS";(v=v.split(" ")[2])&&(b=v.replace("_","."))});q("isIPad",!c.VB&&Bb,v=>{f="iOS";(v=v.split(" ")[3])&&(b=v.replace("_","."))});q("isWindowsPhone",Cb,v=>{f="Windows Phone";
(v=v.split(" ")[2])&&(b=v)});q("isWindowsPhoneOS",Jb,v=>{f="Windows Phone";(v=v.split(" ")[3])&&(b=v)});q("isBlackberry",c.lT,()=>{f="Blackberry";b="10";d="stock";k="webkit"});q("isChrome",!c.Gca&&!c.opera&&Kb,v=>{d="Chrome";k="Chromium";(v=v.split("/")[1])&&(m=v)});q("isOpera",ab,v=>{d="Opera";k="Chromium";(v=v.split("/")[1])&&(m=v)});q("isChromium",Lb,v=>{k=d="Chromium";(v=v.split("/")[1])&&(m=v)});q("isFirefox",Nb,v=>{d="Firefox";k="Gecko";(v=v.split("/")[1])&&(m=v)});q("isInternetExplorer",Ob,
v=>{d="Internet Explorer";k="Trident";(v=v.split(" ")[1])&&(m=v)});q("isTrident","Internet Explorer"!==d&&c.LU,()=>{k="Trident";var v=/rv:[0-9.]+/i.exec(a);v&&v.length&&(d="Internet Explorer",(v=v[0].split(":")[1])&&(m=v))});q("isEdge",Pb,v=>{k=d="Edge";(v=v.split("/")[1])&&(m=v)});q("isEdgeChromium",Qb,v=>{d="Edge";k="Chromium";(v=v.split("/")[1])&&(m=v)});q("isSafari",c.Vda&&!c.zda&&!c.mca&&!c.oca&&!c.Tna&&!c.lT,()=>{d="Safari";k="WebKit";var v=/version\/[0-9.]+/i.exec(a),z=/crios\/[0-9.]+/i.exec(a),
A=/fxios\/[0-9.]+/i.exec(a);v&&v.length&&(v=v[0].split("/")[1])&&(m=v);z&&z.length&&(d="Chrome for iOS",(z=z[0].split("/")[1])&&(m=z));A&&A.length&&(d="Firefox for iOS",(A=A[0].split("/")[1])&&(m=A))});q("isSilk",Rb,v=>{d="Silk";(v=v.split("/")[1])&&(m=v)});q("isCrosswalk",c.vca,()=>p="crosswalk");q("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>p="cordova");q("isNWJS",Mb,v=>{p="nwjs";d="NW.js";k="Chromium";(v=v.split("/")[1])&&(m=v)});q("isAmazonWebApp",c.bca,()=>p="webapp");
q("isHomeScreenWebApp","nwjs"!==p&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>p="webapp");q("isFalseSafari","Safari"===d&&("Android"===f||"Tizen"===f||"Blackberry"===f),()=>d="stock");q("isAndroidWebview","Chrome"===d&&"browser"===p&&c.Aea,()=>p="webview");q("isFirefoxOS","Firefox"===d&&"(unknown)"===f,()=>f="Firefox OS");q("isAndroidFallback","(unknown)"===f&&!c.VB&&c.cca,()=>f="Android");q("isTridentFallback",
"(unknown)"===f&&c.LU,()=>k="Trident");q("isWebkitFallback","(unknown)"===f&&c.webkit,()=>k="WebKit");q("isDesktop","Windows"===f||"Mac OS X"===f||"Linux"===f||"Chrome OS"===f||"nwjs"===p,()=>r=!0);"Edge"===k&&"undefined"!==typeof Windows&&"undefined"!==typeof Windows.System&&(p="windows-store");l="nwjs"===p;const t="Mac OS X"===f&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;t&&(f="iOS",b=m,l=r=!1);e.Uc={cq:f,via:b,fC:d,gfa:m,gC:parseFloat(m),ww:k,tC:p,Vga:r,ID:!r,Wga:l,Sga:!!(self.chrome&&
self.chrome.runtime&&self.chrome.runtime.id),Nga:"Mac OS X"===f||"iOS"===f,bha:t,fha:"Linux"===f}}"use strict";
{const e=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,c="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function f(t){return new Promise((v,z)=>{t.onsuccess=()=>v(t.result);t.onerror=()=>z(t.error)})}function b(t){return new Promise((v,z)=>{t.oncomplete=()=>v();t.onerror=()=>z(t.error);t.onabort=()=>z(t.error)})}function d(t,v){return k(t,v)}function m(t,v){return k(t,v,!0)}async function k(t,v,z=!1,
A=!0){const F=await p(t);try{const x=F.transaction(["keyvaluepairs"],z?"readwrite":"readonly");return v(x)}catch(x){if(A&&"InvalidStateError"===x.name)return e.delete(t),k(t,v,z,!1);throw x;}}function p(t){l(t);let v=e.get(t);v instanceof Promise||(v=r(t),e.set(t,v),v.catch(()=>e.delete(t)));return v}async function r(t){l(t);const v=indexedDB.open(t,2);v.addEventListener("upgradeneeded",z=>{try{z.target.result.createObjectStore("keyvaluepairs")}catch(A){console.error(`Failed to create objectstore for database ${t}`,
A)}});return f(v)}function l(t){if("string"!==typeof t)throw new TypeError("expected string");}function h(t,v){const z=t.objectStore("keyvaluepairs").openCursor();return new Promise(A=>{const F=[];z.onsuccess=x=>{if(x=x.target.result){switch(v){case "entries":F.push([x.key,x.value]);break;case "keys":F.push(x.key);break;case "values":F.push(x.value)}x.continue()}else A(F)}})}class q{constructor(t){l(t);this.name=t}async ready(){await p(this.name)}set(t,v){l(t);return m(this.name,async z=>{var A=z.objectStore("keyvaluepairs").put(v,
t);A=f(A);z=b(z);await Promise.all([z,A])})}get(t){l(t);return d(this.name,async v=>{var z=v.objectStore("keyvaluepairs").get(t);z=f(z);v=b(v);[,v]=await Promise.all([v,z]);return v})}delete(t){l(t);return m(this.name,async v=>{var z=v.objectStore("keyvaluepairs").delete(t);z=f(z);v=b(v);await Promise.all([v,z])})}clear(){return m(this.name,async t=>{var v=t.objectStore("keyvaluepairs").clear();v=f(v);t=b(t);await Promise.all([t,v])})}keys(){return d(this.name,async t=>{if(c){var v=t.objectStore("keyvaluepairs").getAllKeys();
v=f(v)}else v=h(t,"keys");t=b(t);[,t]=await Promise.all([t,v]);return t})}values(){return d(this.name,async t=>{if(a){var v=t.objectStore("keyvaluepairs").getAll();v=f(v)}else v=h(t,"values");t=b(t);[,t]=await Promise.all([t,v]);return t})}entries(){return d(this.name,async t=>{var v=h(t,"entries");t=b(t);[,v]=await Promise.all([t,v]);return v})}}self.p0=q}"use strict";
{const e=self.p0,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],c=new WeakMap;let f=!1;"undefined"===typeof indexedDB&&(f=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function b(p){throw Error(`"${p}" is not implemented`);
}function d(p){if("function"===typeof p)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(p){return"object"===typeof p?new Promise(r=>{const {port1:l,port2:h}=new MessageChannel;h.onmessage=q=>r(q.data);l.postMessage(p)}):Promise.resolve(p)}class k{constructor(p){this.qa=p;c.set(this,new Map)}Lt(p){if(!f)for(const r of a)if(p&&r.test(p.message)){console.error("Unable to use local storage, reverting to in-memory store: ",p,p.message);f=!0;break}}async jR(p){p=
c.get(this).get(p);p=await m(p);return"undefined"===typeof p?null:p}async FS(p,r){r=await m(r);c.get(this).set(p,r)}yS(p){c.get(this).delete(p)}QQ(){c.get(this).clear()}PR(){return Array.from(c.get(this).keys())}async getItem(p,r){d(r);if(f)return await this.jR(p);let l;try{l=await this.qa.get(p)}catch(h){this.Lt(h);if(f)return await this.jR(p);console.error(`Error reading '${p}' from storage, returning null: `,h);return null}return"undefined"===typeof l?null:l}async setItem(p,r,l){d(l);"undefined"===
typeof r&&(r=null);if(f)await this.FS(p,r);else try{await this.qa.set(p,r)}catch(h){if(this.Lt(h),f)await this.FS(p,r);else throw h;}}async removeItem(p,r){d(r);if(f)this.yS(p);else try{await this.qa.delete(p)}catch(l){this.Lt(l),f?this.yS(p):console.error(`Error removing '${p}' from storage: `,l)}}async clear(p){d(p);if(f)this.QQ();else try{await this.qa.clear()}catch(r){this.Lt(r),f?this.QQ():console.error("Error clearing storage: ",r)}}async keys(p){d(p);if(f)return this.PR();p=[];try{p=await this.qa.keys()}catch(r){this.Lt(r);
if(f)return this.PR();console.error("Error getting storage keys: ",r)}return p}ready(p){d(p);return f?Promise.resolve(!0):this.qa.ready()}iJ(p){if("object"!==typeof p)throw new TypeError("invalid options object");p=p.name;if("string"!==typeof p)throw new TypeError("invalid store name");p=new e(p);return new k(p)}length(){b("localforage.length()")}key(){b("localforage.key()")}iterate(){b("localforage.iterate()")}supports(){b("localforage.supports()")}dropInstance(){b("localforage.dropInstance()")}}
self.localforage=new k(new e("localforage"))}"use strict";
{const e=self.B;e.Wb={};e.Wb.Fma=(()=>{try{if("Safari"===e.Uc.fC||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();e.Wb.Mfa="undefined"!==typeof HTMLDialogElement;e.Wb.Eja=!!self.requestIdleCallback;e.Wb.ImageBitmap=!!self.createImageBitmap;e.Wb.ImageBitmapOptions=!1;if(e.Wb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{e.Wb.ImageBitmapOptions=!0}).catch(()=>{e.Wb.ImageBitmapOptions=!1})}catch(a){e.Wb.ImageBitmapOptions=!1}e.Wb.qfa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Uc.fC);e.Wb.Oia=!(!navigator.permissions||!navigator.permissions.query);e.Wb.UM="undefined"!==typeof Proxy;e.Wb.Nfa="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.Wb.xw="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
e.Wb.Yfa="function"===typeof fetch;e.Wb.Qia=!!(self.isSecureContext&&"Opera"!==e.Uc.fC&&navigator.storage&&navigator.storage.persist);e.Wb.Tla=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Sb;if("undefined"===typeof document||"iOS"===e.Uc.cq)Sb=!1;else{var Tb=document.documentElement;Sb=!!(Tb.requestFullscreen||Tb.msRequestFullscreen||Tb.mozRequestFullScreen||Tb.webkitRequestFullscreen)}e.Wb.jga=Sb;e.Wb.Cga="undefined"!==typeof self.ImageDecoder;e.Wb.qia=!!self.showOpenFilePicker;
e.Wb.ria=!(!navigator.fonts||!navigator.fonts.query)}"use strict";
{const e=self.B;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,c){return this.replace(new RegExp(e.Bs(a),"g"),c)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(c,f){return c.reduce((b,d)=>{0<f&&Array.isArray(d)?Array.prototype.push.apply(b,a(d,f-1)):b.push(d);return b},[])}Array.prototype.flat=function(c=1){return a(this,c)}}RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,
"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,c)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((f,b)=>a({usage:f,quota:b}),c))});"undefined"===typeof HTMLCollection||HTMLCollection.prototype[Symbol.iterator]||(HTMLCollection.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),
done:!1}}});"undefined"===typeof NodeList||NodeList.prototype[Symbol.iterator]||(NodeList.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof DOMTokenList||DOMTokenList.prototype[Symbol.iterator]||(DOMTokenList.prototype[Symbol.iterator]=function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof FileList||FileList.prototype[Symbol.iterator]||(FileList.prototype[Symbol.iterator]=
function(){let a=0;return{next:()=>a>=this.length?{done:!0}:{value:this.item(a++),done:!1}}});"undefined"===typeof TextEncoder&&(self.TextEncoder=class{constructor(){Object.defineProperty(this,"encoding",{value:"utf-8",writable:!1})}encode(a){for(var c=a.length,f=-1,b=new Uint8Array(3*c),d,m,k=0;k!==c;){d=a.charCodeAt(k);k+=1;if(55296<=d&&56319>=d){if(k===c){b[f+=1]=239;b[f+=1]=191;b[f+=1]=189;break}m=a.charCodeAt(k);if(56320<=m&&57343>=m){if(d=1024*(d-55296)+m-56320+65536,k+=1,65535<d){b[f+=1]=240|
d>>>18;b[f+=1]=128|d>>>12&63;b[f+=1]=128|d>>>6&63;b[f+=1]=128|d&63;continue}}else{b[f+=1]=239;b[f+=1]=191;b[f+=1]=189;continue}}127>=d?b[f+=1]=0|d:(2047>=d?b[f+=1]=192|d>>>6:(b[f+=1]=224|d>>>12,b[f+=1]=128|d>>>6&63),b[f+=1]=128|d&63)}return new Uint8Array(b.buffer.slice(0,f+1))}toString(){return"[object TextEncoder]"}},TextEncoder[Symbol.toStringTag]="TextEncoder");if("undefined"===typeof TextDecoder){function a(b){const d=b[Symbol.iterator]();return{next:()=>d.next(),[Symbol.iterator](){return this}}}
function c(b){b=b.next();if(b.done)throw Error("unexpected end of input");if(0!=(b.value&192^128))throw Error("invalid byte");return b.value&63}const f=new Map;f.set("utf-8",(b,d)=>{if(b.buffer)var m=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);else if(m instanceof ArrayBuffer)m=new Uint8Array(b);else throw Error("Invalid parameter");b=a(m);m=[];try{for(const k of b){let p;if(127>k)p=k&127;else if(223>k)p=(k&31)<<6|c(b);else if(239>k)p=(k&15)<<12|c(b)<<6|c(b);else if(247>k)p=(k&7)<<18|c(b)<<
12|c(b)<<6|c(b);else throw Error("Invalid character");m.push(String.fromCodePoint(p))}}catch(k){if(d)throw k;m.push("\ufffd")}return m.join("")});f.set("utf8",f.get("utf-8"));f.set("utf-16le",()=>{throw Error("utf-16le decoder not implemented");});self.TextDecoder=class{constructor(b="utf-8",d={}){const m=f.get(b);if(!m)throw Error(`TextDecoder polyfill does not support "${b}"`);Object.defineProperty(this,"fatal",{value:!0===d.fatal,writable:!1});Object.defineProperty(this,"_decoder",{value:m,writable:!1});
Object.defineProperty(this,"encoding",{value:b,writable:!1})}decode(b){return this._decoder(b,this.fatal)}toString(){return"[object TextDecoder]"}};TextDecoder[Symbol.toStringTag]="TextDecoder"}"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}"use strict";{const e=self.B;self.assert=function(a,c){a||console.error("Assertion failure: "+c+"\n\nStack trace:\n"+e.Yw())}}"use strict";
{const e=self.B,a=self.ih;e.Dl=function(f){return"number"===typeof f};e.Al=function(f){return e.Dl(f)&&isFinite(f)};e.Ll=function(f){if(!e.Dl(f))throw new TypeError("expected number");};e.jN=function(){};e.Zja=function(f,b,d){if(!e.Dl(f)||isNaN(f)||b>f||d<f)throw new RangeError("number outside of range");};e.Lja=function(...f){for(let b of f);};e.it=function(f){if(!e.Al(f))throw new TypeError("expected finite number");};e.gN=function(){};e.Ija=function(...f){for(let b of f);};e.Pj=function(f){return"string"===
typeof f};e.Id=function(f){if(!e.Pj(f))throw new TypeError("expected string");};e.lN=function(){};e.Nja=function(...f){for(let b of f);};e.mM=function(f){return"object"!==typeof f||null===f?!1:(f=Object.getPrototypeOf(f))?f.constructor===Object:null===f};e.lka=function(f){if(!e.mM(f))throw new TypeError("expected simple object");};e.ika=function(f){if(!e.Vd(f)&&!e.mM(f))throw new TypeError("expected simple object");};e.lM=function(f){return"object"===typeof f&&null!==f&&!Array.isArray(f)};e.eN=function(f){if(!e.lM(f))throw new TypeError("expected object");
};e.kN=function(){};e.Mja=function(...f){for(let b of f);};e.a0=function(f){return e.Bl(f,Blob)&&"string"===typeof f.name};e.Xja=function(f){if(!e.a0(f))throw new TypeError("expected file");};e.gka=function(){};e.Cn=function(f){return Array.isArray(f)};e.dN=function(f){if(!e.Cn(f))throw new TypeError("expected array");};e.fN=function(){};e.Hja=function(...f){for(let b of f);};e.S_=function(f){return e.Cn(f)?f.length?e.Cn(f[0])?!0:!1:!0:!1};e.Gja=function(f){if(!e.S_(f))throw new TypeError("expected 2d array");
for(let b of f)if(!e.Cn(b))throw new TypeError("expected 2d array");};e.$ja=function(){};e.Dx=function(f){return"function"===typeof f};e.Qi=function(f,b){if(!e.Dx(f))throw new TypeError("expected function");if(!e.Vd(b)&&f!==b)throw new TypeError("expected same function reference");};e.hN=function(){};e.Jja=function(...f){for(let b of f);};e.Pja=function(f,...b){if(!e.Dx(f))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let d of b)if(!e.Vd(d)&&
f===d)return;throw new TypeError("expected same function reference");};e.aka=function(...f){if(!e.Vd(f))for(let b of f);};e.Bl=function(f,b){return f instanceof b};e.kM=function(f,...b){for(let d of b)if(e.Bl(f,d))return!0;return!1};e.lE=function(f,b){if(!e.Bl(f,b))throw new TypeError("unexpected type");};e.iN=function(){};e.Kja=function(f,...b){for(let d of b);};e.Qja=function(f,...b){if(!e.kM(f,...b))throw new TypeError("unexpected type");};e.Rja=function(f,...b){if(!e.Vd(f)&&!e.kM(f,...b))throw new TypeError("unexpected type");
};e.Oga=function(f,b){for(let d of f)if(!e.Bl(d,b))return!1;return!0};e.Pga=function(f){for(let b of f)if(!e.Al(b))return!1;return!0};e.Sja=function(f){for(let b of f);};e.bka=function(f){if(!e.Vd(f))for(let b of f);};e.Tja=function(f){for(let b of f);};e.cka=function(f){if(!e.Vd(f))for(let b of f);};e.Tga=function(f,b){return e.Vd(f)||!e.Pj(f.nodeName)?!1:!b||e.Um(f.nodeName,b)};e.Uja=function(f,b){if(e.Vd(f)||!e.Pj(f.nodeName))throw new TypeError("expected DOM node");if(b&&!e.Um(f.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);
};e.dka=function(){};e.ED=function(f,b){return e.Vd(f)||!e.Pj(f.tagName)?!1:!b||e.Um(f.tagName,b)};e.Yja=function(f,b){if(e.Vd(f)||!e.Pj(f.tagName))throw new TypeError("expected HTML element");if(b&&!e.Um(f.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};e.hka=function(){};e.cM=function(f){return e.ED(f,"img")||e.ED(f,"canvas")||e.ED(f,"video")||"undefined"!==typeof OffscreenCanvas&&f instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&f instanceof ImageBitmap};e.Vja=function(f){if(!e.cM(f))throw new TypeError("expected drawable");
};e.eka=function(){};e.dM=function(f){return f instanceof ImageData?!0:e.cM(f)};e.Wja=function(f){if(!e.dM(f))throw new TypeError("expected drawable or image data");};e.fka=function(f){if(!e.Vd(f)&&!e.dM(f))throw new TypeError("expected drawable or image data");};e.k0=function(f){return"string"===typeof f||f instanceof e.vD||f instanceof e.il};e.mka=function(f){if(!e.k0(f))throw new TypeError("expected string-like");};e.jka=function(){};e.Oja=function(...f){for(let b of f);};e.kka=function(){throw Error("must be overridden");
};e.uia=function(){throw Error("not yet implemented");};e.Uga=function(f,...b){if("undefined"===typeof f)return!1;for(let d of b){if("undefined"===typeof f[d])return!1;f=f[d]}return!0};e.Vd=function(f){return"undefined"===typeof f||null===f};e.Vea=function(f){let b=f[0].constructor;for(let d of f)if(d.constructor!==b)return!1;return b};e.Wea=function(f,b){for(let d of f)if(!(d instanceof b))return!1;return!0};const c=Object.getPrototypeOf(Uint8Array);e.qha=function(f){return e.Bl(f,c)};e.nka=function(){};
e.Ema=function(f){e.M4(f,c)};e.Dma=function(f,...b){if(!e.L4(f,...b))throw new TypeError("unexpected type");};e.L4=function(f,...b){for(const d of b)if(e.qO(f,d))return!0;return!1};e.M4=function(f,b){if(!e.qO(f,b))throw new TypeError("unexpected type");};e.qO=function(f,b){for(;f=Object.getPrototypeOf(f);)if(f.constructor.name===b.name)return!0;return!1};a.Ll=e.Ll;a.jN=e.jN;a.it=e.it;a.gN=e.gN;a.Id=e.Id;a.lN=e.lN;a.eN=e.eN;a.kN=e.kN;a.dN=e.dN;a.fN=e.fN;a.Qi=e.Qi;a.hN=e.hN;a.lE=e.lE;a.iN=e.iN;a.Vd=
e.Vd}"use strict";
{const e=self.B,a=new Map;e.rja=function(h,...q){a.has(h)||a.set(h,-1);-1===a.get(h)&&a.set(h,requestAnimationFrame(()=>{console.log(`%c${h}`,"font-weight: bold",...q);a.set(h,-1)}))};e.Yw=function(){return Error().stack};e.Lfa=function(){debugger};e.jna=function(h,q){return h&&h instanceof q?h:null};e.yi=function(h){return"undefined"===typeof h?"undefined":null===h?"null":"boolean"===typeof h?"<boolean>":e.Dl(h)?"<number>":e.Pj(h)?"<string>":e.Cn(h)?"<array>":"symbol"===typeof h?"<"+h.toString()+
">":e.Dx(h)?h.name&&"Function"!==h.name?h.name:"<anonymous function>":"object"===typeof h?h.constructor&&h.constructor.name&&"Object"!==h.constructor.name?h.constructor.name:"<anonymous object>":"<unknown>"};e.rB=function(h){return null===h?"null":Array.isArray(h)?"array":typeof h};e.range=function*(h,q){if(!isFinite(Math.abs(h-q)))throw Error("Invalid parameters");if(h>q)for(--h;h>=q;h--)yield h;else for(;h<q;h++)yield h};let c=new Map,f=new Map,b=new WeakMap,d=new WeakMap;e.Ip={};const m=new Set(["then",
"splice"]);function k(h){console.warn("[Defence] "+h+" @",e.Yw())}e.Ip.get=function(h,q){q in h||"symbol"===typeof q||m.has(q)||k(`Accessed missing property '${q}' from defended object '${e.yi(h)}', returning undefined`);d.has(h)&&"symbol"!==typeof q&&!m.has(q)&&k(`Accessed property '${q}' on a released object '${e.yi(h)}'\nObject was originally released at: ${d.get(h)})\nCall stack at access: `);return h[q]};e.Ip.set=function(h,q,t){q in h||c.has(h)||k(`Set non-existent property '${q}' to '${t}' on defended object '${e.yi(h)}'`);
{var v=e.rB(h[q]);let z=e.rB(t);v="null"===v||"null"===z?!0:"undefined"===v||"undefined"===z?!1:v===z}v||c.has(h)||k(`Set '${e.rB(h[q])}' property '${q}' to type '${e.rB(t)}' on defended object '${e.yi(h)}'`);d.has(h)&&k(`Set property '${q}' on a released object '${e.yi(h)}'\nObject was originally released at: ${d.get(h)})\nCall stack at access: `);h[q]=t;return!0};e.Ip.deleteProperty=function(h,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${e.yi(h)}'`);};e.Ip.defineProperty=
function(h,q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${e.yi(h)}'`);};e.Ip.wna=function(h){throw new ReferenceError(`Cannot enumerate defended object '${e.yi(h)}'`);};let p=-1;function r(){p=-1;if(0<c.size||0<f.size){let h=[...new Set([...c.keys()].map(q=>e.yi(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${h}`);c.clear();
f.clear()}}e.aa=class{constructor(){if(e.DJ&&e.Wb.UM){var h=new.target;h=Object.create(h.prototype);var q=new Proxy(h,e.Ip);c.set(h,q);f.set(q,h);b.set(q,h);-1===p&&(p=requestAnimationFrame(r));return q}}};e.xca=function(h){if(e.DJ&&e.Wb.UM&&h instanceof e.aa){if(!f.has(h))return h;let q=f.get(h);f.delete(h);c.delete(q);return h}return e.Vr?Object.seal(h):h};e.A=function(h,...q){let t;try{t=new h(...q)}catch(A){throw f.clear(),c.clear(),A;}if(e.DJ){q=t;var v=new Set;for(z in q)v.add(z);var z=v;if(q=
l.get(h)){v=[];for(let A of q.values())z.has(A)?z.delete(A):v.push(A);e.Ev(v,[...z]);v.length&&console.warn(`[Defence] '${e.yi(h)}' constructor creates inconsistent properties: ${v.join(", ")}`)}else l.set(h,z)}return e.xca(t)};e.m=function(h){(h=b.get(h))&&d.set(h,e.Yw())};e.pO=function(h){return(h=b.get(h))?!!d.get(h):!1};let l=new Map;e.Nia=class{constructor(h){this.W="";h&&this.start(h)}start(h){this.W=h;performance.mark(this.W+"-Start")}end(){performance.mark(this.W+"-End");performance.measure(this.W,
this.W+"-Start",this.W+"-End")}next(h){this.end();this.W=h;performance.mark(this.W+"-Start")}}}"use strict";
{const e=self.B,a=2*Math.PI,c=Math.PI/180,f=180/Math.PI;e.wrap=function(d,m,k){d=Math.floor(d);m=Math.floor(m);k=Math.floor(k);return d<m?(d=k-(m-d)%(k-m),d===k?0:d):m+(d-m)%(k-m)};e.pda=function(d,m,k,p){return(d-m)*(p-0)/(k-m)};e.normalize=function(d,m,k){return(d-m)/(k-m)};e.xa=function(d,m,k){return d<m?m:d>k?k:d};e.zd=function(d){d%=a;0>d&&(d+=a);return d};e.Ab=function(d){return d*c};e.uj=function(d){return d*f};e.Fca=function(d,m,k,p){return Math.hypot(k-d,p-m)};e.zT=function(d,m,k,p){d=k-
d;m=p-m;return d*d+m*m};e.iT=function(d,m,k,p){return Math.atan2(p-m,k-d)};e.Mr=function(d,m){if(d===m)return 0;d=Math.sin(d)*Math.sin(m)+Math.cos(d)*Math.cos(m);return 1<=d?0:-1>=d?Math.PI:Math.acos(d)};e.ZI=function(d,m,k){let p=Math.sin(d),r=Math.cos(d),l=Math.sin(m),h=Math.cos(m);return Math.acos(p*l+r*h)>k?0<r*l-p*h?e.zd(d+k):e.zd(d-k):e.zd(m)};e.Ze=function(d,m){return 0>=Math.cos(d)*Math.sin(m)-Math.sin(d)*Math.cos(m)};e.YI=function(d,m,k,p=0){let r=e.Mr(d,m);p*=a;return e.Ze(m,d)?e.zd(d+(r+
p)*k):e.zd(d-(r+p)*k)};e.eca=function(d,m,k,p=0){const r=e.Mr(d,m);p*=a;return e.Ze(m,d)?e.zd(d+(r+p)*k):e.zd((a-r+p)*k)};e.dca=function(d,m,k,p=0){const r=e.Mr(d,m);p*=a;return e.Ze(m,d)?e.zd((-a+r-p)*k):e.zd(d-(r+p)*k)};e.Ce=function(d,m,k){return d+k*(m-d)};e.mK=function(d,m,k){return d===m?0:(k-d)/(m-d)};e.Oda=function(d,m,k,p){return e.Ce(0,p,e.mK(d,m,k))};e.KB=function(d,m,k,p){return e.Ce(e.Ce(d,m,p),e.Ce(m,k,p),p)};e.xT=function(d,m,k,p,r){return e.Ce(e.KB(d,m,k,r),e.KB(m,k,p,r),r)};e.tT=
function(d,m,k){return(d+m+(d-m)*Math.cos(k*Math.PI))/2};e.sj=function(d){return 0<d&&0===(d-1&d)};e.MJ=function(d){--d;for(let m=1;32>m;m<<=1)d|=d>>m;return d+1};e.Bpa=function(d,m){return Math.round(d*m)/m};e.Dna=function(d,m){return Math.floor(d*m)/m};e.oU=function(d){return Math.round(1E6*d)/1E6};e.toFixed=function(d,m){d=d.toFixed(m);for(m=d.length-1;0<=m&&"0"===d.charAt(m);--m);0<=m&&"."===d.charAt(m)&&--m;return 0>m?d:d.substr(0,m+1)};e.K1=function(d,m,k){return e.xa(d,0,255)|e.xa(m,0,255)<<
8|e.xa(k,0,255)<<16};e.Sx=function(d,m,k,p){d=e.xa(Math.floor(1024*d),-8192,8191);m=e.xa(Math.floor(1024*m),-8192,8191);k=e.xa(Math.floor(1024*k),-8192,8191);p=e.xa(Math.floor(1023*p),0,1023);0>d&&(d+=16384);0>m&&(m+=16384);0>k&&(k+=16384);return-(274877906944*d+16777216*m+1024*k+p)};e.LM=function(d,m,k){return e.Sx(d,m,k,1)};e.hD=function(d){if(0<=d)return(d&255)/255;d=Math.floor(-d/274877906944);8191<d&&(d-=16384);return d/1024};e.YC=function(d){if(0<=d)return((d&65280)>>8)/255;d=Math.floor(-d%
274877906944/16777216);8191<d&&(d-=16384);return d/1024};e.LC=function(d){if(0<=d)return((d&16711680)>>16)/255;d=Math.floor(-d%16777216/1024);8191<d&&(d-=16384);return d/1024};e.tY=function(d){return 0===d&&0>1/d?0:0<=d?1:Math.floor(-d%1024)/1023};e.Qca=function(d,m){d=Math.floor(d);for(m=Math.floor(m);0!==m;){let k=m;m=d%m;d=k}return d};const b=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.Wna=function(d,m){d=Math.floor(d);m=Math.floor(m);if(d===m)return[1,1];for(var k of b){let p=
d/k[0]*k[1];if(1>Math.abs(m-p))return k.slice(0);p=d/k[1]*k[0];if(1>Math.abs(m-p))return[k[1],k[0]]}k=e.Qca(d,m);return[d/k,m/k]};e.Ipa=function(d,m,k,p,r,l,h,q){var t=Math.min(d,k),v=Math.max(r,h);if(Math.max(d,k)<Math.min(r,h)||t>v)return!1;t=Math.min(m,p);v=Math.max(l,q);if(Math.max(m,p)<Math.min(l,q)||t>v)return!1;t=r-d+h-k;v=l-m+q-p;d=k-d;m=p-m;r=h-r;l=q-l;q=Math.abs(m*r-l*d);return Math.abs(r*v-l*t)>q?!1:Math.abs(d*v-m*t)<=q};e.an=function(d,m,k,p,r,l,h,q,t,v,z,A){const F=Math.max(t,z);if(l<
Math.min(t,z)||r>F)return!1;r=Math.max(v,A);if(q<Math.min(v,A)||h>r)return!1;h=t-d+z-k;q=v-m+A-p;d=k-d;m=p-m;t=z-t;v=A-v;A=Math.abs(m*t-v*d);return Math.abs(t*q-v*h)>A?!1:Math.abs(d*q-m*h)<=A};e.Hpa=function(d,m,k,p,r){const l=Math.min(d,k),h=Math.max(d,k),q=Math.min(m,p),t=Math.max(m,p),v=r.Hb,z=r.Ib,A=r.Bc,F=r.Cc,x=r.uc,E=r.vc,I=r.sc;r=r.tc;return e.an(d,m,k,p,l,h,q,t,v,z,A,F)||e.an(d,m,k,p,l,h,q,t,A,F,x,E)||e.an(d,m,k,p,l,h,q,t,x,E,I,r)||e.an(d,m,k,p,l,h,q,t,I,r,v,z)};e.Gpa=function(d,m,k,p,r){const l=
Math.min(d,k),h=Math.max(d,k),q=Math.min(m,p),t=Math.max(m,p);let v=0;for(let z=r.length-4;v<=z;v+=2)if(e.an(d,m,k,p,l,h,q,t,r[v],r[v+1],r[v+2],r[v+3]))return!0;return e.an(d,m,k,p,l,h,q,t,r[v],r[v+1],r[0],r[1])};e.Lda=function(d,m,k,p,r,l,h,q){k-=d;l=q-l;const t=k*l-(p-m)*(h-r);if(0===t)return 2;p=((m-p)*(h-d)+k*(q-m))/t;return 0<p&&1.000001>p?(l*(h-d)+(r-h)*(q-m))/t:2};e.dw=function(d,m,k,p,r,l,h,q,t){const v=(h-r)*t;t*=q-l;return e.Lda(d,m,k,p,r-v,l-t,h+v,q+t)};e.dda=function(d,m,k,p,r,l,h,q){r-=
k;l-=p;h-=k;q-=p;d-=k;k=m-p;m=r*r+l*l;p=r*h+l*q;r=r*d+l*k;l=h*h+q*q;h=h*d+q*k;q=1/(m*l-p*p);l=(l*r-p*h)*q;r=(m*h-p*r)*q;return 0<=l&&0<=r&&1>=l+r};e.vea=function(d,m,k,p,r,l,h,q){r-=k;l-=p;h-=k;q-=p;d-=k;const t=m-p;m=r*r+l*l;p=r*h+l*q;k=h*h+q*q;r=d*r+t*l;l=d*h+t*q;h=m*k-p*p;q=(k*r-p*l)/h;r=(m*l-p*r)/h;return[1-q-r,q,r]};e.uea=function(d,m,k,p,r,l,h,q,t){return[d*p+m*l+k*q,d*r+m*h+k*t]}}"use strict";
{const e=self.B;let a=null,c="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(c=l&&l.hasAttribute("href")?l.getAttribute("href"):"")c.startsWith("/")&&(c=c.substr(1)),c.endsWith("/")||(c+="/")}e.sga=function(){return c};e.MC=function(){if(!a)return"";const l=a.location;return e.rZ(l.origin+l.pathname)+c};e.rZ=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const h=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===h?"":l.substr(0,
h+1)};e.vga=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const h=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===h?l:l.substr(h+1)};e.Kfa=function(l){if(l.types)for(let h=0;h<l.types.length;h++)if("Files"===l.types[h]||"application/x-c3-file"===l.types[h])return!0;return!1};const f=["alphabetical"],b={filter:null,sort:null};e.bY=async function(l,h){h=Object.assign({},b,h);if(!e.Dx(h.filter))throw Error('"filter" option is not a function');l=Array.from(l).filter(q=>
0!==q.size).filter(q=>h.filter(q)).map(async q=>{try{return await e.rfa(q)}catch(t){return null}});l=(await Promise.all(l)).filter(q=>q);if(h&&h.sort)switch(h.sort){case "alphabetical":l.sort((q,t)=>q.name.localeCompare(t.name));break;default:throw Error(`invalid sort mode "${h.sort}", valid modes are "${f}"`);}return l};e.Jfa=async function(l,h){return e.bY(l.files,h)};e.Yga=function(l){return l.type?-1!==l.type.search(/image\/.*/):-1!==e.MimeType.WY(e.sL(l.name)).wga().search(/image\/.*/)};e.Zga=
function(l){return"image/svg+xml"===l.type};e.Xga=function(l){return l.type?e.MimeType.X(l.type).U_():e.MimeType.WY(e.sL(l.name)).U_()};e.sL=function(l){let h=l.lastIndexOf(".");return 1>h?"":l.substr(h)};e.uga=function(l){let h=l.lastIndexOf(".");return 1>h?l:l.substr(0,h)};e.e1=function(l){return l.replace(/\\/g,"/")};e.Mia=function(l){l=e.e1(l);let h=/^\w:\//.exec(l);h?(h=h[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):h="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=
l.lastIndexOf("/")+1;let t="",v=l,z="";0<q&&(t=l.slice(0,q),v=l.slice(q));l=v;q=v.lastIndexOf(".");0<q&&(z=v.slice(q),l=v.slice(0,-z.length));return{dir:t,cna:v,name:l,root:h,ext:z,Rna:h+t+v}};e.nO=function(l,h){return new Promise(q=>{self.setTimeout(q,l,h)})};e.eqa=function(l){try{l()}catch(h){e.Vr&&console.warn("Swallowed exception: ",h)}};e.noop=function(){};e.Um=function(l,h){return"string"!==typeof l||"string"!==typeof h?!1:l===h||l.normalize().toLowerCase()===h.normalize().toLowerCase()};e.xna=
function(l,h){return"string"!==typeof l||"string"!==typeof h?!1:l===h?!0:l.normalize()===h.normalize()};e.wea=function(l,h){var q=0;l[q++]=h[0];l[q++]=h[1];l[q++]=h[2];l[q++]=h[3];l[q++]=h[4];l[q++]=h[5];l[q++]=h[6];l[q++]=h[7];l[q++]=h[8];l[q++]=h[9];l[q++]=h[10];l[q++]=h[11];l[q++]=h[12];l[q++]=h[13];l[q++]=h[14];l[q]=h[15]};e.Ee=function(l,h){l.length=h};e.G=function(l){l&&0!==l.length&&e.Ee(l,0)};e.pca=function(l){if(l){for(let h=0;h<l.length;h++)e.Ee(l[h],0);e.Ee(l,0)}};e.mB=function(l,h,q){h|=
0;var t=l.length;if(!(h<=t))for(;t<h;++t)l.push(q)};e.mU=function(l){var h=4;const q=l.length;h<q?e.Ee(l,h):h>q&&e.mB(l,h,"0")};e.dd=function(l,h){e.G(l);e.Ev(l,h)};e.Ev=function(l,h){if(1E4>h.length)l.push(...h);else for(let q=0,t=h.length;q<t;++q)l.push(h[q])};e.hca=function(l,h){h=Math.floor(h);if(!(0>h||h>=l.length)){for(var q=l.length-1;h<q;++h)l[h]=l[h+1];e.Ee(l,q)}};e.fp=function(l,h){h=l.indexOf(h);0<=h&&l.splice(h,1)};e.bna=function(l,h){let q=l.length;if(h.length!==q)return!1;for(let t=
0;t<q;++t)if(l[t]!==h[t])return!1;return!0};e.gca=function(l,h){let q=[],t=0;for(let v=0,z=l.length;v<z;++v){let A=l[v];h(A)?q.push(A):(l[t]=A,++t)}e.Ee(l,t);return q};e.Zg=function(l,h){const q=l.length;let t=0;for(let v=0,z=l.length;v<z;++v){let A=l[v];h.has(A)||(l[t++]=A)}e.Ee(l,t);return q-t};e.$ca=function(l,h){return l!==Math.floor(l)?!1:0<=l&&l<h.length};e.uqa=function(l,h){if(!e.$ca(l,h))throw new RangeError("array index out of bounds");};e.fJ=function(l){return l.slice()};e.yca=function(l,
h){let q=[];for(let t of l)if(e.lM(t)){l=h(t);if(!l)throw Error("missing clone");if(l.constructor!==t.constructor)throw Error("object is not a clone");q.push(l)}else e.Cn(t)?q.push(e.yca(t,h)):q.push(t);return q};e.kna=function(l){let h=[];for(let q of l)h.push(q.slice());return h};e.Moa=function(l,h){return new Set([...l,...h])};e.Noa=function(l,h){for(const q of h)l.add(q);return l};e.first=function(l){for(let h of l)return h;return null};e.xor=function(l,h){return!l!==!h};e.compare=function(l,
h,q){switch(h){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};e.doa=function(l){for(let h in l)if(l.hasOwnProperty(h))return!0;return!1};e.W1=function(l,h){return l.length?new Promise((q,t)=>{const v=[];let z=0,A=!1;for(let F=0,x=l.length;F<x;++F)v.push(void 0),l[F].then(E=>{A||(v[F]=E,++z,z===l.length?q(v):h(z,l.length))}).catch(E=>{A=!0;t(E)})}):Promise.resolve([])};let d=[];e.Lea=function(l){d.push(l)};e.tga=
function(){let l=0;for(let h of d){let q=h();l+=q}return Math.floor(l)};let m=1;const k=new Map,p=new MessageChannel;p.port2.onmessage=function(l){const h=l.data,q=k.get(h);k.delete(h);q&&q(l.timeStamp)};e.kE=function(l){const h=m++;k.set(h,l);p.port1.postMessage(h);return h};e.LV=function(l){k.delete(l)};e.T1=e.kE;e.J4=function(){return new Promise(l=>e.T1(l))};const r=new Set;e.Fja=function(l){const h=self.requestAnimationFrame(async q=>{await e.J4();r.has(h)&&(r.delete(h),l(q))});r.add(h);return h};
e.jfa=function(l){r.has(l)&&(self.cancelAnimationFrame(l),r.delete(l))}}"use strict";
{const e=self.B;e.YL=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.KD=function(a){return!e.YL(a)};e.p4=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};e.Tw=function(a){return fetch(a,void 0).then(c=>{e.p4(c);return c})};e.Ds=function(a){return e.Tw(a).then(c=>c.text())};e.gL=function(a){return e.Tw(a).then(c=>c.json())};e.Bj=function(a){return e.Tw(a).then(c=>c.blob())};e.Cs=function(a){return e.Tw(a).then(c=>
c.arrayBuffer())};e.ZX=function(a){return new Promise((c,f)=>{const b=new Image;b.onload=()=>c(b);b.onerror=d=>f(d);b.src=a})};e.CV=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((c,f)=>{const b=new FileReader;b.onload=()=>c(b.result);b.onerror=()=>f(b.error);b.readAsArrayBuffer(a)})};e.uK=function(a){return"function"===typeof a.text?a.text():new Promise((c,f)=>{const b=new FileReader;b.onload=()=>c(b.result);b.onerror=()=>f(b.error);b.readAsText(a)})};e.efa=function(a){return e.uK(a).then(c=>
JSON.parse(c))};e.DV=async function(a){a=URL.createObjectURL(a);try{const c=await e.ZX(a);URL.revokeObjectURL(a);a="";"function"===typeof c.decode&&await c.decode();return c}finally{a&&URL.revokeObjectURL(a)}};e.lg=function(a,c){if("undefined"!==typeof document&&"function"===typeof document.createElement){const f=document.createElement("canvas");f.width=a;f.height=c;return f}return new OffscreenCanvas(a,c)};e.xw=function(a,c,f){"number"!==typeof f&&(f=1);c=c||"image/png";f=e.xa(f,0,1);return a.toBlob?
new Promise(b=>a.toBlob(b,c,f)):a.convertToBlob?a.convertToBlob({type:c,quality:f}):e.xj(()=>e.BK(a,c,f))};e.BK=function(a,c,f){"number"!==typeof f&&(f=1);c=c||"image/png";f=e.xa(f,0,1);return e.tW(a.toDataURL(c,f))};e.tW=function(a){a=e.L1(a);return e.BV(a.data,a.sda)};e.L1=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var c=a.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var f=a.substring(c+1);c=a.substring(5,c).split(";");a=c[0]||"";let b=
c[2];f="base64"===c[1]||"base64"===b?atob(f):decodeURIComponent(f);return{sda:a,data:f}};e.BV=function(a,c){var f=a.length;let b=f>>2,d=new Uint8Array(f),m=new Uint32Array(d.buffer,0,b),k,p;for(p=k=0;k<b;++k)m[k]=a.charCodeAt(p++)|a.charCodeAt(p++)<<8|a.charCodeAt(p++)<<16|a.charCodeAt(p++)<<24;for(f&=3;f--;)d[p]=a.charCodeAt(p),++p;return c?new Blob([d],{type:c}):new Blob([d])};e.WK=function(a){const c=e.lg(a.width,a.height);c.getContext("2d").drawImage(a,0,0);return e.xw(c,void 0,void 0)};e.Bga=
function(a,c,f){const b=e.lg(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return e.BK(b,c,f)};e.n_=function(a){if(e.Wb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(c=>e.WK(c));if(e.Wb.ImageBitmap)return createImageBitmap(a).then(c=>e.WK(c));{const c=e.lg(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return e.xw(c,void 0,void 0)}};e.hW=function(a,c){a.clear();for(const f of c)a.add(f)};e.Xha=function(a){const c=Object.create(null);for(const [f,
b]of a.entries())c[f]=b;return c};e.wia=function(a,c){c.clear();for(const [f,b]of Object.entries(a))c.set(f,b)};e.QE=function f(c){if("object"===typeof c&&null!==c){if(c instanceof Set)return{_c3type_:"set",data:[...c].map(b=>f(b))};if(c instanceof Map)return{_c3type_:"map",data:[...c].map(b=>[b[0],f(b[1])])};{const b=Object.create(null);for(const [d,m]of Object.entries(c))b[d]=f(m);return b}}return c};e.GC=function b(f){if("object"===typeof f&null!==f){if("set"===f._c3type_)return new Set(f.data.map(d=>
b(d)));if("map"===f._c3type_)return new Map(f.data.map(d=>[d[0],b(d[1])]));{const d=Object.create(null);for(const [m,k]of Object.entries(f))d[m]=b(k);return d}}return f};e.HV=function(f){let b="",d=!1;for(const m of f)"-"===m?d=!0:d?(b+=m.toUpperCase(),d=!1):b+=m;return b};e.Cl=function(f){return"object"===typeof f&&"function"===typeof f.next};e.Uha=function(f,b){const d=[];if("function"===typeof b)for(var m=0;m<f;++m)d.push(b());else for(m=0;m<f;++m)d.push(b);return d}}"use strict";
{const e=self.B;e.hb=class{constructor(a,c,f,b){this.Xa=this.Za=this.$a=this.Ya=0;a instanceof e.hb?this.set(a):this.tp(a||0,c||0,f||0,b||0)}iw(a,c,f){this.Ya=+a;this.$a=+c;this.Za=+f;this.xa()}tp(a,c,f,b){this.Ya=+a;this.$a=+c;this.Za=+f;this.Xa=+b;this.xa()}set(a){this.Ya=a.Ya;this.$a=a.$a;this.Za=a.Za;this.Xa=a.Xa;return this}Ka(a){return this.set(a)}add(a){this.Ya+=a.Ya;this.$a+=a.$a;this.Za+=a.Za;this.Xa+=a.Xa;this.xa()}dT(a,c,f){this.Ya+=+a;this.$a+=+c;this.Za+=+f;this.Xa+=0;this.xa()}Om(a){this.Ya=
a.Ya;this.$a=a.$a;this.Za=a.Za}yU(a){this.Ya=e.xa(+a,0,1)}aea(a){this.$a=e.xa(+a,0,1)}Wda(a){this.Za=e.xa(+a,0,1)}NB(a){this.Xa=e.xa(+a,0,1)}clone(){return e.A(e.hb,this.Ya,this.$a,this.Za,this.Xa)}toArray(){return[this.Ya,this.$a,this.Za,this.Xa]}gh(a,c){a[c++]=this.Ya;a[c++]=this.$a;a[c++]=this.Za;a[c]=this.Xa}cd(a){return this.Ya===a.Ya&&this.$a===a.$a&&this.Za===a.Za&&this.Xa===a.Xa}Tm(a){return this.Ya===a.Ya&&this.$a===a.$a&&this.Za===a.Za}Jv(a,c,f,b){return this.Ya===a&&this.$a===c&&this.Za===
f&&this.Xa===b}multiply(a){this.Ya*=a.Ya;this.$a*=a.$a;this.Za*=a.Za;this.Xa*=a.Xa}UJ(){this.Ya*=this.Xa;this.$a*=this.Xa;this.Za*=this.Xa}xa(){this.Ya=e.xa(this.Ya,0,1);this.$a=e.xa(this.$a,0,1);this.Za=e.xa(this.Za,0,1);this.Xa=e.xa(this.Xa,0,1);return this}gs(a){this.Ya=e.hD(a);this.$a=e.YC(a);this.Za=e.LC(a);this.Xa=e.tY(a)}Mca(){return`rgb(${100*(e.Al(void 0)?NaN:this.Ya)}%, ${100*(e.Al(void 0)?NaN:this.$a)}%, ${100*(e.Al(void 0)?NaN:this.Za)}%)`}gU(a){if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,
"");var c=a.split(",");if(!(3>c.length)){a=parseInt(c[0].trim(),10)/255;var f=parseInt(c[1].trim(),10)/255;c=parseInt(c[2].trim(),10)/255;isFinite(a)&&this.yU(a);isFinite(f)&&this.aea(f);isFinite(c)&&this.Wda(c);this.NB(1)}}}toJSON(){return[this.Ya,this.$a,this.Za,this.Xa]}dl(a){!Array.isArray(a)||3>a.length||(this.Ya=a[0],this.$a=a[1],this.Za=a[2],this.Xa=4<=a.length?a[3]:1)}set r(a){this.yU(a)}get r(){return this.Ya}set ep(a){this.NB(a)}get ep(){return this.Xa}static AC(a,c){return e.xa(Math.max(a,
c)-Math.min(a,c),0,1)}};e.hb.Kma=Object.freeze(e.A(e.hb,1,1,1,1));e.hb.dfa=Object.freeze(e.A(e.hb,0,0,0,1));e.hb.kma=Object.freeze(e.A(e.hb,0,0,0,0))}"use strict";
{const e=self.B;e.TE=class{constructor(a,c){this.Y=this.ia=0;a instanceof e.TE?this.Ka(a):this.set(a||0,c||0)}set(a,c){this.ia=+a;this.Y=+c}Ka(a){this.ia=a.ia;this.Y=a.Y}cd(a){return this.ia===a.ia&&this.Y===a.Y}toArray(){return[this.ia,this.Y]}gh(a,c){a[c++]=this.ia;a[c]=this.Y}offset(a,c){this.ia+=+a;this.Y+=+c}scale(a,c){this.ia*=a;this.Y*=c}Wk(a,c){this.ia/=a;this.Y/=c}round(){this.ia=Math.round(this.ia);this.Y=Math.round(this.Y)}floor(){this.ia=Math.floor(this.ia);this.Y=Math.floor(this.Y)}ceil(){this.ia=
Math.ceil(this.ia);this.Y=Math.ceil(this.Y)}angle(){return e.iT(0,0,this.ia,this.Y)}mda(){return this.ia*this.ia+this.Y*this.Y}length(){return Math.sqrt(this.mda())}Tda(a,c){const f=this.ia*c-this.Y*a;this.Y=this.Y*c+this.ia*a;this.ia=f}rotate(a){0!==a&&this.Tda(Math.sin(a),Math.cos(a))}move(a,c){0!==c&&(this.ia+=Math.cos(a)*c,this.Y+=Math.sin(a)*c)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ia/=a,this.Y/=a)}xa(a,c){this.ia=e.xa(this.ia,a,c);this.Y=e.xa(this.Y,a,c)}}}"use strict";
{const e=self.B;e.Rect=class{constructor(a,c,f,b){this.U=this.Z=this.O=this.T=0;a instanceof e.Rect?this.Ka(a):this.set(a||0,c||0,f||0,b||0)}set(a,c,f,b){this.T=+a;this.O=+c;this.Z=+f;this.U=+b}eh(a,c,f,b){a=+a;c=+c;this.T=a;this.O=c;this.Z=a+ +f;this.U=c+ +b}Ka(a){this.T=+a.T;this.O=+a.O;this.Z=+a.Z;this.U=+a.U}clone(){return new e.Rect(this.T,this.O,this.Z,this.U)}cd(a){return this.T===a.T&&this.O===a.O&&this.Z===a.Z&&this.U===a.U}toArray(){return[this.T,this.O,this.Z,this.U]}oea(){new DOMRect(this.T,
this.O,this.width(),this.height())}gh(a,c){a[c++]=this.T;a[c++]=this.O;a[c++]=this.Z;a[c]=this.U}Bea(a,c){a[c++]=this.T;a[c++]=this.O;a[c++]=this.Z;a[c++]=this.O;a[c++]=this.Z;a[c++]=this.U;a[c++]=this.T;a[c]=this.U}width(){return this.Z-this.T}height(){return this.U-this.O}cs(){return(this.T+this.Z)/2}ds(){return(this.O+this.U)/2}offset(a,c){a=+a;c=+c;this.T+=a;this.O+=c;this.Z+=a;this.U+=c}offsetLeft(a){this.T+=+a}offsetTop(a){this.O+=+a}Bda(a){this.Z+=+a}Ada(a){this.U+=+a}uB(a,c){a=+a;c=+c;this.T-=
a;this.O-=c;this.Z+=a;this.U+=c}multiply(a,c){this.T*=a;this.O*=c;this.Z*=a;this.U*=c}Wk(a,c){this.T/=a;this.O/=c;this.Z/=a;this.U/=c}mea(){const a=this.T;this.T=this.Z;this.Z=a}up(){const a=this.O;this.O=this.U;this.U=a}eK(a){const c=this.O;this.O=+a-this.U;this.U=+a-c}round(){this.T=Math.round(this.T);this.O=Math.round(this.O);this.Z=Math.round(this.Z);this.U=Math.round(this.U)}Uda(){this.T=Math.floor(this.T);this.O=Math.floor(this.O);this.Z=Math.ceil(this.Z);this.U=Math.ceil(this.U)}floor(){this.T=
Math.floor(this.T);this.O=Math.floor(this.O);this.Z=Math.floor(this.Z);this.U=Math.floor(this.U)}ceil(){this.T=Math.ceil(this.T);this.O=Math.ceil(this.O);this.Z=Math.ceil(this.Z);this.U=Math.ceil(this.U)}xa(a,c,f,b){this.T<a&&(this.T=+a);this.O<c&&(this.O=+c);this.Z>f&&(this.Z=+f);this.U>b&&(this.U=+b)}qT(){0>this.T&&(this.T=0);1<this.O&&(this.O=1);1<this.Z&&(this.Z=1);0>this.U&&(this.U=0)}normalize(){this.T>this.Z&&this.mea();this.O>this.U&&this.up()}MT(a){return!(a.Z<this.T||a.U<this.O||a.T>this.Z||
a.O>this.U)}vi(a,c){return a>=this.T&&a<=this.Z&&c>=this.O&&c<=this.U}}}"use strict";
{const e=self.B;e.Le=class{constructor(a,c,f,b,d,m,k,p){this.tc=this.sc=this.vc=this.uc=this.Cc=this.Bc=this.Ib=this.Hb=0;a instanceof e.Le?this.Ka(a):this.set(a||0,c||0,f||0,b||0,d||0,m||0,k||0,p||0)}set(a,c,f,b,d,m,k,p){this.Hb=+a;this.Ib=+c;this.Bc=+f;this.Cc=+b;this.uc=+d;this.vc=+m;this.sc=+k;this.tc=+p}zU(a,c,f,b){this.set(a,c,f,c,f,b,a,b)}Ka(a){this.Hb=a.Hb;this.Ib=a.Ib;this.Bc=a.Bc;this.Cc=a.Cc;this.uc=a.uc;this.vc=a.vc;this.sc=a.sc;this.tc=a.tc}cd(a){return this.Hb===a.Hb&&this.Ib===a.Ib&&
this.Bc===a.Bc&&this.Cc===a.Cc&&this.uc===a.uc&&this.vc===a.vc&&this.sc===a.sc&&this.tc===a.tc}toArray(){return[this.Hb,this.Ib,this.Bc,this.Cc,this.uc,this.vc,this.sc,this.tc]}gh(a,c){a[c++]=this.Hb;a[c++]=this.Ib;a[c++]=this.Bc;a[c++]=this.Cc;a[c++]=this.uc;a[c++]=this.vc;a[c++]=this.sc;a[c]=this.tc}Cea(a,c,f){a[c++]=this.Hb;a[c++]=this.Ib;a[c++]=f;a[c++]=this.Bc;a[c++]=this.Cc;a[c++]=f;a[c++]=this.uc;a[c++]=this.vc;a[c++]=f;a[c++]=this.sc;a[c++]=this.tc;a[c]=f}offset(a,c){a=+a;c=+c;this.Hb+=a;
this.Ib+=c;this.Bc+=a;this.Cc+=c;this.uc+=a;this.vc+=c;this.sc+=a;this.tc+=c}round(){this.Hb=Math.round(this.Hb);this.Ib=Math.round(this.Ib);this.Bc=Math.round(this.Bc);this.Cc=Math.round(this.Cc);this.uc=Math.round(this.uc);this.vc=Math.round(this.vc);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc)}floor(){this.Hb=Math.floor(this.Hb);this.Ib=Math.floor(this.Ib);this.Bc=Math.floor(this.Bc);this.Cc=Math.floor(this.Cc);this.uc=Math.floor(this.uc);this.vc=Math.floor(this.vc);this.sc=Math.floor(this.sc);
this.tc=Math.floor(this.tc)}ceil(){this.Hb=Math.ceil(this.Hb);this.Ib=Math.ceil(this.Ib);this.Bc=Math.ceil(this.Bc);this.Cc=Math.ceil(this.Cc);this.uc=Math.ceil(this.uc);this.vc=Math.ceil(this.vc);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc)}bn(a){this.Hb=a.T;this.Ib=a.O;this.Bc=a.Z;this.Cc=a.O;this.uc=a.Z;this.vc=a.U;this.sc=a.T;this.tc=a.U}$da(a,c){0===c?this.bn(a):this.uU(a,Math.sin(c),Math.cos(c))}uU(a,c,f){const b=a.T*c,d=a.O*c,m=a.Z*c;c*=a.U;const k=a.T*f,p=a.O*f,r=a.Z*f;a=a.U*f;this.Hb=
k-d;this.Ib=p+b;this.Bc=r-d;this.Cc=p+m;this.uc=r-c;this.vc=a+m;this.sc=k-c;this.tc=a+b}wJ(a){a.set(Math.min(this.Hb,this.Bc,this.uc,this.sc),Math.min(this.Ib,this.Cc,this.vc,this.tc),Math.max(this.Hb,this.Bc,this.uc,this.sc),Math.max(this.Ib,this.Cc,this.vc,this.tc))}vi(a,c){var f=this.Bc-this.Hb,b=this.Cc-this.Ib;const d=this.uc-this.Hb,m=this.vc-this.Ib;a-=this.Hb;c-=this.Ib;var k=f*f+b*b;let p=f*d+b*m;b=f*a+b*c;const r=d*d+m*m,l=d*a+m*c;let h=1/(k*r-p*p);f=(r*b-p*l)*h;k=(k*l-p*b)*h;if(0<=f&&0<
k&&1>f+k)return!0;f=this.sc-this.Hb;b=this.tc-this.Ib;k=f*f+b*b;p=f*d+b*m;b=f*a+b*c;h=1/(k*r-p*p);f=(r*b-p*l)*h;k=(k*l-p*b)*h;return 0<=f&&0<k&&1>f+k}cs(){return(this.Hb+this.Bc+this.uc+this.sc)/4}ds(){return(this.Ib+this.Cc+this.vc+this.tc)/4}}}"use strict";
{const e=self.B,a=[0,0,1,0,1,1,0,1],c=e.A(e.Le);e.Fp=class extends e.aa{constructor(f,b=!0){super();f||(f=a);this.Pg=Float64Array.from(f);this.Zy=new e.Rect;this.Sq=!0;this.Zf=b}m(){}OB(f){this.Pg.length===f.length?this.Pg.set(f):this.Pg=Float64Array.from(f);this.Sq=!0}Xda(){this.OB(a)}Ka(f){this.OB(f.Pg)}Sba(){if(this.Sq){var f=this.Pg,b=f[0],d=f[1],m=b,k=d;for(let p=0,r=f.length;p<r;p+=2){const l=f[p],h=f[p+1];l<b&&(b=l);l>m&&(m=l);h<d&&(d=h);h>k&&(k=h)}this.Zy.set(b,d,m,k);this.Sq=!1}}bn(f){let b=
this.Pg;8!==b.length&&(this.Pg=b=new Float64Array(8));b[0]=f.T-NaN;b[1]=f.O-NaN;b[2]=f.Z-NaN;b[3]=f.O-NaN;b[4]=f.Z-NaN;b[5]=f.U-NaN;b[6]=f.T-NaN;b[7]=f.U-NaN;this.Zy.Ka(f);this.Zy.offset(NaN,NaN);this.Sq=!1}Zda(f,b,d){c.Ka(f);c.offset(b,d);this.OB(c.toArray());this.Sq=!0}transform(f,b,d){let m=0,k=1;0!==d&&(m=Math.sin(d),k=Math.cos(d));this.kK(f,b,m,k)}kK(f,b,d,m){const k=this.Pg;for(let p=0,r=k.length;p<r;p+=2){const l=p+1,h=k[p]*f,q=k[l]*b;k[p]=h*m-q*d;k[l]=q*m+h*d}this.Sq=!0}offset(f,b){const d=
this.Pg;for(let m=0,k=d.length;m<k;m+=2)d[m]+=f,d[m+1]+=b}vi(f,b){const d=this.Pg;if(f===d[0]&&b===d[1])return!0;this.Sba();var m=this.Zy;const k=m.T-110,p=m.O-101,r=m.Z+131;m=m.U+120;let l,h,q,t,v,z,A,F;k<f?(l=k,q=f):(l=f,q=k);p<b?(h=p,t=b):(h=b,t=p);r<f?(v=r,A=f):(v=f,A=r);m<b?(z=m,F=b):(z=b,F=m);let x=0,E=0;for(let M=0,P=d.length;M<P;M+=2){var I=(M+2)%P;const Q=d[M],U=d[M+1],ba=d[I];I=d[I+1];e.an(k,p,f,b,l,q,h,t,Q,U,ba,I)&&++x;e.an(r,m,f,b,v,A,z,F,Q,U,ba,I)&&++E}return 1===x%2||1===E%2}Gn(){return this.Zf}}}"use strict";
{const e=self.B;e.bE=class extends e.aa{constructor(a){super();this.sk=new Map;if(a)for(const [c,f,b]of a)this.Set(c,f,b)}m(){this.ed();this.sk=null}ed(){const a=this.sk;for(const c of a.values())c.clear();a.clear()}Set(a,c,f){const b=this.sk;let d=b.get(a);d||(d=new Map,b.set(a,d));d.set(c,f)}X(a,c){return(a=this.sk.get(a))?a.get(c):a}zx(a){return(a=this.sk.get(a))?a.has(void 0):!1}ys(a,c){const f=this.sk,b=f.get(a);b&&b.delete(c)&&0===b.size&&f.delete(a)}xn(){let a=0;for(const c of this.sk.values())a+=
c.size;return a}*values(){for(const a of this.sk.values())yield*a.values()}*entries(){for(const [a,c]of this.sk.entries())for(const [f,b]of c.entries())yield[a,f,b]}}}"use strict";
{const e=self.B;e.cC=class extends e.aa{constructor(){super();this.vm=new Set;this.Xy=[];this.Pu=!1}m(){this.ed()}ed(){this.vm.clear();e.G(this.Xy);this.Pu=!1}Kb(a){this.vm.has(a)||(this.vm.add(a),this.Pu||this.Xy.push(a))}zx(a){return this.vm.has(a)}ys(a){this.vm.delete(a)&&(this.Pu=!0)}xn(){return this.vm.size}Fn(){return 0===this.vm.size}KC(){this.Pu&&(this.h9(),this.Pu=!1);return this.Xy}h9(){const a=this.Xy;e.G(a);for(const c of this.vm)a.push(c)}}}"use strict";
{const e=new Map,a=new Map,c=new Map,f=new Map,b=new Map,d=new Map;d.set("linear","noease");d.set("default","noease");self.As=class m{constructor(){}static e0(k){this.$E();return[...a.keys()].includes(k)}static e7(k){const p=d.get(k);if(p)return e.get(p);if(m.e0(k))return e.get(k);if(b.has(k))return b.get(k)}static vn(k){this.$E();const p=m.e7(k);return p?p:f.get(k)}static $E(){0===e.size&&(this.xb("default",()=>{}),this.xb("noease",this.c1),this.xb("easeinsine",this.zX),this.xb("easeoutsine",this.IX),
this.xb("easeinoutsine",this.vX),this.xb("easeinelastic",this.jX),this.xb("easeoutelastic",this.DX),this.xb("easeinoutelastic",this.qX),this.xb("easeinback",this.gX),this.xb("easeoutback",this.AX),this.xb("easeinoutback",this.lX),this.xb("easeinbounce",this.XK),this.xb("easeoutbounce",this.CC),this.xb("easeinoutbounce",this.mX),this.xb("easeincubic",this.iX),this.xb("easeoutcubic",this.CX),this.xb("easeinoutcubic",this.pX),this.xb("easeinquad",this.wX),this.xb("easeoutquad",this.FX),this.xb("easeinoutquad",
this.sX),this.xb("easeinquart",this.xX),this.xb("easeoutquart",this.GX),this.xb("easeinoutquart",this.tX),this.xb("easeinquint",this.yX),this.xb("easeoutquint",this.HX),this.xb("easeinoutquint",this.uX),this.xb("easeincirc",this.hX),this.xb("easeoutcirc",this.BX),this.xb("easeinoutcirc",this.nX),this.xb("easeinexpo",this.kX),this.xb("easeoutexpo",this.EX),this.xb("easeinoutexpo",this.rX),this.yO("cubicbezier",this.fX),this.yO("spline",this.JX))}static xb(k,p){m.WE(k,p,"predefined")}static yO(k,p){m.WE(k,
p,"private")}static YU(k,p){this.$E();m.WE(k,p,"custom",void 0)}static WE(k,p,r,l){switch(r){case "predefined":e.set(k,p);a.set(k,p);break;case "custom":l?(c.has(l)||c.set(l,new Map),c.get(l).set(k,p)):f.set(k,p);break;case "private":e.set(k,p);b.set(k,p);break;default:throw Error("unexpected ease mode");}}static c1(k,p,r,l){return r*k/l+p}static wX(k,p,r,l){return r*(k/=l)*k+p}static FX(k,p,r,l){return-r*(k/=l)*(k-2)+p}static sX(k,p,r,l){return 1>(k/=l/2)?r/2*k*k+p:-r/2*(--k*(k-2)-1)+p}static iX(k,
p,r,l){return r*(k/=l)*k*k+p}static CX(k,p,r,l){return r*((k=k/l-1)*k*k+1)+p}static pX(k,p,r,l){return 1>(k/=l/2)?r/2*k*k*k+p:r/2*((k-=2)*k*k+2)+p}static xX(k,p,r,l){return r*(k/=l)*k*k*k+p}static GX(k,p,r,l){return-r*((k=k/l-1)*k*k*k-1)+p}static tX(k,p,r,l){return 1>(k/=l/2)?r/2*k*k*k*k+p:-r/2*((k-=2)*k*k*k-2)+p}static yX(k,p,r,l){return r*(k/=l)*k*k*k*k+p}static HX(k,p,r,l){return r*((k=k/l-1)*k*k*k*k+1)+p}static uX(k,p,r,l){return 1>(k/=l/2)?r/2*k*k*k*k*k+p:r/2*((k-=2)*k*k*k*k+2)+p}static zX(k,
p,r,l){return-r*Math.cos(k/l*(Math.PI/2))+r+p}static IX(k,p,r,l){return r*Math.sin(k/l*(Math.PI/2))+p}static vX(k,p,r,l){return-r/2*(Math.cos(Math.PI*k/l)-1)+p}static kX(k,p,r,l){return 0===k?p:r*Math.pow(2,10*(k/l-1))+p}static EX(k,p,r,l){return k===l?p+r:r*(-Math.pow(2,-10*k/l)+1)+p}static rX(k,p,r,l){return 0===k?p:k===l?p+r:1>(k/=l/2)?r/2*Math.pow(2,10*(k-1))+p:r/2*(-Math.pow(2,-10*--k)+2)+p}static hX(k,p,r,l){return-r*(Math.sqrt(1-(k/=l)*k)-1)+p}static BX(k,p,r,l){return r*Math.sqrt(1-(k=k/l-
1)*k)+p}static nX(k,p,r,l){return 1>(k/=l/2)?-r/2*(Math.sqrt(1-k*k)-1)+p:r/2*(Math.sqrt(1-(k-=2)*k)+1)+p}static jX(k,p,r,l){let h=0,q=r;if(0===k)return p;if(1===(k/=l))return p+r;h||(h=.3*l);q<Math.abs(r)?(q=r,r=h/4):r=h/(2*Math.PI)*Math.asin(r/q);return-(q*Math.pow(2,10*--k)*Math.sin(2*(k*l-r)*Math.PI/h))+p}static DX(k,p,r,l){let h,q=0,t=r;if(0===k)return p;if(1===(k/=l))return p+r;q||(q=.3*l);t<Math.abs(r)?(t=r,h=q/4):h=q/(2*Math.PI)*Math.asin(r/t);return t*Math.pow(2,-10*k)*Math.sin(2*(k*l-h)*
Math.PI/q)+r+p}static qX(k,p,r,l){let h,q=0,t=r;if(0===k)return p;if(2===(k/=l/2))return p+r;q||(q=.3*l*1.5);t<Math.abs(r)?(t=r,h=q/4):h=q/(2*Math.PI)*Math.asin(r/t);return 1>k?-.5*t*Math.pow(2,10*--k)*Math.sin(2*(k*l-h)*Math.PI/q)+p:t*Math.pow(2,-10*--k)*Math.sin(2*(k*l-h)*Math.PI/q)*.5+r+p}static gX(k,p,r,l,h){void 0===h&&(h=1.70158);return r*(k/=l)*k*((h+1)*k-h)+p}static AX(k,p,r,l,h){void 0===h&&(h=1.70158);return r*((k=k/l-1)*k*((h+1)*k+h)+1)+p}static lX(k,p,r,l,h){void 0===h&&(h=1.70158);return 1>
(k/=l/2)?r/2*k*k*(((h*=1.525)+1)*k-h)+p:r/2*((k-=2)*k*(((h*=1.525)+1)*k+h)+2)+p}static XK(k,p,r,l){return r-m.CC(l-k,0,r,l)+p}static CC(k,p,r,l){return(k/=l)<1/2.75?7.5625*r*k*k+p:k<2/2.75?r*(7.5625*(k-=1.5/2.75)*k+.75)+p:k<2.5/2.75?r*(7.5625*(k-=2.25/2.75)*k+.9375)+p:r*(7.5625*(k-=2.625/2.75)*k+.984375)+p}static mX(k,p,r,l){return k<l/2?.5*m.XK(2*k,0,r,l)+p:.5*m.CC(2*k-l,0,r,l)+.5*r+p}static fX(k,p,r,l,h){return p+3*k*(r-p)+3*k**2*(p+l-2*r)+k**3*(h-p+3*r-3*l)}static JX(k,p,r,l,h,q,t,v,z,A){if(l===
h&&q===t)return k;if(1==k)k=1;else{for(var F=0,x=1,E=A[x];10!=x&&E<=k;)x++,E=A[x],F+=.1;x--;E=A[x];A=F+(k-E)/(A[x+1]-E)*.1;v=v-3*q+3*l-p;q=3*q-6*l+3*p;p=3*(l-p);l=3*v*A*A+2*q*A+p;if(0!==l)if(.02<=l)for(F=0;4>F;++F)A-=(((v*A+q)*A+p)*A-k)/(3*v*A*A+2*q*A+p);else{l=F;F+=.1;x=0;let I;do A=l+(F-l)/2,E=((v*A+q)*A+p)*A-k,0<E?F=A:l=A,E=1E-7<Math.abs(E),I=10>++x;while(E&&I)}k=A}return(((z-3*t+3*h-r)*k+(3*t-6*h+3*r))*k+3*(h-r))*k}static yY(k,p,r,l){const h=[];l=l-3*r+3*p-k;r=3*r-6*p+3*k;k=3*(p-k);for(let q=
0;11>q;++q)p=.1*q,h.push(((l*p+r)*p+k)*p);return h}}}"use strict";{const e=self.B;e.kja=class{constructor(){this.MR=[]}m(){this.ed();this.MR=null}ed(){e.pca(this.MR)}}}"use strict";
self.B.Event=class{constructor(e,a){this.type=e;this.cancelable=!!a;this.ada=this.VJ=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.ada)throw Error(`cannot stop async event '${this.type}' propagation`);this.VJ=!0}};"use strict";
{const e=self.B;e.Event.KZ=class extends e.aa{constructor(a){super();this.wa=a;this.Pe=[];this.Aq=new Set;this.Ue=[];this.ar=new Set;this.ju=0;this.Wu=[];this.mr=[];this.nr=[]}m(){0<this.ju||(e.G(this.Pe),this.Aq.clear(),e.G(this.Ue),this.ar.clear(),e.G(this.Wu),e.G(this.mr),e.G(this.nr),e.m(this))}wO(a,c){this.tP()?this.Wu.push([a,c]):c?this.Aq.has(a)||(this.Pe.push(a),this.Aq.add(a)):this.ar.has(a)||(this.Ue.push(a),this.ar.add(a))}v9(a,c){this.tP()?c?this.mr.push(a):this.nr.push(a):c?this.Aq.has(a)&&
(this.Aq.delete(a),e.fp(this.Pe,a)):this.ar.has(a)&&(this.ar.delete(a),e.fp(this.Ue,a))}K7(){return!this.Pe.length&&!this.Ue.length}tP(){return 0<this.ju}e9(){for(var a of this.Wu)this.wO(...a);e.G(this.Wu);for(const c of this.nr)this.ar.delete(c);for(const c of this.mr)this.Aq.delete(c);a=new Set(this.mr);e.Zg(this.Ue,new Set(this.nr));e.Zg(this.Pe,a);e.G(this.mr);e.G(this.nr)}Q6(a){this.uq();let c=!1;for(let f=0,b=this.Pe.length;f<b;++f)if(this.Pe[f](a),a.VJ){c=!0;break}if(!c)for(let f=0,b=this.Ue.length;f<
b&&(this.Ue[f](a),!a.VJ);++f);this.rq();return!a.defaultPrevented}S6(a){this.uq();for(let c=0,f=this.Pe.length;c<f;++c)this.Pe[c](a);for(let c=0,f=this.Ue.length;c<f;++c)this.Ue[c](a);this.rq();return!0}uq(){this.ju++}rq(){this.ju--;0===this.ju&&(this.Wu.length||this.mr.length||this.nr.length)&&this.e9()}jq(a){a?this.uq():this.rq()}YO(a){const c=[];this.uq();for(let b=0,d=this.Pe.length;b<d;++b){var f=this.Pe[b](a);f instanceof Promise&&c.push(f)}for(let b=0,d=this.Ue.length;b<d;++b)f=this.Ue[b](a),
f instanceof Promise&&c.push(f);this.rq();return c.length?Promise.all(c).then(()=>!a.defaultPrevented):!a.defaultPrevented}async N6(a){return await this.YO(a)}async O6(a){this.uq();for(let f=0,b=this.Pe.length;f<b;++f){var c=this.Pe[f](a);c instanceof Promise&&await c}for(let f=0,b=this.Ue.length;f<b;++f)c=this.Ue[f](a),c instanceof Promise&&await c;this.rq();return!a.defaultPrevented}*P6(a){this.uq();for(let f=0,b=this.Pe.length;f<b;++f){var c=this.Pe[f](a);e.Cl(c)&&(yield*c)}for(let f=0,b=this.Ue.length;f<
b;++f)c=this.Ue[f](a),e.Cl(c)&&(yield*c);this.rq()}}}"use strict";
{const e=self.B;e.Event.oc=class extends e.aa{constructor(){super();this.po=new Map;this.wG=!1}m(){if(this.wG)throw Error("already released");this.TV();this.wG=!0;e.m(this)}pO(){return this.wG}TV(){for(let a of this.po.values())a.m();this.po.clear()}Wn(a,c){let f=this.po.get(a);return f?f:c?(f=e.A(e.Event.KZ,a),this.po.set(a,f),f):null}pD(a){return this.po.has(a)}addEventListener(a,c,f){this.Wn(a,!0).wO(c,!!f)}removeEventListener(a,c,f){let b=this.Wn(a,!1);b&&(b.v9(c,!!f),b.K7()&&this.po.delete(a))}dispatchEvent(a){const c=
this.Wn(a.type,!1);return c?a.cancelable?c.Q6(a):c.S6(a):!0}async nJ(a){const c=this.Wn(a.type,!1);return c?await c.N6(a):!0}Dca(a){const c=this.Wn(a.type,!1);return c?c.YO(a):!0}async Cca(a){const c=this.Wn(a.type,!1);c&&await c.O6(a)}Eca(a){const c=this.Wn(a.type,!1);if(!c)return null;if(a.cancelable)throw Error("not supported");return c.P6(a)}jq(a){for(const c of this.po.values())c.jq(a)}}}"use strict";
{const e=self.B,a="undefined"!==typeof requestIdleCallback;let c=[],f=-1,b=0;function d(r){f=a&&0===b?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<b?1:r)}function m(r){f=-1;if(c.length){var l=performance.now(),h=0;do{k(c.shift());var q=performance.now();++h;var t=(q-l)/h*1.1}while(c.length&&(a&&0===b&&"undefined"!==typeof r?t<r.timeRemaining():12>q-l+t));-1===f&&c.length&&d(Math.max(16-(q-l),4))}}function k(r){let l;try{l=r.vJ()}catch(h){r.reject(h);return}r.resolve(l)}let p=e.ZM.zx("disable-asyncify");
p&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.xj=function(r){let l=null;e.Vr&&(l=e.Yw());return new Promise((h,q)=>{c.push({vJ:r,resolve:h,reject:q,stack:l});p?k(c.pop()):-1===f&&d(16)})};e.xj.HN=function(r){if(r)++b;else if(--b,0>b)throw Error("already turned off high throughput mode");}}"use strict";
{const e=self.B;let a=-1;function c(){a=-1}e.Sw=function(){-1===a&&(a=Date.now(),self.setTimeout(c,16));return a};let f=-1,b=-1,d=new Set;function m(){b=f=-1;let k=Date.now();for(let p of d)if(p.t5(k)){let r=p.ko;if(-1===b||r<b)b=r}else d.delete(p);-1!==b&&(f=self.setTimeout(m,Math.max(b-k+100,1E3)))}e.m_=class{constructor(k,p){this.zq=k;this.UA=1E3*p;this.ko=0;this.Cb=!1}hd(){let k=e.Sw();this.ko=k+this.UA;this.Cb||(d.add(this),this.Cb=!0);-1===f?(b=this.ko,f=self.setTimeout(m,this.UA+100)):this.ko<
b&&b>k+1E3&&(self.clearTimeout(f),b=this.ko,f=self.setTimeout(m,this.UA+100))}t5(k){return k>=this.ko?this.zq()?(this.ko=k+this.UA,!0):this.Cb=!1:!0}KV(){this.Cb&&(d.delete(this),this.Cb=!1,0===d.size&&-1!==f&&(self.clearTimeout(f),b=f=-1))}m(){this.KV();this.zq=null}}}"use strict";
{const e=self.B;e.nl=class a{constructor(c){this.Jq=!1;this.xG=c}Pw(){this.Jq||(this.Jq=!0,this.xG&&(this.xG(),this.xG=null))}m(){this.Pw()}static m(c){return new a(()=>c.m())}static Uw(c,f,b){if("undefined"===typeof d||null===d)var d=!1;else if("boolean"!==typeof d&&"object"!==typeof d)throw new TypeError("invalid event listener options");if(f.includes(" ")){f=f.split(" ");const m=new e.GK;for(let k of f)c.addEventListener(k,b,d),m.Kb(e.A(e.nl,()=>c.removeEventListener(k,b,d)));return m}c.addEventListener(f,
b,d);return e.A(e.nl,()=>c.removeEventListener(f,b,d))}};e.bma=class extends e.nl{};e.GK=class extends e.nl{constructor(...a){super();this.tf=new Set;for(let c of a)this.Kb(c)}Kb(...a){if(this.Jq)throw Error("already disposed");for(let c of a)this.tf.add(c)}ne(a){if(this.Jq)throw Error("already disposed");this.tf.delete(a)}Pw(){if(this.Jq)throw Error("already disposed");this.Jq=!0;for(let a of this.tf)a.Pw();this.tf.clear();this.tf=null}m(){this.Pw()}}}"use strict";
{const e=self.B;e.OD=class extends e.aa{constructor(){super();this.xr=this.mv=this.Y=this.bz=0}Kb(a){this.Y=+a-this.bz;this.mv=this.xr+this.Y;this.bz=this.mv-this.xr-this.Y;this.xr=this.mv}X(){return this.xr}hd(){this.xr=this.mv=this.Y=this.bz=0}Set(a){this.mv=this.Y=this.bz=0;this.xr=+a}m(){}}}"use strict";
{const e=self.B,a={gE:function(c){this.KU=c;this.left=this.right=this.KU.pb;this.parent=null;this.color=!1;this.key=null},Kn:function(c){this.size=0;this.pb=new a.gE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb;this.compare=c||this.zca}};wa=a.Kn.prototype;wa.zca=function(c,f){return c<f?-1:f<c?1:0};wa.clone=function(){var c=new a.Kn(this.compare);c.Xca(this);return c};wa.clear=function(){this.size=0;this.pb=new a.gE(this);this.pb.color=!1;this.root=this.pb;this.root.parent=this.pb};
wa.Qv=function(c){var f=c.right;c.right=f.left;f.left!=this.pb&&(f.left.parent=c);f.parent=c.parent;c.parent==this.pb?this.root=f:c==c.parent.left?c.parent.left=f:c.parent.right=f;f.left=c;c.parent=f};wa.gw=function(c){var f=c.left;c.left=f.right;f.right!=this.pb&&(f.right.parent=c);f.parent=c.parent;c.parent==this.pb?this.root=f:c==c.parent.right?c.parent.right=f:c.parent.left=f;f.right=c;c.parent=f};wa.Tr=function(c){if(this.contains(c))this.Mv(c).key=c;else{var f=new a.gE(this);f.key=c;c=this.pb;
for(var b=this.root;b!=this.pb;)c=b,b=0>this.compare(f.key,b.key)?b.left:b.right;f.parent=c;c==this.pb?this.root=f:0>this.compare(f.key,c.key)?c.left=f:c.right=f;f.left=this.pb;f.right=this.pb;f.color=!0;this.Yca(f);this.size++}};wa.Yca=function(c){for(;c!=this.pb&&c!=this.root&&1==c.parent.color;)if(c.parent==c.parent.parent.left){var f=c.parent.parent.right;1==f.color?(c.parent.color=!1,f.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.right&&(c=c.parent,this.Qv(c)),c.parent.color=
!1,c.parent.parent.color=!0,c.parent.parent!=this.pb&&this.gw(c.parent.parent))}else f=c.parent.parent.left,1==f.color?(c.parent.color=!1,f.color=!1,c.parent.parent.color=!0,c=c.parent.parent):(c==c.parent.left&&(c=c.parent,this.gw(c)),c.parent.color=!1,c.parent.parent.color=!0,c.parent.parent!=this.pb&&this.Qv(c.parent.parent));this.root.color=!1};wa.Bca=function(c){var f=c.left==this.pb||c.right==this.pb?c:this.dn(c);var b=f.left!=this.pb?f.left:f.right;b.parent=f.parent;f.parent==this.pb?this.root=
b:f==f.parent.left?f.parent.left=b:f.parent.right=b;f!=c&&(c.key=f.key);0==f.color&&this.Aca(b);this.size--};wa.Aca=function(c){for(;c!=this.root&&0==c.color;)if(c==c.parent.left){var f=c.parent.right;1==f.color&&(f.color=!1,c.parent.color=!0,this.Qv(c.parent),f=c.parent.right);0==f.left.color&&0==f.right.color?(f.color=!0,c=c.parent):(0==f.right.color&&(f.left.color=!1,f.color=!0,this.gw(f),f=c.parent.right),f.color=c.parent.color,c.parent.color=!1,f.right.color=!1,this.Qv(c.parent),c=this.root)}else f=
c.parent.left,1==f.color&&(f.color=!1,c.parent.color=!0,this.gw(c.parent),f=c.parent.left),0==f.right.color&&0==f.left.color?(f.color=!0,c=c.parent):(0==f.left.color&&(f.right.color=!1,f.color=!0,this.Qv(f),f=c.parent.left),f.color=c.parent.color,c.parent.color=!1,f.left.color=!1,this.gw(c.parent),c=this.root);c.color=!1};wa.remove=function(c){c=this.Mv(c);if(c!=this.pb){var f=c.key;this.Bca(c);return f}return null};wa.min=function(c){for(;c.left!=this.pb;)c=c.left;return c};wa.max=function(c){for(;c.right!=
this.pb;)c=c.right;return c};wa.dn=function(c){if(c.right!=this.pb)return this.min(c.right);for(var f=c.parent;f!=this.pb&&c==f.right;)c=f,f=f.parent;return f};wa.Mv=function(c){for(var f=this.root;f!=this.pb&&0!=this.compare(f.key,c);)f=0>this.compare(c,f.key)?f.left:f.right;return f};wa.contains=function(c){return null!=this.Mv(c).key};wa.xJ=function(){var c=[];this.forEach(function(f){c.push(f)});return c};wa.Xca=function(c){if("array"==a.lK(c))for(var f=0;f<c.length;f++)this.Tr(c[f]);else if("function"==
a.lK(c.forEach))c.forEach(this.Tr,this);else if("function"==a.lK(c.xJ))for(c=c.xJ(),f=0;f<c.length;f++)this.Tr(c[f]);else if("object"==a.lK(c))for(f in c)this.Tr(c[f])};wa.range=function(c,f){var b=[];this.tea(function(d){b.push(d)},c,f);return b};wa.tea=function(c,f,b){if(!this.Wr())for(f=this.Mv(f),b=this.Mv(b);f!=b&&!c.call(void 0,f.key,this);)f=this.dn(f)};wa.forEach=function(c,f){if(!this.Wr())for(var b=this.min(this.root);b!=this.pb;b=this.dn(b))c.call(f,b.key,b.key,this)};wa.some=function(c,
f){if(this.Wr())return!1;for(var b=this.min(this.root);b!=this.pb;b=this.dn(b))if(c.call(f,b.key,b.key,this))return!0;return!1};wa.every=function(c,f){if(this.Wr())return!1;for(var b=this.min(this.root);b!=this.pb;b=this.dn(b))if(!c.call(f,b.key,b.key,this))return!1;return!0};wa.map=function(c,f){var b=[];if(this.Wr())return b;for(var d=this.min(this.root);d!=this.pb;d=this.dn(d))b.push(c.call(f,d.key,d.key,this));return b};wa.filter=function(c,f){var b=[];if(this.Wr())return b;for(var d=this.min(this.root);d!=
this.pb;d=this.dn(d))c.call(f,d.key,d.key,this)&&b.push(d.key);return b};wa.Wr=function(){return 0==this.size};e.Kn=class extends e.aa{constructor(c){super();this.Rg=new a.Kn(c);this.Mq=!1;this.Qo=new Set;this.Ro=new Set}Kb(c){this.Mq?this.Rg.contains(c)?this.Ro.delete(c):this.Qo.add(c):this.Rg.Tr(c)}ne(c){this.Mq?this.Rg.contains(c)?this.Ro.add(c):this.Qo.delete(c):this.Rg.remove(c)}zx(c){return this.Mq?this.Qo.has(c)?!0:!this.Ro.has(c)&&this.Rg.contains(c):this.Rg.contains(c)}ed(){this.Rg.clear();
this.Qo.clear();this.Ro.clear()}toArray(){if(this.Mq)throw Error("cannot be used in queueing mode");return this.Rg.xJ()}xn(){return this.Rg.size+this.Qo.size-this.Ro.size}Fn(){return 0===this.xn()}wg(c){c=!!c;if(this.Mq!==c&&(this.Mq=c,!c)){for(const f of this.Ro)this.Rg.remove(f);this.Ro.clear();for(const f of this.Qo)this.Rg.Tr(f);this.Qo.clear()}}*values(){if(!this.Fn()){var c=this.Rg;for(let f=c.min(c.root);f!=c.pb;f=c.dn(f))yield f.key}}[Symbol.iterator](){return this.values()}}}"use strict";
{const e=self.B;e.PM=class{constructor(a=e.hardwareConcurrency){this.gba=a;this.aI=[];this.PF=0}Kb(a){return new Promise((c,f)=>{this.aI.push({vJ:a,resolve:c,reject:f});this.EP()})}async EP(){if(this.aI.length&&!(this.PF>=this.gba)){this.PF++;var a=this.aI.shift();try{const c=await a.vJ();a.resolve(c)}catch(c){a.reject(c)}this.PF--;this.EP()}}}}"use strict";
{const e=self.B;e.e2=class{constructor(a,c,f){this.zq=a;this.Taa=c;this.Uaa=f||2*c;this.Dr=-1;this.iA=-Infinity;this.WS=()=>this.S8();this.vaa=this.VG=!1;this.bu=null}i7(){return"undefined"!==typeof e.zV&&e.zV.iha()?this.Uaa:this.Taa}JV(){var a=[];if(-1===this.Dr){this.bu=a;a=e.Sw();var c=a-this.iA,f=this.i7();c>=f&&this.vaa?(this.iA=a,this.bQ()):this.Dr=self.setTimeout(this.WS,Math.max(f-c,4))}}bQ(){this.VG=!0;const a=this.bu;this.bu=null;a?this.zq(...a):this.zq();this.VG=!1}hd(){this.VG||(this.CO(),
this.bu=null,this.iA=e.Sw())}S8(){this.Dr=-1;this.iA=e.Sw();this.bQ()}CO(){-1!==this.Dr&&(self.clearTimeout(this.Dr),this.Dr=-1)}m(){this.CO();this.WS=this.bu=this.zq=null}}}"use strict";function Ub(e,a){if(!e.iR)throw Error("no get base size callback set");return e.iR(a)}function Vb(e){if(!e.wS)throw Error("no redraw callback set");e.wS()}self.B.Jka=class{constructor(){this.Qaa=new Map;this.wS=this.xS=this.iR=null}};"use strict";
self.B.Ika=class{constructor(e,a){this.fr=e;this.zaa=a;this.Ac=0;Ub(this.fr,a).then(()=>{Vb(this.fr)}).catch(c=>{console.error("[SVG] Error loading SVG: ",c);Vb(this.fr)});this.bI=null}m(){if(0>=this.Ac)throw Error("already released");this.Ac--;0===this.Ac&&this.Nt()}Nt(){if(this.bI){var e=this.fr;if(!e.xS)throw Error("no release result callback set");e.xS(this.bI);this.bI=null}this.fr.Qaa.delete(this.zaa);this.fr=null}};"use strict";
{const e=self.B;e.qma="\ufeff";const a=new Set([..."0123456789"]);e.f0=function(r){return a.has(r)};const c=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Fx=function(r){return c.has(r)};e.Zfa=function(r){return[...r].filter(l=>!e.Fx(l)).join("")};e.MD=function(r){for(const l of r)if(!e.Fx(l))return!1;return!0};e.m0=function(r){return 1===r.length&&32>r.charCodeAt(0)};e.cY=function(r){return[...r].filter(l=>
!e.m0(l)).join("")};const f=new Set([..."0123456789.+-e"]);e.oha=function(r){r=r.trim();if(!r.length)return!1;let l=r.charAt(0);if("-"!==l&&!a.has(l))return!1;for(let h of r)if(!f.has(h))return!1;return!0};e.n2=function(r){let l=r.length;for(;0<l&&e.f0(r.charAt(l-1));)--l;return r.substr(0,l)};e.Dga=function(r){let l=e.n2(r);r=(r=r.substr(l.length))?(parseInt(r,10)+1).toString():"2";return l+r};const b=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function d(r){return b.get(r)}
const m=/[&<>"']/g;e.QX=function(r){return r.replace(m,d)};e.Pfa=function(r){r=e.xh(r,"\\","\\\\");r=e.xh(r,'"','\\"');r=e.xh(r,"\t","\\t");r=e.xh(r,"\r","");return e.xh(r,"\n","\\n")};e.Qfa=function(r){r=e.xh(r,"&","&amp;");r=e.xh(r,"<","&lt;");r=e.xh(r,">","&gt;");return e.xh(r,'"',"&quot;")};const k=/[-[\]{}()*+?.,\\^$|#\s]/g;e.Bs=function(r){return r.replace(k,"\\$&")};e.$fa=function(r,l,h=!1){if(!l)return[];h||(r=r.toLowerCase(),l=l.toLowerCase());h=l.length;var q=0;let t=[];for(;-1<(q=r.indexOf(l,
q));)t.push(q),q+=h;return t};e.xh=function(r,l,h){return r.replaceAll(l,()=>h)};e.Cja=function(r,l,h){return r.replace(new RegExp(e.Bs(l),"gi"),()=>h)};e.ala=function(r,l){"string"===typeof l?r.textContent=l:l.HR?r.textContent=l.toString():(r.innerHTML=l.jK(),l instanceof e.il&&l.ica(r))};e.Xla=function(r,l){return r instanceof e.vD||r instanceof e.il?r.cd(l):l instanceof e.vD||l instanceof e.il?l.cd(r):r===l};e.Yla=function(r,...l){let h=r;for(let q=0,t=l.length;q<t;++q){const v=`{${q}}`;if(!r.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
h=h.replace(v,l[q].toString())}return h};e.Zla=function(r,...l){let h=r,q=-1,t=-1;for(let v=0,z=l.length;v<z;++v){const A=`{${v}}`;r.includes(A)?(t=v,h=h.replace(A,l[v].toString())):-1===q&&(q=v)}if(0<=q&&0<=t&&q<t)throw Error(`missing placeholder '${q}' in string substitution`);return h};e.$la=function(r,l){for(let [h,q]of Object.entries(l))r=r.replaceAll(h,q.toString());return r};e.Nla=function(r,l){r=r.toLowerCase();l=l.toLowerCase();return r>l?1:r<l?-1:0};e.dga=function(r,l){l="common."+(l?"dataRates":
"dataSizes")+".";const h=self.ooa;if(1024>r)return h(l+"bytes",r);if(1048576>r)return r/=1024,r=10>r?Math.round(10*r)/10:Math.round(r),h(l+"kilobytes",r);if(1073741824>r)return r/=1048576,r=10>r?Math.round(10*r)/10:Math.round(r),h(l+"megabytes",r);if(1099511627776>r)return r/=1073741824,r=10>r?Math.round(10*r)/10:Math.round(r),h(l+"gigabytes",r);r/=1099511627776;r=10>r?Math.round(10*r)/10:Math.round(r);return h(l+"terabytes",r)};const p={fca:!1,wca:!0,Sca:!0,tda:!0,qU:!0};e.ega=function(r,l){l=Object.assign({},
p,l);e.q0.oja("common.time");const h=[],q=self.lang,t=self.noa;if(l.wca){var v=Math.floor(r/86400);0<v&&(r-=86400*v,h.push(t(".days",null,v)))}l.Sca&&(v=Math.floor(r/3600),0<v||h.length)&&(r-=3600*v,h.push(t(".hours",null,v)));l.tda&&(v=Math.floor(r/60),0<v||h.length||!l.qU)&&(r-=60*v,h.push(t(".minutes",null,v)));l.qU&&h.push(t(".seconds",null,Math.floor(r%60)));r=(l.fca?q(".approx-prefix"):"")+h.join(q(".separator"));e.q0.ija();return r};e.Uma=function(r,l){let h=0>r?"-":"";r=Math.abs(r);r=r.toString();
l-=r.length;for(let q=0;q<l;++q)h+="0";return h+r};e.ama=function(r){return r.toLowerCase().replace(/\b\w/g,l=>l.toUpperCase())};e.Afa=function(r,l){r=r.split(".").map(h=>h.trim());l=l.split(".").map(h=>h.trim());e.mU(r);e.mU(l);r=r.map(h=>parseInt(h,10));l=l.map(h=>parseInt(h,10));for(let h=0;4>h;++h){const q=r[h]-l[h];if(0!==q)return 0>q?-1:1}return 0};e.Gfa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const l=Math.floor(16*Math.random());return("x"===r?l:l&3|8).toString(16)})};
e.Vla=function(r,l){if(r.length!==l.length)throw Error("strings must be same length");let h=0;for(let q=0,t=r.length;q<t;++q)r.charAt(q)!==l.charAt(q)&&++h;return h};e.Wla=function(r,l){if(0===r.length)return l.length;if(0===l.length)return r.length;let h,q,t,v;if(r.length>l.length){var z=r;r=l;l=z}v=Array(r.length+1);for(z=0;z<=r.length;z++)v[z]=z;for(z=1;z<=l.length;z++){q=z;for(h=1;h<=r.length;h++)t=l[z-1]===r[h-1]?v[h-1]:Math.min(v[h-1]+1,Math.min(q+1,v[h]+1)),v[h-1]=q,q=t;v[r.length]=q}return v[r.length]}}"use strict";
{const e=self.B,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),c=/\[(\/?)([a-zA-Z0-9]+)\]/g,f=/\[(\/?)([^\[]*?)\]/g;
let b=null,d=0;function m(p,r,l){var h=a.get(l);if(h){if("string"===typeof h){if("a"!==h||r)return"<"+r+h+">";r=parseInt(l.substring(1),10)-1;if(0>r||r>=b.length)throw Error("invalid bbcode link substitution");h=b[r];if("string"===typeof h)return`<a href="${b[r]}">`;if("function"===typeof h)return`<a class="bblink${r}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(h))return p=h[0],h=h[1],r?"</"+p+">":`<${p} class="${h}">`}else return"class"===l?r?"</span>":`<span class="bbclass${d++}">`:
p}const k=/\n/g;e.il=class{constructor(p,r){this.Cg=r&&r.yda?p:e.QX(p);this.UG="";this.SQ=!1;this.Hu=[];if(r&&(this.SQ=!!r.lna,r.links)){if(9<r.links.length)throw Error("too many links");this.Hu=r.links}this.oR=this.Cg.includes("[");this.jS=this.SQ&&this.Cg.includes("\n");this.HR=!this.oR&&!this.jS&&!this.Cg.includes("&");this.tR=!1;this.ku=[]}toString(){return this.Cg}valueOf(){return this.Cg}jK(){if(this.HR)return this.Cg;if(!this.UG&&this.Cg){let p=this.Cg;this.oR&&(d=0,b=this.Hu,p=p.replace(c,
m),b=null);this.jS&&(p=p.replace(k,"<br>"));this.UG=p}return this.UG}ica(p){if(this.Hu.length)for(let r=0,l=this.Hu.length;r<l;++r){const h=this.Hu[r];if("function"!==typeof h)continue;const q=p.querySelector(".bblink"+r);if(!q)throw Error("unable to attach BBString link handler");q.onclick=h}}cd(p){return p instanceof e.vD?this.jK()===p.jK():p instanceof e.il?this.Cg===p.Cg:this.Cg===p}pea(){if(this.tR)return this.ku;const p=this.Cg,r=[];let l=f.lastIndex=0;for(var h;null!==(h=f.exec(p));){var q=
h.index;if(0<q&&"\\"===p.charAt(q-1))continue;var t=h[1],v=h[2];const z=p.substring(l,q);l=q+h[0].length;z&&this.ku.push({text:z,Rc:r.slice(0)});if(v)if(t)for(v=v.toLowerCase(),h=r.length-1;0<=h;--h){if(r[h].tag===v){r.splice(h,1);break}}else h=v,q=null,t=v.indexOf("="),-1!==t?(h=v.substring(0,t).toLowerCase(),q=v.substring(t+1)):h=h.toLowerCase(),r.push({tag:h,param:q})}l<p.length&&this.ku.push({text:p.substring(l),Rc:r.slice(0)});for(const z of this.ku)z.text=this.d9(z.text);this.tR=!0;return this.ku}d9(p){p=
e.xh(p,"\\[","[");return e.xh(p,"\\\\","\\")}static cO(p){return p.replace(f,"")}}}"use strict";
{const e=self.B;e.VE=class{constructor(){this.nm=[]}GP(a,c){let f=0,b=0,d=0,m=0,k=0;for(const p of a)-1===p.width&&(a=c(p.text,p.Rc),p.width=a.width,p.height=a.height,p.Cf=a.Cf||0,p.af=a.af||0,p.df=a.df||0),f+=p.width,b=Math.max(b,p.height),d=Math.max(d,p.Cf),m=Math.max(m,p.af),k=Math.max(k,p.df);return{width:f,height:b,Cf:d,af:m,df:k}}ry(a,c,f,b,d,m){this.nm.push({GT:a,width:c,height:f,Cf:b,af:d,df:m})}VE(a,c,f,b,d){"string"===typeof a&&(a=[{text:a,Rc:[]}]);e.G(this.nm);if(!(!a.length||1===a.length&&
!a[0].text.length||2>f)){if(1===a.length){var m=a[0];const k=m.text;m=m.Rc;if(100>=k.length&&!k.includes("\n")){let {width:p,height:r,Cf:l,af:h,df:q}=c(k,m);p+=d;l=l||0;h=h||0;q=q||0;if(p<=f){this.ry([{text:k,Rc:m,width:p,height:r,Cf:l,af:h,df:q}],p,r,l,h,q);return}}}if("word"===b)b=this.R$(a);else{b=[];for(const k of a)e.Ev(b,[...k.text].map(p=>[{text:p,Rc:k.Rc}]))}this.gaa(b,c,f,d)}}R$(a){const c=[];let f=[],b=!1;for(const m of a){var d=m.text;a=m.Rc;for(const k of d)"\n"===k?(0<f.length&&c.push(f),
c.push([{text:"\n",Rc:a}]),f=[]):0===f.length?(f.push({text:k,Rc:a}),b=e.Fx(k)):(d=e.Fx(k),d===b?(d=f[f.length-1],d.Rc===a?d.text+=k:f.push({text:k,Rc:a})):(c.push(f),f=[],f.push({text:k,Rc:a}),b=d))}0<f.length&&c.push(f);return c}w5(a){return a.map(c=>({text:c.text,Rc:c.Rc,width:c.width,height:c.height,Cf:c.Cf,af:c.af,df:c.df}))}BO(a,c){var f=a.length?a[a.length-1]:null;let b=0;f&&c[0].Rc===f.Rc&&(f.text+=c[0].text,f.width=-1,f.height=-1,f.Cf=-1,f.af=-1,f.df=-1,b=1);for(f=c.length;b<f;++b){const d=
c[b];a.push({text:d.text,Rc:d.Rc,width:-1,height:-1,Cf:-1,af:-1,df:-1})}}gaa(a,c,f,b){let d=[],m=0,k=0,p=0,r=0;var l=0;for(const h of a){if(1===h.length&&"\n"===h[0].text){0===k&&(l=c(" ",h[0].Rc),k=l.height,p=l.Cf||0,r=l.af||0,l=l.df||0);this.ry(d,m,k,p,r,l);d=[];l=r=p=k=m=0;continue}a=this.w5(d);this.BO(a,h);const q=this.GP(a,c),t=q.width;t>=f?(0<d.length&&this.ry(d,m,k,p,r,l),d=[],e.MD(h[0].text)?l=r=p=k=m=0:(this.BO(d,h),l=this.GP(d,c),m=l.width,k=l.height,p=l.Cf,r=l.af,l=l.df)):(d=a,m=t,k=q.height,
p=q.Cf,r=q.af,l=q.df)}0<d.length&&this.ry(d,m,k,p,r,l);this.U$(c,b)}U$(a,c){for(const b of this.nm){const d=b.GT;if(!d.length)continue;let m=d[d.length-1];var f=m.text;const k=f.trimEnd();if(!k)b.width-=m.width,d.pop();else if(k.length<f.length){f=a(k,m.Rc).width;const p=m.width-f;m.width=f;m.text=k;b.width-=p}0!==c&&0<d.length&&(m=d[d.length-1],m.width+=c,b.width+=c)}}ed(){e.G(this.nm)}lZ(){return this.nm.reduce((a,c)=>Math.max(a,c.width),0)}BZ(){return this.nm.reduce((a,c)=>a+c.height,0)}}}"use strict";
function Wb(e,a){return e[0]===a[0]&&e[1]===a[1]&&e[2]===a[2]&&e[3]===a[3]&&e[4]===a[4]&&e[5]===a[5]&&e[6]===a[6]&&e[7]===a[7]&&e[8]===a[8]&&e[9]===a[9]&&e[10]===a[10]&&e[11]===a[11]&&e[12]===a[12]&&e[13]===a[13]&&e[14]===a[14]&&e[15]===a[15]}self.B.ka={};"use strict";
{const e=self.B,a=[0,0,0,0,0,0,0,0],c=self.Sr,f=c.UB,b=c.wB,d=f.Ad(0,0,0);new e.Le(0,0,1,0,1,1,0,1);e.ka.r2=class{constructor(){this.N=this.R=0;this.Kh=f.Ad(0,0,100);this.gj=f.Ad(0,0,0);this.LI=f.Ad(0,1,0);this.Lm=f.Ad(1,1,1);this.Mu=b.create();this.ei=b.create();this.uH=b.create();this.co=[];this.HA=new Map;this.pI=this.qI=this.LA=null;this.kv=new Map;this.Ph=null;this.gG=[];this.iS=new Map;this.Wh=this.fu=this.Yt=0;this.Lq=!0}$X(m){let k=0,p=m.length,r=0;for(;k<p;)m[k++]=r,m[k++]=r+1,m[k++]=r+2,
m[k++]=r,m[k++]=r+2,m[k++]=r+3,r+=4}EO(){this.fu=this.Yt=0;this.pI=this.qI=this.LA=null;this.u5()}Bx(){this.EO();this.Ph=null}w1(){for(const m of this.co)m.m();this.EO()}OM(m,k,p,r,l){const h=this.ei,q=this.Mu;for(let t=0,v=a.length;t<v;++t)a[t]=0;a[0]=h[0]*m+h[4]*k+h[12];a[1]=h[1]*m+h[5]*k+h[13];a[2]=h[2]*m+h[6]*k+h[14];a[3]=h[3]*m+h[7]*k+h[15];a[4]=q[0]*a[0]+q[4]*a[1]+q[8]*a[2]+q[12]*a[3];a[5]=q[1]*a[0]+q[5]*a[1]+q[9]*a[2]+q[13]*a[3];a[6]=q[2]*a[0]+q[6]*a[1]+q[10]*a[2]+q[14]*a[3];a[7]=-a[2];0!==
a[7]&&(a[7]=1/a[7],a[4]*=a[7],a[5]*=a[7],a[6]*=a[7],l[0]=(.5*a[4]+.5)*p,l[1]=(.5*a[5]+.5)*r)}ua(){return this.R}ra(){return this.N}cy(m,k,p){this.Kh[0]=m*this.Lm[0];this.Kh[1]=k*this.Lm[1];this.Kh[2]=p}hy(m,k,p){this.gj[0]=m*this.Lm[0];this.gj[1]=k*this.Lm[1];this.gj[2]=p}Wx(m){b.GJ(this.ei,this.Kh,this.gj,m||this.LI);b.scale(this.ei,this.ei,this.Lm)}M2(m,k){if(1!==m||1!==k)d[0]=m,d[1]=k,d[2]=1,b.scale(this.ei,this.ei,d)}f5(m){this.co.push(m);this.HA.set(m.W,m)}x9(m){const k=this.co.indexOf(m);-1!==
k&&this.co.splice(k,1);this.HA.delete(m.W)}u5(){e.G(this.co);this.HA.clear()}IL(m){return this.HA.get(m)||null}zh(){this.Rl(this.LA)}AN(){this.Rl(this.pI)}m$(m){this.Ph=m}UU(m,k,p,r){const l=e.ka.NE.rM(m,k,p,r);let h=this.kv.get(l);h||(h=e.A(e.ka.NE,this,m,k,p,r),this.kv.set(l,h));h.iV();return h}bN(m){m.BW();0===m.Ac&&(this.Ph===m&&(this.Ph=null),this.kv.delete(m.eZ()),m.m())}y7(m){e.G(this.gG);this.iS.clear();for(const k of m){m=k[0];const p=k[1],r=k[2];this.gG.push([p,r]);this.iS.set(m,{cqa:p,
tna:r})}}c7(m){return this.gG[m]}by(m){this.Yt=m}Ol(m){this.fu=m;this.Ph=null}oC(m){this.WV(m.T,m.O,m.width(),m.height())}Es(){this.mh();this.Wh++}q_(){this.Wh++}zE(m){this.Lq=!!m}}}"use strict";
{const e=self.B;e.ka.NE=class{constructor(a,c,f,b,d){this.pa=a;this.Ac=0;this.jb=null;this.av="";this.Yl=f;this.bb=e.A(e.hb);this.bb.set(b);this.Hc=d;"string"===typeof c?this.av=c:(this.jb=c,this.av=this.jb.W)}m(){if(0<this.Ac)throw Error("releasing state group still in use");this.jb=this.pa=null;this.av=""}pV(){const a=this.pa;a.Rl(this.jb);a.Qf(this.Yl);a.Ml(this.bb);a.Ol(this.Hc);a.m$(this)}eZ(){return e.ka.NE.rM(this.av,this.Yl,this.bb,this.Hc)}iV(){++this.Ac}BW(){--this.Ac}Sj(){this.jb=null}$D(a){this.jb=
a.IL(this.av);if(!this.jb)throw Error("failed to restore shader program");}static rM(a,c,f,b){return("string"===typeof a?a:a.W)+","+c+","+f.Ya+","+f.$a+","+f.Za+","+f.Xa+","+b}}}"use strict";
{const e=self.B,a=e.A(e.Le);function c(f,b,d){const m=d.Hb,k=d.Ib;return[m+(d.Bc-m)*f+(d.sc-m)*b,k+(d.Cc-k)*f+(d.tc-k)*b]}e.ka.T0=class{constructor(f){this.LH=f;this.ig=this.gg=this.Hc=this.Y=this.ia=0}Ch(f,b,d,m){this.ia=f;this.Y=b;this.gg=d;this.ig=m}Ta(){return this.ia}Ah(f){this.ia!==f&&(this.ia=f,this.LH.EF())}Ua(){return this.Y}Bh(f){this.Y!==f&&(this.Y=f,this.LH.EF())}ib(){return this.Hc}pf(f){this.Hc!==f&&(this.Hc=Math.max(f,0),this.LH.EF())}FE(f){this.gg=f}GE(f){this.ig=f}I7(f,b,d){[this.ia,
this.Y]=c(f.ia,f.Y,b);this.Hc=f.Hc;this.gg=e.Ce(d.T,d.Z,f.gg);this.ig=e.Ce(d.O,d.U,f.ig)}H7(f,b,d){[this.ia,this.Y]=c(f.ia,f.Y,b);this.Hc=f.Hc;[this.gg,this.ig]=c(f.gg,f.ig,d)}Vc(){return{x:this.Ta(),y:this.Ua(),z:this.ib(),u:this.gg,v:this.ig}}Kc(f){this.Ah(f.x);this.Bh(f.y);f.hasOwnProperty("z")&&this.pf(f.z);this.FE(f.u);this.GE(f.v)}};e.ka.vM=class{constructor(f,b,d){if(2>f||2>b)throw Error("invalid mesh size");this.$i=f;this.nj=b;this.Xb=d||null;this.um=[];this.gS=this.fS=0;this.dS=this.cS=1;
this.XH=!1;d=f-1;const m=b-1;for(let k=0;k<b;++k){const p=[];for(let r=0;r<f;++r){const l=e.A(e.ka.T0,this,r,k),h=r/d,q=k/m;l.Ch(h,q,h,q);p.push(l)}this.um.push(p)}}m(){e.G(this.um)}EF(){this.XH=!0}Ey(){if(this.XH){var f=Infinity,b=Infinity,d=-Infinity,m=-Infinity;for(const k of this.um)for(const p of k){const r=p.Ta(),l=p.Ua();f=Math.min(f,r);b=Math.min(b,l);d=Math.max(d,r);m=Math.max(m,l);p.ib()}this.fS=f;this.gS=b;this.cS=d;this.dS=m;this.XH=!1}}oZ(){this.Ey();return this.fS}pZ(){this.Ey();return this.gS}mZ(){this.Ey();
return this.cS}nZ(){this.Ey();return this.dS}Pp(f,b){f=Math.floor(f);b=Math.floor(b);return 0>f||f>=this.$i||0>b||b>=this.nj?null:this.um[b][f]}IV(f,b,d){const m=d instanceof e.Rect;if(f.$i!==this.$i||f.nj!==this.nj)throw Error("source mesh wrong size");f=f.um;const k=this.um;for(let p=0,r=k.length;p<r;++p){const l=f[p],h=k[p];for(let q=0,t=h.length;q<t;++q){const v=l[q],z=h[q];m?z.I7(v,b,d):z.H7(v,b,d)}}}gf(f){const b=this.um;let d=b[0];for(let m=1,k=b.length;m<k;++m){const p=b[m];let r=d[0],l=p[0];
for(let h=1,q=p.length;h<q;++h){const t=d[h],v=p[h];a.set(r.gg,r.ig,t.gg,t.ig,v.gg,v.ig,l.gg,l.ig);f.Ux(r.Ta(),r.Ua(),r.ib(),t.Ta(),t.Ua(),t.ib(),v.Ta(),v.Ua(),v.ib(),l.Ta(),l.Ua(),l.ib(),a);r=t;l=v}d=p}}O_(f){f=f.Pg;const b=[],d=this.$i-1,m=this.nj-1,k=1/d,p=1/m,r=d-1,l=m-1;let h=f[0],q=f[1],t=e.xa(Math.floor(h*d),0,r),v=e.xa(Math.floor(q*m),0,l),z=0,A=0,F=0;var x=-1;const E=()=>{h=e.xa(e.Ce(h,z,F),0,1);q=e.xa(e.Ce(q,A,F),0,1);b.push(h,q)};for(let I=0,M=f.length;I<M;I+=2)for(h=f[I],q=f[I+1],b.push(h,
q),t=e.xa(Math.floor(h*d),0,r),v=e.xa(Math.floor(q*m),0,l),x=(I+2)%M,z=f[x],A=f[x+1],x=-1;;){if(1E6<b.length)throw Error("Too many mesh poly points");const P=t*k,Q=v*p,U=(t+1)*k,ba=(v+1)*p;if(0!==x&&(F=e.dw(h,q,z,A,P,Q,U,ba,-.001),0<=F&&.99999999>=F)){E();x=0;continue}if(0<v&&2!==x&&(F=e.dw(h,q,z,A,P,Q,U,Q,.001),0<=F&&.99999999>=F)){E();v--;x=4;continue}if(t<r&&3!==x&&(F=e.dw(h,q,z,A,U,Q,U,ba,.001),0<=F&&.99999999>=F)){E();t++;x=1;continue}if(0<t&&1!==x&&(F=e.dw(h,q,z,A,P,Q,P,ba,.001),0<=F&&.99999999>=
F)){E();t--;x=3;continue}if(v<l&&4!==x&&(F=e.dw(h,q,z,A,P,ba,U,ba,.001),0<=F&&.99999999>=F)){E();v++;x=2;continue}break}return e.A(e.Fp,b)}t4(f,b){f=this.S$(f);this.N$(f);b.OB(f)}S$(f){const b=[];f=f.Pg;for(let d=0,m=f.length;d<m;d+=2){const [k,p]=this.u4(f[d],f[d+1]);b.push(k,p)}return b}u4(f,b){var d=this.$i-1,m=this.nj-1;const k=1/d,p=1/m;d=e.xa(Math.floor(f*d),0,d-1);const r=e.xa(Math.floor(b*m),0,m-1);m=d*k;const l=r*p,h=(d+1)*k,q=(r+1)*p,t=this.Pp(d,r),v=this.Pp(d+1,r+1),z=e.dda(f,b,m,l,h,l,
h,q);d=this.Pp(d+(z?1:0),r+(z?0:1));const [A,F,x]=e.vea(f,b,m,l,z?m+k:m,z?l:l+p,h,q);return e.uea(A,F,x,t.Ta(),t.Ua(),d.Ta(),d.Ua(),v.Ta(),v.Ua())}N$(f){const b=[];let d=f[0],m=f[1],k=d-f[f.length-2],p=m-f[f.length-1];for(let l=0,h=f.length;l<h;l+=2){var r=(l+2)%h;const q=f[r];r=f[r+1];const t=q-d,v=r-m,z=1E-7>Math.abs(v)&&1E-7>Math.abs(p)&&Math.sign(t)===Math.sign(k);(!(1E-7>Math.abs(t)&&1E-7>Math.abs(k)&&Math.sign(v)===Math.sign(p)||z)&&1E-7<Math.abs(t/k-v/p)||0==t&&0===v)&&b.push(d,m);d=q;m=r;
k=t;p=v}6<=b.length&&b.length<f.length&&e.dd(f,b)}Vc(){return{cols:this.$i,rows:this.nj,points:this.um.map(f=>f.map(b=>b.Vc()))}}Kc(f){const b=this.$i,d=this.nj;if(f.cols!==b||f.rows!==d)throw Error("mesh data wrong size");f=f.points;for(let m=0;m<d;++m){const k=f[m];for(let p=0;p<b;++p)this.Pp(p,m).Kc(k[p])}}}}"use strict";
{const e=self.B,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),c=new Set(["nearest","bilinear","trilinear"]),f=new Set(["default","low","high"]),b=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function d(r,l){let h,q;switch(r){case "rgba8":r=l.RGBA8;q=h=l.RGBA;l=l.UNSIGNED_BYTE;break;case "rgb8":r=l.RGB8;q=h=l.RGB;l=l.UNSIGNED_BYTE;break;case "rgba4":r=l.RGBA4;q=h=l.RGBA;l=l.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":r=l.RGB5_A1;q=h=l.RGBA;l=l.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":r=
l.RGB565;q=h=l.RGB;l=l.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{fK:r,Ur:h,format:q,type:l}}const m={WB:"clamp-to-edge",XB:"clamp-to-edge",cl:"trilinear",jT:0,QJ:"rgba8",yB:!0,Tv:"default",premultiplyAlpha:!0,RT:!1,width:-1,height:-1},k={premultiplyAlpha:!0,flipY:!1},p=new Set;e.ka.qy=class{constructor(r){this.pa=r;this.rb=null;this.N=this.R=0;this.Ig=!0;this.Jr=this.Ir="clamp-to-edge";this.wd="trilinear";this.$F=0;this.ji="rgba8";this.vk=!1;this.Lo="default";
this.Ac=0}L5(r,l){if(!("undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&r instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&r instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&r instanceof OffscreenCanvas||r instanceof ImageData||r instanceof ArrayBuffer)&&null!==r)throw Error("invalid texture source");l=Object.assign({},m,l);if(this.rb)throw Error("already created texture");this.Ir=l.WB;this.Jr=l.XB;this.wd=l.cl;
this.$F=l.jT;this.ji=l.QJ;this.vk=!!l.yB&&this.pa.Lq;this.Lo=l.Tv;if(!b.has(this.Ir)||!b.has(this.Jr))throw Error("invalid wrap mode");if(!c.has(this.wd))throw Error("invalid sampling");if(!a.has(this.ji))throw Error("invalid pixel format");if(!f.has(this.Lo))throw Error("invalid mipmap quality");this.Ig=!0;if(r instanceof ArrayBuffer||null===r||l.RT){if(this.R=l.width,this.N=l.height,r instanceof ArrayBuffer&&r.byteLength!==this.R*this.N*4)throw Error("ArrayBuffer wrong size");}else this.R=r.width,
this.N=r.height;if(0>=this.R||0>=this.N)throw Error("invalid texture data size");if(l.RT){var h=e.lg(this.R,this.N);h.getContext("2d").drawImage(r,0,0,this.R,this.N);r=h}var q=e.sj(this.R)&&e.sj(this.N);h=this.pa.rA;if(this.R>h||this.N>h)throw Error("texture data exceeds maximum texture size");h=this.pa.P;var t=this.pa.md;this.rb=h.createTexture();h.bindTexture(h.TEXTURE_2D,this.rb);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.premultiplyAlpha);l=d(this.ji,h);if(this.pa.Qn()||q||!this.lF())2<=
t?(h.texStorage2D(h.TEXTURE_2D,this.vk?Math.floor(Math.log2(Math.max(this.R,this.N))+1):1,l.fK,this.R,this.N),r instanceof ArrayBuffer?h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.R,this.N,l.format,l.type,new Uint8Array(r)):null!==r&&h.texSubImage2D(h.TEXTURE_2D,0,0,0,l.format,l.type,r)):r instanceof ArrayBuffer?h.texImage2D(h.TEXTURE_2D,0,l.Ur,this.R,this.N,0,l.format,l.type,new Uint8Array(r)):null===r?h.texImage2D(h.TEXTURE_2D,0,l.Ur,this.R,this.N,0,l.format,l.type,null):h.texImage2D(h.TEXTURE_2D,0,
l.Ur,l.format,l.type,r);else{if(null===r)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");r instanceof ArrayBuffer&&(r=new ImageData(new Uint8ClampedArray(r),this.R,this.N));r instanceof ImageData&&(q=e.lg(this.R,this.N),q.getContext("2d").putImageData(r,0,0),r=q);q=e.lg(e.MJ(this.R),e.MJ(this.N));t=q.getContext("2d");t.imageSmoothingEnabled="nearest"!==this.wd;t.drawImage(r,0,0,this.R,this.N,0,0,q.width,q.height);h.texImage2D(h.TEXTURE_2D,0,l.Ur,l.format,
l.type,q)}null!==r&&this.tQ(h);h.bindTexture(h.TEXTURE_2D,null);this.pa.wF();this.Ac=1;p.add(this)}y5(r,l,h){h=Object.assign({},m,h);if(this.rb)throw Error("already created texture");this.Ir=h.WB;this.Jr=h.XB;this.wd=h.cl;this.ji=h.QJ;this.vk=!!h.yB&&this.pa.Lq;this.Lo=h.Tv;if(!b.has(this.Ir)||!b.has(this.Jr))throw Error("invalid wrap mode");if(!c.has(this.wd))throw Error("invalid sampling");if(!a.has(this.ji))throw Error("invalid pixel format");if(!f.has(this.Lo))throw Error("invalid mipmap quality");
this.Ig=!1;this.R=Math.floor(r);this.N=Math.floor(l);r=e.sj(this.R)&&e.sj(this.N);l=this.pa.rA;if(0>=this.R||0>=this.N)throw Error("invalid texture size");if(this.R>l||this.N>l)throw Error("texture exceeds maximum texture size");if(!this.pa.Qn()&&this.lF()&&!r)throw Error("non-power-of-two tiled textures not supported");r=this.pa.P;l=this.pa.md;this.rb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.rb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.premultiplyAlpha);h=d(this.ji,r);r.texImage2D(r.TEXTURE_2D,
0,2<=l?h.fK:h.Ur,this.R,this.N,0,h.format,h.type,null);this.tQ(r);r.bindTexture(r.TEXTURE_2D,null);this.pa.wF();this.Ac=1;p.add(this)}jF(r){if("default"===this.Lo)return this.Ig?r.NICEST:r.FASTEST;if("low"===this.Lo)return r.FASTEST;if("high"===this.Lo)return r.NICEST;throw Error("invalid mipmap quality");}lF(){return"clamp-to-edge"!==this.Ir||"clamp-to-edge"!==this.Jr}jP(r,l){if("clamp-to-edge"===l)return r.CLAMP_TO_EDGE;if("repeat"===l)return r.REPEAT;if("mirror-repeat"===l)return r.MIRRORED_REPEAT;
throw Error("invalid wrap mode");}tQ(r){var l=e.sj(this.R)&&e.sj(this.N);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.jP(r,this.Ir));r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.jP(r,this.Jr));"nearest"===this.wd?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),this.vk=!1):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),(l||this.pa.Qn())&&this.vk?(r.hint(r.GENERATE_MIPMAP_HINT,this.jF(r)),r.generateMipmap(r.TEXTURE_2D),
r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,"trilinear"!==this.wd||this.pa.sR?r.LINEAR_MIPMAP_NEAREST:r.LINEAR_MIPMAP_LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),this.vk=!1));(l=this.pa.Tt)&&0<this.$F&&"nearest"!==this.wd&&r.texParameterf(r.TEXTURE_2D,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.$F,this.pa.JH))}CQ(r,l){if(!("undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement||"undefined"!==
typeof HTMLCanvasElement&&r instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&r instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&r instanceof OffscreenCanvas||r instanceof ImageData))throw Error("invalid texture source");if(!this.rb||0>=this.Ac)throw Error("texture not created");if(this.Ig)throw Error("cannot update static texture");l=Object.assign({},k,l);const h=r.width||r.videoWidth,q=r.height||r.videoHeight;var t=this.pa.md;const v=this.pa.P;v.bindTexture(v.TEXTURE_2D,
this.rb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!l.flipY);l=d(this.ji,v);t=2<=t?l.fK:l.Ur;try{if(this.R===h&&this.N===q){const z=e.sj(this.R)&&e.sj(this.N);v.texSubImage2D(v.TEXTURE_2D,0,0,0,l.format,l.type,r);(z||this.pa.Qn())&&this.vk&&(v.hint(v.GENERATE_MIPMAP_HINT,this.jF(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.R=h;this.N=q;const z=e.sj(this.R)&&e.sj(this.N);if(!this.pa.Qn()&&this.lF()&&!z)throw Error("non-power-of-two tiled textures not supported");
v.texImage2D(v.TEXTURE_2D,0,t,l.format,l.type,r);(z||this.pa.Qn())&&this.vk&&(v.hint(v.GENERATE_MIPMAP_HINT,this.jF(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(z){console.error("Error updating WebGL texture: ",z)}v.bindTexture(v.TEXTURE_2D,null);this.pa.wF()}gF(){if(0<this.Ac)throw Error("texture still has references");if(!this.rb)throw Error("already deleted texture");p.delete(this);this.pa.P.deleteTexture(this.rb);this.rb=null}Ps(){return this.pa}o4(){if(0>=this.Ac)throw Error("no more references");
this.Ac--}ua(){return this.R}ra(){return this.N}UC(){let r=this.R*this.N;switch(this.ji){case "rgba8":r*=4;break;case "rgb8":r*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":r*=2}this.vk&&(r+=Math.floor(r/3));return r}static Sj(){p.clear()}static aca(){return p.values()}}}"use strict";
{const e=self.B,a=new Set(["nearest","bilinear","trilinear"]),c={cl:"trilinear",alpha:!0,depth:!1,XJ:!0,OT:!0,vda:0},f=new Set;e.ka.UE=class{constructor(b){this.pa=b;this.Jk=this.rb=this.Vh=null;this.N=this.R=0;this.Vz=!0;this.wd="trilinear";this.yq=!0;this.nz=!1;this.Xu=!0;this.Bk=0}x5(b,d,m){m=Object.assign({},c,m);const k=this.pa.md;if(this.rb||this.Jk)throw Error("already created render target");this.wd=m.cl;this.yq=!!m.alpha;this.nz=!!m.depth;this.Xu=!!m.XJ;this.Vz=!!m.OT;this.Bk=m.vda;if(!a.has(this.wd))throw Error("invalid sampling");
if(0<this.Bk&&(2>k||this.Xu))throw Error("invalid use of multisampling");2>k&&(this.Xu=!0);this.R=b;this.N=d;if(0>=this.R||0>=this.N)throw Error("invalid render target size");b=this.pa.P;this.Vh=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,this.Vh);this.Xu?(this.rb=this.pa.MK(this.R,this.N,{cl:this.wd,QJ:this.yq?"rgba8":"rgb8",yB:!1}),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.rb.rb,0)):(this.Jk=b.createRenderbuffer(),b.bindRenderbuffer(b.RENDERBUFFER,this.Jk),
d=this.yq?b.RGBA8:b.RGB8,0<this.Bk&&((m=b.getInternalformatParameter(b.RENDERBUFFER,d,b.SAMPLES))&&m[0]?(m=m[0],this.Bk>m&&(this.Bk=m)):this.Bk=0),0===this.Bk?b.renderbufferStorage(b.RENDERBUFFER,d,this.R,this.N):b.renderbufferStorageMultisample(b.RENDERBUFFER,this.Bk,d,this.R,this.N),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,this.Jk),b.bindRenderbuffer(b.RENDERBUFFER,null));d=this.pa.lo;this.nz&&d&&b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,
d);b.bindFramebuffer(b.FRAMEBUFFER,null);f.add(this)}YP(b,d){if(this.R!==b||this.N!==d)this.R=b,this.N=d,b=this.pa.P,b.bindFramebuffer(b.FRAMEBUFFER,this.Vh),this.rb?this.rb.CQ(new ImageData(this.R,this.N)):(b.bindRenderbuffer(b.RENDERBUFFER,this.Jk),b.renderbufferStorage(b.RENDERBUFFER,this.yq?b.RGBA8:b.RGB8,this.R,this.N),b.bindRenderbuffer(b.RENDERBUFFER,null)),d=this.pa.lo,this.nz&&d&&b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,d),b.bindFramebuffer(b.FRAMEBUFFER,
null)}gF(){if(!this.rb&&!this.Jk)throw Error("already deleted render target");f.delete(this);const b=this.pa.P;b.bindFramebuffer(b.FRAMEBUFFER,this.Vh);this.rb?(b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),this.pa.Fi(this.rb),this.rb=null):this.Jk&&(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.RENDERBUFFER,null),b.deleteRenderbuffer(this.Jk),this.Jk=null);b.bindFramebuffer(b.FRAMEBUFFER,null);2<=this.pa.md&&(b.bindFramebuffer(b.READ_FRAMEBUFFER,null),
b.bindFramebuffer(b.DRAW_FRAMEBUFFER,null));b.deleteFramebuffer(this.Vh);this.Vh=this.pa.jc.Pm=null}Ud(){return this.pa}Lf(){return this.rb}GD(){return"nearest"!==this.wd}ua(){return this.R}ra(){return this.N}Y_(b){b=Object.assign({},c,b);return"nearest"!==b.cl!==this.GD()||!!b.alpha!==this.yq||2<=this.pa.md&&!!b.XJ!==this.Xu?!1:"number"===typeof b.width||"number"===typeof b.height?!this.Vz&&this.ua()===b.width&&this.ra()===b.height:this.Vz}UC(){return this.rb?this.rb.UC():this.R*this.N*(this.yq?
4:3)}static async uW(b,d){b=await b.f2(d);return await e.n_(b)}static Sj(){f.clear()}}}"use strict";
{const e=self.B,a=self.Sr,c=a.UB,f=a.wB;e.ka.Ct=class{static async cW(b,d,m,k){const p=b.P,r=p.createShader(p.FRAGMENT_SHADER);p.shaderSource(r,d);p.compileShader(r);d=p.createShader(p.VERTEX_SHADER);p.shaderSource(d,m);p.compileShader(d);const l=p.createProgram();p.attachShader(l,r);p.attachShader(l,d);p.bindAttribLocation(l,0,"aPos");p.bindAttribLocation(l,1,"aTex");p.bindAttribLocation(l,2,"aPoints");p.linkProgram(l);const h=b.VH;h?await b.daa(()=>p.getProgramParameter(l,h.COMPLETION_STATUS_KHR)):
await e.nO(5);if(!p.getShaderParameter(r,p.COMPILE_STATUS))throw k=p.getShaderInfoLog(r),p.deleteShader(r),p.deleteShader(d),p.deleteProgram(l),Error("Error compiling fragment shader: "+k);if(!p.getShaderParameter(d,p.COMPILE_STATUS))throw k=p.getShaderInfoLog(d),p.deleteShader(r),p.deleteShader(d),p.deleteProgram(l),Error("Error compiling vertex shader: "+k);if(!p.getProgramParameter(l,p.LINK_STATUS))throw k=p.getProgramInfoLog(l),p.deleteShader(r),p.deleteShader(d),p.deleteProgram(l),Error("Error linking shader program: "+
k);(b=e.cY(p.getProgramInfoLog(l)||"").trim())&&!e.MD(b)&&console.info(`[WebGL] Shader program '${k}' compilation log: `,b);p.deleteShader(r);p.deleteShader(d);return l}static async Pa(b,d,m,k){m=await e.ka.Ct.cW(b,d.src,m,k);return new e.ka.Ct(b,m,d,k)}constructor(b,d,m,k){const p=b.P;var r=b.jc;b.mh();p.useProgram(d);this.P=p;this.pa=b;this.W=k;this.jb=d;this.Wz="<default-device-transform>"===k;k=p.getAttribLocation(d,"aPos");const l=p.getAttribLocation(d,"aTex");d=p.getAttribLocation(d,"aPoints");
-1!==k&&(p.bindBuffer(p.ARRAY_BUFFER,b.aB),p.vertexAttribPointer(k,3,p.FLOAT,!1,0,0),p.enableVertexAttribArray(k));-1!==l&&(p.bindBuffer(p.ARRAY_BUFFER,b.SA),p.vertexAttribPointer(l,2,p.FLOAT,!1,0,0),p.enableVertexAttribArray(l));-1!==d&&(p.bindBuffer(p.ARRAY_BUFFER,b.zA),p.vertexAttribPointer(d,4,p.FLOAT,!1,0,0),p.enableVertexAttribArray(d));p.bindBuffer(p.ARRAY_BUFFER,null);this.DI=new e.ka.ic(this,"matP","mat4");this.CI=new e.ka.ic(this,"matMV","mat4");this.ap=new e.ka.ic(this,"color","vec4");
this.Rba=new e.ka.ic(this,"samplerFront","sampler");this.GI=new e.ka.ic(this,"pointTexStart","vec2");this.FI=new e.ka.ic(this,"pointTexEnd","vec2");this.JI=new e.ka.ic(this,"zElevation","float");this.HI=new e.ka.ic(this,"tileSize","vec2");this.II=new e.ka.ic(this,"tileSpacing","vec2");this.BI=new e.ka.ic(this,"color2_","vec4");this.EI=new e.ka.ic(this,"outlineThickness","float");this.Gr=new e.ka.ic(this,"samplerBack","sampler");this.Rk=new e.ka.ic(this,"destStart","vec2");this.Qk=new e.ka.ic(this,
"destEnd","vec2");this.oi=new e.ka.ic(this,"srcStart","vec2");this.Sk=new e.ka.ic(this,"srcEnd","vec2");this.Uk=new e.ka.ic(this,"srcOriginStart","vec2");this.Tk=new e.ka.ic(this,"srcOriginEnd","vec2");this.hg=new e.ka.ic(this,"pixelSize","vec2");this.Hm=new e.ka.ic(this,"seconds","float");this.Em=new e.ka.ic(this,"layerScale","float");this.Dm=new e.ka.ic(this,"layerAngle","float");this.Gm=new e.ka.ic(this,"layoutStart","vec2");this.Fm=new e.ka.ic(this,"layoutEnd","vec2");this.pR=!!(this.hg.S||this.Hm.S||
this.Gr.S||this.Rk.S||this.Qk.S||this.oi.S||this.Sk.S||this.Uk.S||this.Tk.S||this.Em.S||this.Dm.S||this.Gm.S||this.Fm.S);this.ZQ=m.yna||0;this.$Q=m.zna||0;this.rG=!!m.nna;this.iba=!!m.Ooa;this.lr=!!m.bpa;this.Wy=!!m.ana;b=m.parameters||[];this.bp=[];this.yv=this.Rk.S||this.Qk.S;this.Uba=this.hg.S||this.oi.S||this.Sk.S||this.Uk.S||this.Tk.S;this.kba=this.rG||this.yv||0!==this.ZQ||0!==this.$Q;this.QG=this.SG=!1;this.ap.XL();this.BI.XL();this.Rba.WL(0);this.Gr.WL(1);this.GI.Mf(0,0);this.FI.Mf(1,1);this.JI.Up(0);
this.HI.Mf(0,0);this.II.Mf(0,0);this.Rk.Mf(0,0);this.Qk.Mf(1,1);this.oi.Mf(0,0);this.Sk.Mf(0,0);this.Uk.Mf(0,0);this.Tk.Mf(0,0);this.hg.Mf(0,0);this.Em.Up(1);this.Dm.Up(0);this.Hm.Up(0);this.Gm.Mf(0,0);this.Fm.Mf(0,0);this.EI.Up(1);for(const h of b)b=h[2],m=new e.ka.ic(this,h[0],b),"color"===b?m.r_():m.Up(0),this.bp.push(m);this.Wz?this.EQ(r.Gv):(this.my(r.Gv,!0),this.ly(r.jB,!0));r=r.$g;p.useProgram(r?r.jb:null)}m(){this.P.deleteProgram(this.jb);this.jb=null;this.pa.x9(this);this.pa=this.P=null}Hl(){return this.iba}qx(b){return this.bp[b].wa}qV(b){for(let d=
0,m=b.length;d<m;++d)if(!this.bp[d].i0(b[d]))return!1;return!0}e3(b){for(let d=0,m=b.length;d<m;++d)this.bp[d].W2(b[d])}rV(b,d,m,k,p,r,l,h,q){return this.Gr.S||this.hg.S&&!this.hg.Oj(p,r)||this.Rk.S&&!this.Rk.Oj(b.T,b.O)||this.Qk.S&&!this.Qk.Oj(b.Z,b.U)||this.Em.S&&!this.Em.LD(l)||this.Dm.S&&!this.Dm.LD(h)||this.oi.S&&!this.oi.Oj(d.T,d.O)||this.Sk.S&&!this.Sk.Oj(d.Z,d.U)||this.Uk.S&&!this.Uk.Oj(m.T,m.O)||this.Tk.S&&!this.Tk.Oj(m.Z,m.U)||this.Gm.S&&!this.Gm.Oj(k.T,k.O)||this.Fm.S&&!this.Fm.Oj(k.O,
k.U)||this.Hm.S&&!this.Hm.LD(q)?!1:!0}z3(b,d,m,k,p,r,l,h,q){this.Gr.S||(this.hg.S&&this.hg.Vj(p,r),this.Rk.S&&this.Rk.Vj(b.T,b.O),this.Qk.S&&this.Qk.Vj(b.Z,b.U),this.Em.S&&this.Em.sE(l),this.Dm.S&&this.Dm.sE(h),this.oi.S&&this.oi.Vj(d.T,d.O),this.Sk.S&&this.Sk.Vj(d.Z,d.U),this.Uk.S&&this.Uk.Vj(m.T,m.O),this.Tk.S&&this.Tk.Vj(m.Z,m.U),this.Gm.S&&this.Gm.Vj(k.T,k.O),this.Fm.S&&this.Fm.Vj(k.O,k.U),this.Hm.S&&this.Hm.sE(q))}my(b,d){this.SG&&!d||this.Wz||(this.DI.S&&this.DI.ny(b),this.SG=!0)}x3(){this.SG=
!1}ly(b,d){this.QG&&!d||this.Wz||(this.CI.S&&this.CI.ny(b),this.QG=!0)}w3(){this.QG=!1}EQ(b){if(!this.Wz)throw Error("not device transform shader");this.DI.ny(b);b=this.pa;var d=b.ua()/2,m=b.ra()/2;const k=b.Lm,p=c.Ad(d*k[0],m*k[1],100*self.devicePixelRatio);d=c.Ad(d*k[0],m*k[1],0);m=f.create();f.GJ(m,p,d,b.LI);f.scale(m,m,k);this.CI.ny(m)}B4(b){this.ap.S&&this.ap.ky(b[0],b[1],b[2],b[3])}static SC(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}"use strict";
{const e=self.B,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.ka.ic=class{constructor(c,f,b){if(!a.has(b))throw Error("invalid uniform type");this.Xb=c;this.P=this.Xb.P;this.W=f;this.wa=b;this.gH="color"===this.wa;this.Lg=this.P.getUniformLocation(this.Xb.jb,f);this.S=!!this.Lg;c=a.get(b);this.Nb=new Float32Array(c);this.di=new Float32Array(c)}m(){this.Lg=this.P=this.Xb=null}Up(c){this.S&&(this.Nb[0]=c,this.di.set(this.Nb),this.P.uniform1f(this.Lg,
c))}WL(c){this.S&&(this.Nb[0]=c,this.di.set(this.Nb),this.P.uniform1i(this.Lg,c))}Mf(c,f){this.S&&(this.Nb[0]=c,this.Nb[1]=f,this.di.set(this.Nb),this.P.uniform2f(this.Lg,c,f))}r_(){this.S&&(this.Nb[0]=0,this.Nb[1]=0,this.Nb[2]=0,this.di.set(this.Nb),this.P.uniform3f(this.Lg,0,0,0))}XL(){this.S&&(this.Nb[0]=1,this.Nb[1]=1,this.Nb[2]=1,this.Nb[3]=1,this.di.set(this.Nb),this.P.uniform4f(this.Lg,1,1,1,1))}pq(c){c=Math.fround(c);const f=this.Nb;f[0]!==c&&(f[0]=c,this.P.uniform1f(this.Lg,c))}qe(c,f){c=
Math.fround(c);f=Math.fround(f);const b=this.Nb;if(b[0]!==c||b[1]!==f)b[0]=c,b[1]=f,this.P.uniform2f(this.Lg,c,f)}z4(c,f,b){c=Math.fround(c);f=Math.fround(f);b=Math.fround(b);const d=this.Nb;if(d[0]!==c||d[1]!==f||d[2]!==b)d[0]=c,d[1]=f,d[2]=b,this.P.uniform3f(this.Lg,c,f,b)}ky(c,f,b,d){c=Math.fround(c);f=Math.fround(f);b=Math.fround(b);d=Math.fround(d);const m=this.Nb;if(m[0]!==c||m[1]!==f||m[2]!==b||m[3]!==d)m[0]=c,m[1]=f,m[2]=b,m[3]=d,this.P.uniform4f(this.Lg,c,f,b,d)}ny(c){const f=this.Nb;Wb(f,
c)||(e.wea(f,c),this.P.uniformMatrix4fv(this.Lg,!1,c))}i0(c){const f=this.di;return this.gH?f[0]===Math.fround(c.Ya)&&f[1]===Math.fround(c.$a)&&f[2]===Math.fround(c.Za):f[0]===Math.fround(c)}W2(c){const f=this.di;this.gH?(f[0]=c.Ya,f[1]=c.$a,f[2]=c.Za):f[0]=c}LD(c){return this.di[0]===Math.fround(c)}Oj(c,f){const b=this.di;return b[0]===Math.fround(c)&&b[1]===Math.fround(f)}sE(c){this.di[0]=c}Vj(c,f){const b=this.di;b[0]=c;b[1]=f}}}"use strict";
{const e=self.B,a=self.Sr,c=a.PU,f=a.wB;e.ka.yV=class{constructor(b){this.De=b;this.jB=f.create();this.Gv=f.create();this.Pm=null;this.iB=c.Ad(1,1,1,1);this.$g=null;this.RJ=new e.Rect;this.clearColor=e.A(e.hb,0,0,0,0)}};e.ka.N4=class{constructor(b){const d=new ArrayBuffer(96);this.wa=0;this.jc=b;this.P=b.De.P;this.xo=this.ni=0;this.ue=null;this.de=new Float32Array(d,0,16);this.cu=new Float32Array(d,64,4);this.PS=new Float32Array(d,80,4);this.GA=[]}D_(b){this.wa=1;this.ni=b;this.xo=6}RW(){const b=
this.P;b.drawElements(b.TRIANGLES,this.xo,b.UNSIGNED_SHORT,this.ni)}J_(b){this.wa=2;this.ue=b}aX(){const b=this.P,d=this.ue;b.bindTexture(b.TEXTURE_2D,d?d.rb:null)}zD(b){this.wa=3;b.gh(this.cu,0)}TW(){const b=this.cu,d=this.jc;c.Ka(d.iB,b);d.$g.B4(b)}WW(){const b=this.cu,d=this.jc.$g;d.BI.S&&d.BI.ky(b[0],b[1],b[2],b[3])}E_(b,d){this.wa=4;this.ni=b;this.xo=d}SW(){this.P.blendFunc(this.ni,this.xo)}N_(b){this.wa=5;f.Ka(this.de,b)}dX(){const b=this.jc,d=b.De.co,m=b.$g,k=this.de;for(let p=0,r=d.length;p<
r;++p){const l=d[p];l===m?l.ly(k,!0):l.w3()}f.Ka(b.jB,k)}I_(b,d,m){this.wa=6;this.ue=b;this.ni=d?1:0;d&&f.Ka(this.de,m)}$W(){var b=this.P,d=this.ue;const m=0!==this.ni,k=this.de,p=this.jc,r=p.De;if(d){const l=d.Vh;p.Pm=l;b.bindFramebuffer(b.FRAMEBUFFER,l);b=d.ua();d=d.ra()}else p.Pm=null,b.bindFramebuffer(b.FRAMEBUFFER,null),b=r.kD(),d=r.jD();m&&r.HQ(b,d,k)}w_(b){this.wa=7;b.gh(this.de,0)}x_(){this.wa=7;const b=this.de;b[0]=0;b[1]=0;b[2]=0;b[3]=0}MW(){const b=this.P;var d=this.de,m=this.jc;const k=
m.clearColor;(m=m.De.Xq&&e.Vr)&&b.disable(b.SCISSOR_TEST);const p=d[0],r=d[1],l=d[2];d=d[3];k.Jv(p,r,l,d)||(b.clearColor(p,r,l,d),k.tp(p,r,l,d));b.clear(b.COLOR_BUFFER_BIT);m&&b.enable(b.SCISSOR_TEST)}v_(b,d,m,k){this.wa=8;const p=this.de;p[0]=b;p[1]=d;p[2]=m;p[3]=k;p[4]=0;p[5]=0;p[6]=0;p[7]=0}LW(){const b=this.P;var d=this.de,m=this.jc;const k=m.De;m=m.clearColor;k.Xq||b.enable(b.SCISSOR_TEST);b.scissor(d[0],d[1],d[2],d[3]);const p=d[4],r=d[5],l=d[6];d=d[7];m.Jv(p,r,l,d)||(b.clearColor(p,r,l,d),
m.tp(p,r,l,d));b.clear(b.COLOR_BUFFER_BIT);k.Xq?b.scissor(0,0,k.Cv,k.Bv):b.disable(b.SCISSOR_TEST)}XW(){const b=this.de;this.jc.RJ.set(b[0],b[1],b[2],b[3])}QW(){const b=this.P,d=this.jc,m=d.De.qI;b.useProgram(m.jb);m.my(d.Gv,!1);m.ly(d.jB,!1);var k=d.RJ;m.GI.S&&m.GI.qe(k.T,k.O);m.FI.S&&m.FI.qe(k.Z,k.U);k=this.de[0];m.JI.S&&m.JI.pq(k);m.ap.S&&(k=d.iB,m.ap.ky(k[0],k[1],k[2],k[3]));b.drawArrays(b.POINTS,this.ni/4,this.xo);b.useProgram(d.$g.jb)}G_(b){this.wa=10;this.ue=b}YW(){var b=this.P;const d=this.jc,
m=this.ue;d.$g=m;b.useProgram(m.jb);m.my(d.Gv,!1);m.ly(d.jB,!1);m.ap.S&&(b=d.iB,m.ap.ky(b[0],b[1],b[2],b[3]))}H_(){this.wa=11}ZW(){const b=this.jc.$g;b.pR&&this.r6(b);b.bp.length&&this.s6(b)}r6(b){const d=this.P,m=this.de,k=this.cu,p=this.PS;if(b.Gr.S){const r=this.jc.De,l=this.ue;r.mm!==l&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,l?l.rb:null),r.mm=l,d.activeTexture(d.TEXTURE0))}b.hg.S&&b.hg.qe(m[0],m[1]);b.Rk.S&&b.Rk.qe(m[2],m[3]);b.Qk.S&&b.Qk.qe(m[4],m[5]);b.Em.S&&b.Em.pq(m[6]);b.Dm.S&&
b.Dm.pq(m[7]);b.oi.S&&b.oi.qe(m[12],m[13]);b.Sk.S&&b.Sk.qe(m[14],m[15]);b.Uk.S&&b.Uk.qe(p[0],p[1]);b.Tk.S&&b.Tk.qe(p[2],p[3]);b.Gm.S&&b.Gm.qe(k[0],k[1]);b.Fm.S&&b.Fm.qe(k[2],k[3]);b.Hm.S&&b.Hm.pq(this.ni)}s6(b){b=b.bp;const d=this.GA;for(let m=0,k=b.length;m<k;++m){const p=b[m],r=d[m];p.gH?p.z4(r.Ya,r.$a,r.Za):p.pq(r)}}z_(b){this.wa=12;this.ue=b}OW(){const b=this.P,d=this.ue,m=this.jc.Pm;d!==m&&b.bindFramebuffer(b.FRAMEBUFFER,d);b.invalidateFramebuffer(b.FRAMEBUFFER,[b.COLOR_ATTACHMENT0]);d!==m&&
b.bindFramebuffer(b.FRAMEBUFFER,m)}s_(b,d){this.wa=15;var m=this.de;const k=this.jc.De;m[0]=b.ua();m[1]=b.ra();m[2]=d?d.ua():k.ua();m[3]=d?d.ra():k.ra();m[4]=b.GD()?1:0;m[5]=!0;m=this.GA;e.G(m);m.push(b.Vh);m.push(d?d.Vh:null)}JW(){var b=this.de,d=this.GA;const m=this.P;var k=b[0],p=b[1],r=b[2];const l=b[3],h=0!==b[4];b=0!==b[5];const q=d[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,d[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,q);b?m.blitFramebuffer(0,0,k,p,0,0,r,l,m.COLOR_BUFFER_BIT,h?m.LINEAR:m.NEAREST):
(d=Math.min(k,r),k=Math.min(p,l),r=Math.max(p-l,0),p=Math.max(l-p,0),m.blitFramebuffer(0,r,d,k+r,0,p,d,k+p,m.COLOR_BUFFER_BIT,m.NEAREST))}L_(b){this.wa=16;this.ue=b}cX(){this.ue.dC();this.ue=null}y_(b){this.wa=17;this.ue=b}NW(){this.ue.DC();this.ue=null}VW(){const b=this.jc.$g,d=this.de;b.hg.S&&b.hg.qe(d[0],d[1]);b.EI.S&&b.EI.pq(d[2])}bX(){const b=this.jc.$g,d=this.de;b.oi.S&&b.oi.qe(d[0],d[1]);b.hg.S&&b.hg.qe(d[4],d[5]);b.HI.S&&b.HI.qe(d[6],d[7]);b.II.S&&b.II.qe(d[8],d[9])}u_(){this.wa=20}KW(){const b=
this.P;b.clear(b.DEPTH_BUFFER_BIT)}F_(b){this.wa=21;this.ni=b?1:0}UW(){const b=this.P;0===this.ni?(b.disable(b.DEPTH_TEST),b.depthMask(!1)):(b.enable(b.DEPTH_TEST),b.depthMask(!0))}la(){switch(this.wa){case 1:this.RW();break;case 2:this.aX();break;case 3:this.TW();break;case 4:this.SW();break;case 5:this.dX();break;case 6:this.$W();break;case 7:this.MW();break;case 8:this.LW();break;case 9:this.QW();break;case 10:this.YW();break;case 11:this.ZW();break;case 12:this.OW();break;case 13:this.XW();break;
case 14:this.bX();break;case 15:this.JW();break;case 16:this.cX();break;case 17:this.NW();break;case 18:this.VW();break;case 19:this.WW();break;case 20:this.KW();break;case 21:this.UW()}}}}"use strict";
{const e=self.B,a={timeout:60},c=new e.hb(0,0,0,1),f=new Set(["left","center","right"]),b=new Set(["top","center","bottom"]),d=new Set(["word","character"]),m=new Set;e.hY&&e.hY.addEventListener("fontload",l=>{l=l.font.W;for(const h of m)(h.Hg||e.Um(h.zz,l))&&h.hk()});function k(l,h,q,t,v,z){h?"Gecko"===e.Uc.ww?l.strokeText(q,t,v,z):l.strokeText(q,t,v):"Gecko"===e.Uc.ww?l.fillText(q,t,v,z):l.fillText(q,t,v)}let p=!1,r=!1;e.ka.jE=class{constructor(l,h){h=Object.assign({},a,h);this.pa=l;this.zz="Arial";
this.Az=16;this.Jo=0;this.Te=this.Se=!1;this.pG="black";this.Hg=!1;this.OJ=null;this.XF=new Set;this.Qe="left";this.Ae="top";this.Ca="";this.$t=null;this.Mm=e.A(e.VE);this.VI="word";this.sH=this.TA=!1;this.wu=!0;this.no=-1;this.N=this.R=this.sG=this.Fq=this.Kq=0;this.Yg=1;this.nG=!1;this.Nu=this.Ak=this.Pd=this.Vo=null;this.SR=this.TR=-1;this.kA=this.VR=this.xH="";this.yH=this.zH=1;this.eS=(q,t)=>this.HP(q,t);this.rb=null;this.nv=this.pv=0;this.Sg=new e.Rect;this.$u=1;this.PH=!1;this.yI=new e.m_(()=>
{this.Uj();this.sQ(8,8)},h.timeout);this.HB=null;this.Dv=!1;m.add(this)}m(){this.OJ=null;this.XF.clear();this.eS=this.Nu=this.Ak=this.Pd=this.Vo=this.$t=null;this.yI.m();this.HB=null;this.Uj();this.Mm.ed();this.pa=this.Mm=null;this.Dv=!0;m.delete(this)}Zn(){this.nG=!0}hk(){this.Zn();this.Mm.ed();this.TA=!0}KN(){this.wu=!1}Nf(){return this.wu}V2(l){l=!!l;this.Hg!==l&&(l=(this.Hg=l)?"alphabetic":"top",this.Pd&&(this.Pd.textBaseline=l),this.Ak&&(this.Ak.textBaseline=l),this.hk())}vE(l){l||(l="serif");
this.zz!==l&&(this.zz=l,this.hk())}wE(l){.1>l&&(l=.1);this.Az!==l&&(this.Az=l,this.hk())}ON(l){this.Jo!==l&&(this.Jo=l,this.Zn())}zN(l){l=!!l;this.Se!==l&&(this.Se=l,this.hk())}MN(l){l=!!l;this.Te!==l&&(this.Te=l,this.hk())}uE(l){l=Math.floor(l);this.no!==l&&(this.no=l,this.Zn())}Vi(l,h){for(let q=l.length-1;0<=q;--q){const t=l[q];if(t.tag===h)return t}return null}tq(l,h){return!!this.Vi(l,h)}dP(l,h){let q=[];(this.Se||this.tq(h,"b"))&&q.push("bold");(this.Te||this.tq(h,"i"))&&q.push("italic");var t=
this.Vi(h,"size");t=t?parseFloat(t.param):this.Az;l?q.push(t+"pt"):q.push(t*this.$u*this.Yg*self.devicePixelRatio+"pt");l=this.zz;(h=this.Vi(h,"font"))&&h.param&&(l=h.param,this.OJ&&!this.XF.has(l)&&(this.OJ(l),this.XF.add(l)));l&&q.push('"'+l+'"');return q.join(" ")}Ml(l){l instanceof e.hb&&(l=l.Mca());this.pG!==l&&(this.pG=l,this.Zn())}BN(l,h,q){c.iw(l,h,q);this.Ml(c)}IN(l){if(!f.has(l))throw Error("invalid horizontal alignment");this.Qe!==l&&(this.Qe=l,this.Zn())}XN(l){if(!b.has(l))throw Error("invalid vertical alignment");
this.Ae!==l&&(this.Ae=l,this.Zn())}Z3(l){if(!d.has(l))throw Error("invalid word wrap mode");this.VI!==l&&(this.VI=l,this.hk())}Sl(l){this.Ca!==l&&(this.Ca=l,this.hk())}Jd(l,h,q){"undefined"===typeof q&&(q=1);if(!(0>=l||0>=l||this.Fq===l&&this.sG===h&&this.Yg===q)){1===this.Yg!==(1===q)&&(this.PH=!0);var t=this.Fq,v=this.Yg;this.Fq=l;this.sG=h;this.Yg=q;l=self.devicePixelRatio;this.R=this.Fq*this.Yg*l;this.N=this.sG*this.Yg*l;l=Math.max(this.R,this.N);h=Math.min(this.pa.rA,2048);q=1;l>h&&(q=h/l,this.R=
Math.min(this.R*q,h),this.N=Math.min(this.N*q,h));this.$u=q;0<this.pv&&0<this.nv&&this.Yg===v&&this.Sg.set(0,0,this.R/this.pv,this.N/this.nv);this.Fq!==t?this.hk():this.Zn()}}ua(){return this.R}ra(){return this.N}zZ(){this.sF();return this.Mm.lZ()}yZ(){this.sF();return this.Mm.BZ()+this.Mm.nm.length*(this.Jo+4)-this.Jo}Lf(){this.yI.hd();this.t8();return this.rb}t8(){this.rb&&!this.nG&&!this.TA||this.sH||0>=this.R||0>=this.N||(this.nG=!1,this.sH=!0,this.wu?e.xj(()=>this.RO()):this.RO())}RO(){this.Dv||
(this.sQ(Math.ceil(this.R),Math.ceil(this.N)),this.sF(),this.H6(),this.baa(),this.yI.hd(),this.sH=!1)}sQ(l,h){this.Vo||(this.Vo=e.lg(16,16));let q=!1;if(this.TR!==l||this.SR!==h)this.TR=l,this.SR=h,this.Vo.width=l,this.Vo.height=h,q=!0;this.Pd||(this.Pd=this.Vo.getContext("2d"),q=!0);q?(this.Pd.textBaseline=this.Hg?"alphabetic":"top",this.Pd.font=this.xH,this.Pd.fillStyle=this.kA,this.Pd.strokeStyle=this.kA,this.Pd.globalAlpha=this.zH,this.Pd.lineWidth=this.yH):this.Pd.clearRect(0,0,l,h)}AP(){this.Ak||
(this.Ak=e.lg(16,16).getContext("2d"),this.Nu=e.lg(16,16).getContext("2d"),this.Ak.textBaseline=this.Hg?"alphabetic":"top",this.Nu.textBaseline="top")}C$(l){this.VR!==l&&(this.VR=l,this.Ak.font=l,this.Nu.font=l)}zQ(){if(!p){p=!0;this.AP();const l=this.Ak.measureText("test");r="number"===typeof l.fontBoundingBoxAscent&&"number"===typeof l.fontBoundingBoxDescent}return r}sF(){this.TA&&(this.AP(),!this.Hg||this.$t&&this.$t.toString()===this.Ca||(this.$t=new e.il(this.Ca,{yda:!0})),this.Mm.VE(this.Hg?
this.$t.pea():this.Ca,this.eS,this.Fq,this.VI,0),this.TA=!1)}HP(l,h){this.C$(this.dP(!0,h));h=(h=this.Vi(h,"size"))?parseFloat(h.param):this.Az;const q=this.Ak.measureText(l);let t=0;this.Hg&&this.zQ()&&(t=q.fontBoundingBoxAscent-this.Nu.measureText(l).fontBoundingBoxAscent);return{width:q.width,height:4/3*h,Cf:q.fontBoundingBoxAscent||0,af:q.fontBoundingBoxDescent||0,df:t}}p$(l){this.xH!==l&&(this.xH=l,this.Pd.font=l)}DF(l){this.kA!==l&&(this.kA=l,this.Pd.fillStyle=l,this.Pd.strokeStyle=l)}o$(l){this.zH!==
l&&(this.zH=l,this.Pd.globalAlpha=l)}kQ(l){this.yH!==l&&(this.yH=l,this.Pd.lineWidth=l)}H6(){this.Kq=0;const l=this.$u*this.Yg*self.devicePixelRatio,h=(4+this.Jo)*l;var q=0;const t=this.Mm.nm;if(0!==t.length){var v=this.Hg&&this.zQ(),z=t[0].height*l;"center"===this.Ae?(q=t.reduce((A,F)=>A+F.height*l+h,0)-h,q=Math.max(this.N/2-q/2,0),v&&(z=t[0].df*l)):"bottom"===this.Ae&&(q=t.reduce((A,F)=>A+F.height*l+h,0)-this.Jo*l,q=this.N-q-(v?t[t.length-1].af*l:0)-2);for(let A=0,F=t.length;A<F;++A){v=t[A];const x=
v.height*l,E=q;if(this.Hg){if(q+=0===A?z:x,0<A&&q>this.N-4*l)break}else if(0<A&&q>=this.N-x)break;0<=E&&this.G6(v,q,l);this.Hg||(q+=x);q+=h}}}G6(l,h,q){let t=0;"center"===this.Qe?t=(this.R-l.width*q)/2:"right"===this.Qe&&(t=this.R-l.width*q);for(const v of l.GT)this.F6(v,t,h,q,l.height),t+=v.width*q}F6(l,h,q,t,v){const z=this.Pd;var A=v/16;v=l.width*t;var F=l.height*t;const x=l.height/16;var E=(4+this.Jo)*t;const I=l.Rc;l=l.text;if(-1!==this.no){if(this.Kq>=this.no)return;this.Kq+l.length>this.no&&
(l=l.substr(0,this.no-this.Kq),v=this.HP(l,I).width*t);this.Kq+=l.length}var M=this.Vi(I,"background"),P=this.tq(I,"u"),Q=this.tq(I,"s");if((!e.MD(l)||M||P||Q)&&!this.tq(I,"hide")){var U=this.Vi(I,"offsetx");h+=U?parseFloat(U.param)*t:0;U=this.Vi(I,"offsety");q+=U?parseFloat(U.param)*t:0;M&&(this.DF(M.param),z.fillRect(h,q-F,v,F+E));E=this.Vi(I,"color");this.DF(E?E.param:this.pG);E=this.Vi(I,"opacity");this.o$(E?parseFloat(E.param)/100:1);(E=this.tq(I,"stroke"))&&this.kQ(x*this.$u*this.Yg);P&&(P=
h,M=q+t*A,U=v,A*=t,E?z.strokeRect(P,M,U,A):z.fillRect(P,M,U,A));Q&&(A=h,F=q-F/4,Q=v,t*=x,E?z.strokeRect(A,F,Q,t):z.fillRect(A,F,Q,t));this.p$(this.dP(!1,I));k(z,E,l,h,q,v);!E&&(this.kQ(x*this.$u*this.Yg),t=this.Vi(I,"outline"))&&(this.DF(t.param),k(z,!0,l,h,q,v))}}baa(){this.pa.Dn()||(this.pv=Math.ceil(this.R),this.nv=Math.ceil(this.N),this.Sg.set(0,0,this.R/this.pv,this.N/this.nv),this.PH&&(this.Uj(),this.PH=!1),this.rb||(this.rb=this.pa.MK(this.pv,this.nv,{yB:1===this.Yg,Tv:"high"})),this.pa.D4(this.Vo,
this.rb),this.HB&&this.HB())}Uj(){this.rb&&(this.pa.Dn()||this.pa.Fi(this.rb),this.rb=null)}static Sj(){for(const l of m)l.Uj()}}}"use strict";
{const e=self.B;class a{constructor(c){this.P=c.P;this.md=c.md;this.ld=c.ld;this.Qg=null;this.nu=this.Cb=!1;this.FA=0;this.Qg=1===this.md?this.ld.createQueryEXT():this.P.createQuery()}m(){this.NO();this.ld=this.P=null;this.nu=!1}NO(){this.Qg&&(1===this.md?this.ld.deleteQueryEXT(this.Qg):this.P.deleteQuery(this.Qg),this.Qg=null)}dC(){if(this.Cb)throw Error("query already active");1===this.md?this.ld.beginQueryEXT(this.ld.TIME_ELAPSED_EXT,this.Qg):this.P.beginQuery(this.ld.TIME_ELAPSED_EXT,this.Qg);
this.Cb=!0}DC(){if(!this.Cb)throw Error("query not active");1===this.md?this.ld.endQueryEXT(this.ld.TIME_ELAPSED_EXT):this.P.endQuery(this.ld.TIME_ELAPSED_EXT);this.Cb=!1}mC(){if(this.Qg&&!this.nu&&!this.Cb){var c=1===this.md?this.ld.getQueryObjectEXT(this.Qg,this.ld.QUERY_RESULT_AVAILABLE_EXT):this.P.getQueryParameter(this.Qg,this.P.QUERY_RESULT_AVAILABLE);var f=this.P.getParameter(this.ld.GPU_DISJOINT_EXT);c&&!f&&(this.FA=1===this.md?this.ld.getQueryObjectEXT(this.Qg,this.ld.QUERY_RESULT_EXT):this.P.getQueryParameter(this.Qg,
this.P.QUERY_RESULT),this.FA/=1E9,this.nu=!0);(c||f)&&this.NO()}}sD(){return this.nu}iD(){if(!this.nu)throw Error("no result available");return this.FA}}e.ka.P4=class{constructor(c){this.pa=c;this.Wh=c.Wh;this.Cb=!1;this.rm=null;this.Do=!1;this.pr=null;this.Po=[]}m(){for(const c of this.Po)c instanceof a&&c.m();e.G(this.Po);this.pa=this.pr=this.rm=null}dC(){if(this.Cb)throw Error("query already active");const c=this.pa.VS;0<c.length?(this.Do=!0,this.rm=c[c.length-1],this.rm.UO(),this.rm.Po.push(this)):
(this.Do=!1,this.rm=null);this.Cb=!0;c.push(this);this.xQ()}DC(){if(!this.Cb)throw Error("query not active");if(this.pa.VS.pop()!==this)throw Error("can only end most nested query");this.Cb=!1;this.UO();this.rm&&(this.rm.xQ(),this.rm=null)}xQ(){this.pr=e.A(a,this.pa);this.Po.push(this.pr);this.pr.dC()}UO(){this.pr.DC();this.pr=null}mC(){for(const c of this.Po)c.mC()}sD(){return this.Po.every(c=>c.sD())}iD(){return this.Po.reduce((c,f)=>c+f.iD(),0)}}}"use strict";
{const e=self.B;e.ka.rO=class{constructor(a,c=1E3){this.pa=a;this.hba=c;this.Zi=[];this.pa.e5(this)}m(){this.ed();this.pa.w9(this);this.pa=null}ed(){for(const a of this.Zi)a.m();e.G(this.Zi)}oK(){const a=new e.ka.P4(this.pa);this.Zi.push(a);this.Zi.length>this.hba&&this.Zi.shift().m();return a}QV(a){for(const c of this.Zi){if(c.Wh>=a)break;if(c.Do)break;c.mC()}}vL(a,c){if(c<=a)return NaN;let f=0;for(const b of this.Zi){if(b.Wh>=c)break;if(!(b.Wh<a))if(b.sD())f+=b.iD();else return NaN}return f}VK(a){for(let c=
0,f=this.Zi.length;c<f;++c){const b=this.Zi[c];if(b.Wh<a)b.m();else{0<c&&this.Zi.splice(0,c);break}}}}}"use strict";
{const e=self.B,a=self.Sr,c=a.UB,f=a.PU,b=a.wB,d={powerPreference:"default",CT:!0,alpha:!1,HJ:!1,depth:!1,IJ:2},m=new Set(["default","low-power","high-performance"]),k=new e.Le(0,0,1,0,1,1,0,1),p=c.Ad(0,0,0),r=c.Ad(0,0,0),l=b.create(),h=new e.Le,q=new e.Rect;let t=null;e.Vr&&(self.qna=function(){t?t.loseContext():console.warn("WEBGL_lose_context not supported")},self.rna=function(){t?t.restoreContext():console.warn("WEBGL_lose_context not supported")});const v=new Set;let z=-1;function A(){z=-1;for(const x of v)x.kca()&&
(x.resolve(),v.delete(x));0<v.size&&(z=self.requestAnimationFrame(A))}function F(x,E,I){if(2<=I&&(I=x.getContext("webgl2",E)))return{sB:I,version:2};I=x.getContext("webgl",E);if(!I)try{I=x.getContext("experimental-webgl",E)}catch(M){console.warn("Error requesting 'experimental-webgl' context: ",M)}return{sB:I,version:1}}e.ka.O4=class extends e.ka.r2{constructor(x,E){super();E=Object.assign({},d,E);if(!m.has(E.powerPreference))throw Error("invalid power preference");let I=!1;const M={alpha:!!E.alpha,
depth:!1,antialias:!1,powerPreference:E.powerPreference,failIfMajorPerformanceCaveat:!0};E.HJ&&(M.desynchronized=!0,M.preserveDrawingBuffer=!0);let P=F(x,M,E.IJ);P.sB||(I=!0,M.failIfMajorPerformanceCaveat=!1,P=F(x,M,E.IJ));if(!P.sB)throw Error("failed to initialise WebGL context");this.P=x=P.sB;this.NQ=x.getContextAttributes();E.HJ&&!this.NQ.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");x.getParameter(x.VERSION);this.md=P.version;this.QR=this.RR=
0;this.hH=this.Im=!!E.depth;this.lo=null;this.fH=!0;this.TQ=this.UQ=0;this.zA=this.AR=this.SA=this.aB=null;this.Av=new Float32Array(24E3);this.BR=new Uint16Array(12E3);this.Ar=new Float32Array(16E3);this.sS=new Float32Array(32E3);this.WR=this.AA=this.Af=this.Xg=0;this.ym=this.Ho=null;this.Zt=[];this.Pc=this.Wl=0;this.ud=null;this.jc=e.A(e.ka.yV,this);this.Gu=e.A(e.hb,1,1,1,1);this.mm=this.yk=null;this.tH=this.wH=0;this.cba=this.dba=1;this.EH=.5;this.Xq=!1;this.Bv=this.Cv=-1;this.aba=new e.Rect;this.rA=
-1;this.KH=0;this.wv="(unavailable)";this.sR=I;this.lH=!1;this.Tt=this.VH=null;this.JH=0;this.Yaa=!!E.CT;this.ld=null;this.Vy=new Set;this.VS=[];this.$X(this.BR)}async Bx(){super.Bx();var x=this.P;this.Gu.tp(1,1,1,1);this.mm=this.yk=null;this.AA=this.Xg=0;this.WR=23988;e.G(this.Zt);this.Pc=this.Wl=0;this.ud=this.Ho=null;this.aba.set(0,0,1,1);var E=this.jc;E.$g=null;E.Pm=null;f.set(E.iB,1,1,1,1);E.clearColor.tp(0,0,0,0);E.RJ.set(0,0,1,1);x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT);x.enable(x.BLEND);
x.blendFunc(x.ONE,x.ONE_MINUS_SRC_ALPHA);this.wH=x.ONE;this.tH=x.ONE_MINUS_SRC_ALPHA;this.z7(x);x.disable(x.CULL_FACE);x.disable(x.STENCIL_TEST);x.disable(x.DITHER);this.Im?(x.enable(x.DEPTH_TEST),x.depthMask(!0),x.depthFunc(x.LEQUAL)):(x.disable(x.DEPTH_TEST),x.depthMask(!1));this.hH=this.Im;this.zA=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.zA);x.bufferData(x.ARRAY_BUFFER,this.sS.byteLength,x.DYNAMIC_DRAW);this.aB=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.aB);x.bufferData(x.ARRAY_BUFFER,
this.Av.byteLength,x.DYNAMIC_DRAW);this.SA=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,this.SA);x.bufferData(x.ARRAY_BUFFER,this.Ar.byteLength,x.DYNAMIC_DRAW);this.AR=x.createBuffer();x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,this.AR);x.bufferData(x.ELEMENT_ARRAY_BUFFER,this.BR,x.STATIC_DRAW);x.activeTexture(x.TEXTURE0);x.bindTexture(x.TEXTURE_2D,null);this.rA=x.getParameter(x.MAX_TEXTURE_SIZE);this.KH=x.getParameter(x.ALIASED_POINT_SIZE_RANGE)[1];2048<this.KH&&(this.KH=2048);if(E=x.getExtension("WEBGL_debug_renderer_info"))x.getParameter(E.UNMASKED_VENDOR_WEBGL),
this.wv=x.getParameter(E.UNMASKED_RENDERER_WEBGL);this.VH=x.getExtension("KHR_parallel_shader_compile");e.Vr&&(t=x.getExtension("WEBGL_lose_context"));if(this.Yaa)if(1===this.md){if("Chromium"!==e.Uc.ww||81<=e.Uc.gC||"undefined"!==typeof document)this.ld=x.getExtension("EXT_disjoint_timer_query")}else this.ld=x.getExtension("EXT_disjoint_timer_query_webgl2")||x.getExtension("EXT_disjoint_timer_query");this.JH=(this.Tt=x.getExtension("EXT_texture_filter_anisotropic"))?x.getParameter(this.Tt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0;x=e.ka.Ct;E=x.SC(!1);x=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",E,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",E,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",E,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
E,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",E,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
E,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
E,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
E,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",E,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
x.SC(!0),"<tilemap>"]].map(I=>this.QK({src:I[0]},I[1],I[2])));this.LA=x[0];this.ym=x[1];this.qI=x[2];this.pI=x[3];this.zh()}async QK(x,E,I){x=await e.ka.Ct.Pa(this,x,E,I);this.f5(x);return x}w2(){this.Ho=null}Jd(x,E,I){if(this.R!==x||this.N!==E||I){this.mh();I=this.P;var M=this.jc;this.R=x;this.N=E;x=this.kD();E=this.jD();this.IQ(x,E,this.R,this.N);this.HQ(x,E,this.Mu);this.ym&&(I.useProgram(this.ym.jb),this.ym.EQ(this.Mu),this.Ho=this.ym,this.jc.$g=this.ym);I.bindTexture(I.TEXTURE_2D,null);I.activeTexture(I.TEXTURE1);
I.bindTexture(I.TEXTURE_2D,null);I.activeTexture(I.TEXTURE0);this.mm=this.yk=null;this.Im&&this.fH&&this.CF(this.R,this.N);this.ud&&this.ud.YP(this.R,this.N);I.bindFramebuffer(I.FRAMEBUFFER,null);this.ud=null;M.Pm=null}}CF(x,E){const I=this.P;if(this.lo){if(this.UQ===x&&this.TQ===E)return;I.deleteRenderbuffer(this.lo)}this.lo=I.createRenderbuffer();I.bindRenderbuffer(I.RENDERBUFFER,this.lo);I.renderbufferStorage(I.RENDERBUFFER,2<=this.md?I.DEPTH_COMPONENT24:I.DEPTH_COMPONENT16,x,E);I.bindRenderbuffer(I.RENDERBUFFER,
null);this.UQ=x;this.TQ=E}n3(x,E){this.Im&&(this.fH=!1,this.CF(x,E))}U2(){this.Im&&(this.fH=!0,this.CF(this.R,this.N))}IQ(x,E,I,M){this.Kh[2]=100;b.GJ(this.ei,this.Kh,this.gj,this.LI);b.perspective(this.Mu,45,x/E,1,1E4);const P=[0,0],Q=[0,0],U=self.devicePixelRatio;this.OM(0,0,x,E,P);this.OM(1,1,x,E,Q);this.Lm[0]=U/(Q[0]-P[0]);this.Lm[1]=-U/(Q[1]-P[1]);this.RR=I;this.QR=M}HQ(x,E,I){const M=this.jc;this.P.viewport(0,0,x,E);x=this.co;E=M.$g;for(let P=0,Q=x.length;P<Q;++P){const U=x[P];U===E?U.my(I,
!0):U.x3()}b.Ka(M.Gv,I)}kD(){return this.Xq?this.Cv:this.ua()}jD(){return this.Xq?this.Bv:this.ra()}At(){Wb(this.uH,this.ei)||(this.sd().N_(this.ei),b.Ka(this.uH,this.ei),this.Pc=0)}sd(){const x=this.Zt;this.Wl===x.length&&x.push(new e.ka.N4(this.jc));return x[this.Wl++]}mh(){0===this.Wl||this.Dn()||(this.haa(),this.K6(),this.Pc=this.AA=this.Af=this.Xg=this.Wl=0)}haa(){const x=this.P;0<this.AA&&(x.bindBuffer(x.ARRAY_BUFFER,this.zA),x.bufferSubData(x.ARRAY_BUFFER,0,this.sS.subarray(0,this.AA)));0<
this.Xg&&(x.bindBuffer(x.ARRAY_BUFFER,this.aB),x.bufferSubData(x.ARRAY_BUFFER,0,this.Av.subarray(0,this.Xg)),x.bindBuffer(x.ARRAY_BUFFER,this.SA),x.bufferSubData(x.ARRAY_BUFFER,0,this.Ar.subarray(0,this.Af)))}K6(){const x=this.Zt;for(let E=0,I=this.Wl;E<I;++E)x[E].la()}Ie(){return this.Gu.Xa}Me(x,E,I,M){const P=this.Gu;P.Jv(x,E,I,M)||(P.tp(x,E,I,M),this.sd().zD(P),this.Pc=0,this.Ph=null)}Yj(x){const E=this.Gu;E.Xa!==x&&(E.NB(x),this.sd().zD(E),this.Pc=0,this.Ph=null)}Ml(x){const E=this.Gu;E.cd(x)||
(E.set(x),this.sd().zD(E),this.Pc=0,this.Ph=null)}iq(){this.Me(1,1,1,1)}Sf(x){x!==this.yk&&(this.sd().J_(x),this.yk=x,this.Pc=0)}wF(){this.yk=null}Qf(x){x=this.c7(x);this.BF(x[0],x[1])}BF(x,E){if(x!==this.wH||E!==this.tH)this.sd().E_(x,E),this.wH=x,this.tH=E,this.Pc=0,this.Ph=null}rE(){this.BF(this.P.ONE,this.P.ONE_MINUS_SRC_ALPHA)}DN(){this.BF(this.P.ONE,this.P.ZERO)}Rect(x){this.$M(x.T,x.O,x.Z,x.U)}$M(x,E,I,M){this.b2(x,E,I,E,I,M,x,M)}xy(){let x=this.Xg;x>=this.WR&&(this.mh(),x=0);1===this.Pc?this.Zt[this.Wl-
1].xo+=6:(this.sd().D_(x),this.Pc=1)}KQ(x){x.Cea(this.Av,this.Xg,this.Yt+this.fu);this.Xg+=12}Le(x){this.xy();this.KQ(x);k.gh(this.Ar,this.Af);this.Af+=8}b2(x,E,I,M,P,Q,U,ba){this.xy();const X=this.Av;let fa=this.Xg;const sa=this.Yt+this.fu;X[fa++]=x;X[fa++]=E;X[fa++]=sa;X[fa++]=I;X[fa++]=M;X[fa++]=sa;X[fa++]=P;X[fa++]=Q;X[fa++]=sa;X[fa++]=U;X[fa++]=ba;X[fa++]=sa;this.Xg=fa;k.gh(this.Ar,this.Af);this.Af+=8}Jn(x,E){this.xy();this.KQ(x);E.Bea(this.Ar,this.Af);this.Af+=8}Ux(x,E,I,M,P,Q,U,ba,X,fa,sa,
ua,ca){this.xy();const qa=this.Av;let ea=this.Xg;const ya=this.Yt+this.fu;qa[ea++]=x;qa[ea++]=E;qa[ea++]=ya+I;qa[ea++]=M;qa[ea++]=P;qa[ea++]=ya+Q;qa[ea++]=U;qa[ea++]=ba;qa[ea++]=ya+X;qa[ea++]=fa;qa[ea++]=sa;qa[ea++]=ya+ua;this.Xg=ea;ca.gh(this.Ar,this.Af);this.Af+=8}iY(x,E){b.Ka(l,this.uH);c.Ka(p,this.Kh);c.Ka(r,this.gj);this.Kh[0]=0;this.Kh[1]=0;this.Kh[2]=100*self.devicePixelRatio;this.gj[0]=0;this.gj[1]=0;this.gj[2]=0;this.Wx();this.At();if(this.Xq){x=this.Cv/2;var I=this.Bv/2;q.set(-x,I,-x+this.Cv,
I-this.Bv);h.bn(q);q.set(0,0,this.Cv/this.R,this.Bv/this.N);this.Jn(h,q)}else if("crop"===x&&this.ud&&E){x=this.R/2;I=this.N/2;const Q=E.ua();E=E.ra();var M=this.ud.ua(),P=this.ud.ra();M=Math.min(M,Q);const U=Math.min(P,E),ba=Math.max(E-P,0);P=Math.max(P-E,0);q.set(-x,I-P,-x+M,I-U-P);h.bn(q);q.set(0,ba,M,U+ba);q.Wk(Q,E);this.Jn(h,q)}else{let [Q,U]=this.HL(this.ud);x=Q/2;I=U/2;this.$M(-x,I,x,-I)}b.Ka(this.ei,l);c.Ka(this.Kh,p);c.Ka(this.gj,r);this.At()}Kx(x,E,I,M,P,Q){var U=this.EH;x=x+U-Q;E=E+U-P;
I=I+U+Q;M=M+U+P;U=2*Q;const ba=2*P;this.Ux(x+P,E-Q,0,I+P,M-Q,0,I-P-U,M+Q-ba,0,x-P+U,E+Q+ba,0,k)}Jx(x,E,I,M,P,Q){const U=this.EH;x=x+U-Q;E=E+U-P;I=I+U+Q;M=M+U+P;this.Ux(x+P,E-Q,0,I+P,M-Q,0,I-P,M+Q,0,x-P,E+Q,0,k)}Ix(x,E,I,M,P,Q){const U=this.EH;x+=U;E+=U;I+=U;M+=U;this.Ux(x+P,E-Q,0,I+P,M-Q,0,I-P,M+Q,0,x-P,E+Q,0,k)}t0(x,E,I,M){const P=.5*this.dba,Q=this.cba;2===Q?this.Q7(x,E,I,M,P):1===Q?this.P7(x,E,I,M,P):this.O7(x,E,I,M,P)}Q7(x,E,I,M,P){this.Kx(x,E,I,E,0,P);this.Kx(I,E,I,M,P,0);this.Kx(I,M,x,M,0,-P);
this.Kx(x,M,x,E,-P,0)}P7(x,E,I,M,P){this.Jx(x,E,I,E,0,P);this.Jx(I,E,I,M,P,0);this.Jx(I,M,x,M,0,-P);this.Jx(x,M,x,E,-P,0)}O7(x,E,I,M,P){this.Ix(x,E,I,E,0,P);this.Ix(I,E,I,M,P,0);this.Ix(I,M,x,M,0,-P);this.Ix(x,M,x,E,-P,0)}pM(x){this.t0(x.T,x.O,x.Z,x.U)}Rl(x){this.Ho!==x&&(this.sd().G_(x),this.Ho=x,this.Pc=0,this.Ph=null)}g3(){this.Rl(this.ym)}lq(x,E,I,M,P,Q,U,ba,X,fa,sa){const ua=this.Ho;var ca=ua.pR;const qa=!!sa.length;if(ca&&!ua.rV(E,I,M,P,Q,U,ba,X,fa)||qa&&!ua.qV(sa)){var ea=this.sd();ea.H_();
ca&&(ua.z3(E,I,M,P,Q,U,ba,X,fa),ca=ea.de,ca[0]=Q,ca[1]=U,E.gh(ca,2),ca[6]=ba,ca[7]=X,I.gh(ca,12),E=ea.cu,P.gh(E,0),P=E[1],E[1]=E[3],E[3]=P,M.gh(ea.PS,0),ea.ni=fa,ea.ue=ua.Gr.S?x?x.Lf():null:null);qa&&(ua.e3(sa),e.dd(ea.GA,sa));this.Pc=0}}us(){this.sd().x_();this.Pc=0}ed(x){this.sd().w_(x);this.Pc=0}WV(x,E,I,M){0>I||0>M||(this.sd().v_(x,E,I,M),this.Pc=0)}xt(){}Es(){super.Es();this.P.flush()}SV(){this.Im&&this.ud&&this.ud.nz&&(this.sd().u_(),this.Pc=0)}ey(x){x=!!x;this.hH!==x&&this.Im&&(this.hH=x,this.sd().F_(x),
this.Pc=0)}PV(){for(const x of this.Vy)x.QV(this.Wh)}Dn(){return!this.P||this.P.isContextLost()||this.lH}Sj(){super.w1();e.ka.qy.Sj();e.ka.UE.Sj();e.ka.jE.Sj();for(const x of this.Vy)x.ed();this.Tt=this.VH=this.ld=null;this.JH=0;this.wv="(unavailable)";this.lo=this.ym=this.Ho=null;for(const x of this.kv.values())x.Sj()}async $D(){this.lH=!0;await this.Bx();this.lH=!1;for(const x of this.kv.values())x.$D(this);this.Jd(this.R,this.N,!0)}Iw(x,E){if(this.Dn())throw Error("context lost");this.mh();const I=
e.A(e.ka.qy,this);I.L5(x,E);return I}Jw(x,E){if(this.Dn())return Promise.reject("context lost");E=Object.assign({},E);const I=E.WB&&"clamp-to-edge"!==E.WB||E.XB&&"clamp-to-edge"!==E.XB;if(!e.Wb.ImageBitmapOptions||!this.Qn()&&I)return e.Wb.ImageBitmap?createImageBitmap(x).then(M=>e.xj(()=>this.Iw(M,E))):x instanceof Blob?e.DV(x).then(M=>this.Jw(M,E)):"undefined"!==typeof HTMLImageElement&&x instanceof HTMLImageElement&&"function"===typeof x.decode?x.decode().then(()=>e.xj(()=>this.Iw(x,E))):e.xj(()=>
this.Iw(x,E));E.premultiplyAlpha=!1;return createImageBitmap(x,{premultiplyAlpha:"premultiply"}).then(M=>e.xj(()=>this.Iw(M,E)))}MK(x,E,I){this.mh();const M=e.A(e.ka.qy,this);M.y5(x,E,I);return M}D4(x,E){this.mh();E.CQ(x,void 0)}Fi(x){x&&(x.o4(),0<x.Ac||(this.mh(),x===this.yk&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.yk=null),x===this.mm&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.mm=null),x.gF()))}qW(x){let E=
this.R,I=this.N,M=!0;x&&("number"===typeof x.width&&(E=x.width,M=!1),"number"===typeof x.height&&(I=x.height,M=!1));if(0>=E||0>=I)throw Error("invalid size");this.mh();const P=e.A(e.ka.UE,this);P.x5(E,I,Object.assign({OT:M},x));this.ud=null;this.jc.Pm=null;return P}pe(x){if(x!==this.ud){if(x){x.Vz&&x.YP(this.R,this.N);var E=x.ua();var I=x.ra();var M=E;var P=I}else E=this.R,I=this.N,M=this.kD(),P=this.jD();var Q=this.RR!==E||this.QR!==I;Q&&this.IQ(M,P,E,I);this.sd().I_(x,Q,this.Mu);this.ud=x;this.Pc=
0}}Os(){return this.ud}HL(x){return x?[x.ua(),x.ra()]:[this.R,this.N]}uC(x){2>this.md||this.ud&&0<this.ud.Bk?(this.DN(),this.iq(),this.zs(x,"stretch")):(this.sd().s_(x,this.ud),this.Pc=0)}zs(x,E="stretch"){x=x.Lf();if(!x)throw Error("not a texture-backed render target");this.Sf(x);this.iY(E,x)}Bn(x){2>this.md||(this.sd().z_(x.Vh),this.Pc=0)}GW(x){this.pe(null);this.mh();const E=x.Lf();E===this.yk&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.yk=null);E===this.mm&&(this.P.activeTexture(this.P.TEXTURE1),
this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.mm=null);x.gF()}async f2(x){this.mh();const E=this.ud;if(x){var I=x.ua();var M=x.ra();x=x.Vh}else I=this.ua(),M=this.ra(),x=null;const P=this.P;P.bindFramebuffer(P.FRAMEBUFFER,x);x=new ImageData(I,M);P.readPixels(0,0,I,M,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array(x.data.buffer));(()=>{P.bindFramebuffer(P.FRAMEBUFFER,null);this.ud=null;this.jc.Pm=null;this.pe(E)})();return x}bO(x){this.Si()&&(this.sd().L_(x),this.Pc=0)}aL(x){this.Si()&&
(this.sd().y_(x),this.Pc=0)}daa(x){const E=new Promise(I=>v.add({resolve:I,kca:x}));-1===z&&(z=self.requestAnimationFrame(A));return E}$_(){return!!this.NQ.desynchronized}GY(){let x=0;for(const E of e.ka.qy.aca())x+=E.UC();return x}Qn(){return 2<=this.md}Si(){return!!this.ld}e5(x){this.Vy.add(x)}w9(x){this.Vy.delete(x)}z7(x){this.y7([["normal",x.ONE,x.ONE_MINUS_SRC_ALPHA],["additive",x.ONE,x.ONE],["xor",x.ONE,x.ONE_MINUS_SRC_ALPHA],["copy",x.ONE,x.ZERO],["destination-over",x.ONE_MINUS_DST_ALPHA,x.ONE],
["source-in",x.DST_ALPHA,x.ZERO],["destination-in",x.ZERO,x.SRC_ALPHA],["source-out",x.ONE_MINUS_DST_ALPHA,x.ZERO],["destination-out",x.ZERO,x.ONE_MINUS_SRC_ALPHA],["source-atop",x.DST_ALPHA,x.ONE_MINUS_SRC_ALPHA],["destination-atop",x.ONE_MINUS_DST_ALPHA,x.SRC_ALPHA]])}}}"use strict";
{let e=null;const a=new Set;let c=!1;self.i_=class{constructor(f){e=f;Object.defineProperties(this,{tB:{value:{},writable:!1},storage:{value:new self.j_(e),writable:!1},koa:{value:e.jm,writable:!1}});e.Rd.addEventListener("keydown",b=>{a.has(b.key)?b.stopPropagation():a.add(b.key)});e.Rd.addEventListener("keyup",b=>a.delete(b.key));e.oc().addEventListener("window-blur",()=>a.clear());e.jm&&(self.alert=b=>{c||(c=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(b)})}B7(f){Object.defineProperties(this.tB,f)}addEventListener(f,b){e.Rd.addEventListener(f,b)}removeEventListener(f,b){e.Rd.removeEventListener(f,b)}get BT(){return e.gx()}random(){return e.fq()}get Df(){return e.$b().qu}get keyboard(){const f=e.iz.keyboard;if(!f)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return f}get aU(){const f=e.iz.aU;if(!f)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return f}get GU(){const f=e.iz.GU;if(!f)throw Error("runtime.touch used but Touch object missing - add it to your project first");return f}alert(f){return e.dt("alert",{message:f+(e.jm?" [via Web Worker]":"")})}}}"use strict";self.a_=class{constructor(){}};"use strict";{const e=self.ih;self.j_=class{constructor(a){this.lv=a.n7()}getItem(a){e.Id(a);return this.lv.getItem(a)}setItem(a,c){e.Id(a);return this.lv.setItem(a,c)}removeItem(a){e.Id(a);return this.lv.removeItem(a)}clear(){return this.lv.clear()}keys(){return this.lv.keys()}}}"use strict";
{const e=self.ih,a=new WeakMap;self.UL=class{constructor(c){a.set(this,c);Object.defineProperties(this,{name:{value:c.W,writable:!1}});c.I().yP(this,c)}addEventListener(c,f){e.Id(c);e.Qi(f);a.get(this).Rd.addEventListener(c,f)}removeEventListener(c,f){e.Id(c);e.Qi(f);a.get(this).Rd.removeEventListener(c,f)}*LT(){for(const c of a.get(this).ta())yield c.rg()}iJ(c){e.Ll(void 0);e.Ll(void 0);if("number"!==typeof c&&"string"!==typeof c)throw new TypeError("invalid layer parameter");var f=a.get(this),b=
f.I();c=b.$b().za(c);if(!c)throw Error("invalid layer");f=b.PK(f,c,void 0,void 0,void 0);b=b.ja();b.ff(!0);f.MF();b.ff(!1);return f.rg()}}}"use strict";
{const e=self.ih,a=new WeakMap;self.h_=class{constructor(c){a.set(this,c);const f=[],b=c.Na,d=b.Ff().length;for(let m=0;m<d;++m)f.push(new self.wD(b,m));Object.defineProperties(this,{name:{value:c.W,writable:!1},index:{value:c.Da(),writable:!1}})}addEventListener(c,f){e.Id(c);e.Qi(f);a.get(this).Rd.addEventListener(c,f)}removeEventListener(c,f){e.Id(c);e.Qi(f);a.get(this).Rd.removeEventListener(c,f)}get width(){return a.get(this).ua()}set width(c){a.get(this).$j(c)}get height(){return a.get(this).ra()}set height(c){a.get(this).Xj(c)}scrollTo(c,
f){e.Ll(c);e.Ll(f);const b=a.get(this);b.pt(c);b.qt(f)}}}"use strict";
{const e=self.B,a=new WeakMap;self.g_=class{constructor(c){a.set(this,c);const f=[],b=c.Na,d=b.Ff().length;for(let m=0;m<d;++m)f.push(new self.wD(b,m));Object.defineProperties(this,{name:{value:c.W,writable:!1},index:{value:c.Da(),writable:!1},Df:{value:c.Jf().qu,writable:!1}})}get isVisible(){return a.get(this).fc()}set isVisible(c){a.get(this).Uf(c)}get opacity(){return a.get(this).Ie()}set opacity(c){c=e.xa(+c,0,1);isNaN(c)||a.get(this).Yj(c)}}}"use strict";
{const e=self.B,a=self.ih,c=new WeakMap,f=new WeakMap;function b(m){let k=f.get(m);if(k)return k;k=e.A(e.Event.oc);f.set(m,k);return k}let d=null;self.Sp=class{constructor(){c.set(this,d);const m={nc:{value:d.I().Zh,writable:!1},NJ:{value:d.K().ru,writable:!1},uid:{value:d.ie,writable:!1}};d.g7(m);d.b7(m);Object.defineProperties(this,m);d.I().yP(this,d)}static Ch(m){d=m}static sq(){return d}Nt(){const m=f.get(this);m&&(m.m(),f.delete(this));c.delete(this)}addEventListener(m,k,p){a.Id(m);a.Qi(k);b(this).addEventListener(m,
k,p)}removeEventListener(m,k,p){a.Id(m);a.Qi(k);b(this).removeEventListener(m,k,p)}dispatchEvent(m){b(this).dispatchEvent(m)}}}"use strict";
{const e=self.B,a=self.ih,c=self.Sp,f=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(b=>[b[1],b[0]]);e.A(e.hb);self.xD=class b extends c{constructor(){super();var d=c.sq();f.set(this,d);const m=[];var k=d.C();if(d=k.ae){k=k.K().Na.Ff().length;for(let p=0;p<k;++p)m.push(new self.wD(d,p))}}get Df(){return f.get(this).C().Jf().qu}get Cd(){return f.get(this).C().za().Naa}get x(){return f.get(this).C().Ta()}set x(d){d=
+d;const m=f.get(this).C();isNaN(d)||m.Ta()===d||(m.Ah(d),m.Bb())}get y(){return f.get(this).C().Ua()}set y(d){d=+d;const m=f.get(this).C();isNaN(d)||m.Ua()===d||(m.Bh(d),m.Bb())}get nK(){return f.get(this).C().ib()}set nK(d){d=+d;const m=f.get(this),k=m.C();isNaN(d)||k.ib()===d||(k.pf(d),m.I().ba())}get width(){return f.get(this).C().ua()}set width(d){d=+d;const m=f.get(this).C();isNaN(d)||m.ua()===d||(m.$j(d),m.Bb())}get height(){return f.get(this).C().ra()}set height(d){d=+d;const m=f.get(this).C();
isNaN(d)||m.ra()===d||(m.Xj(d),m.Bb())}get angle(){return f.get(this).C().Qa()}set angle(d){d=e.zd(+d);const m=f.get(this).C();isNaN(d)||m.Qa()===d||(m.oe(d),m.Bb())}wJ(){f.get(this).C().Gf().oea()}get isVisible(){return f.get(this).C().fc()}set isVisible(d){d=!!d;const m=f.get(this),k=m.C();k.fc()!==d&&(k.Uf(d),m.I().ba())}get opacity(){return f.get(this).C().Ie()}set opacity(d){d=e.xa(+d,0,1);const m=f.get(this),k=m.C();isNaN(d)||k.Ie()===d||(k.Yj(d),m.I().ba())}vi(d,m){a.Ll(d);a.Ll(m);return f.get(this).C().JK(+d,
+m)}getParent(){const d=f.get(this).ya();return d?d.rg():null}*parents(){for(const d of f.get(this).parents())yield d.rg()}*children(){for(const d of f.get(this).children())yield d.rg()}*Nm(){for(const d of f.get(this).Nm())yield d.rg()}removeChild(d){a.lE(d,b);const m=f.get(this);d=f.get(d);m.Pi(d)}}}"use strict";{const e=new WeakMap;self.SL=class extends self.xD{constructor(){super();e.set(this,self.Sp.sq())}focus(){e.get(this).Aa.jL()}blur(){e.get(this).Aa.vK()}}}"use strict";
{const e=self.B,a=self.ih,c=new WeakMap,f=new WeakMap;function b(m){let k=f.get(m);if(k)return k;k=e.A(e.Event.oc);f.set(m,k);return k}let d=null;self.c_=class{constructor(){c.set(this,d);const m={nc:{value:d.I().Zh,writable:!1},behavior:{value:d.ol().ZY(),writable:!1}};Object.defineProperties(this,m)}static Ch(m){d=m}static sq(){return d}get instance(){return c.get(this).qa.rg()}Nt(){const m=f.get(this);m&&(m.m(),f.delete(this));c.delete(this)}addEventListener(m,k,p){a.Id(m);a.Qi(k);b(this).addEventListener(m,
k,p)}removeEventListener(m,k,p){a.Id(m);a.Qi(k);b(this).removeEventListener(m,k,p)}dispatchEvent(m){b(this).dispatchEvent(m)}}}"use strict";{const e=new WeakMap;self.b_=class{constructor(a){e.set(this,a);Object.defineProperties(this,{nc:{value:a.I().Zh,writable:!1}})}}}"use strict";
{const e=self.B,a=self.ih,c=new WeakMap;self.wD=class{constructor(f,b){c.set(this,f);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return c.get(this).Ff()[this.index].W}getParameter(f){a.it(f);f=Math.floor(+f);const b=c.get(this).If(this.index);if(0>f||f>=b.length)throw new RangeError("invalid effect parameter index");f=b[f];return f instanceof e.hb?[f.Ya,f.$a,f.Za]:f}}}"use strict";
{const e=self.B,a=new Set(["local","remote"]),c=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.vV=class extends e.aa{constructor(f,b){super();var d=b.exportType;this.g=f;this.oA=new Map;this.er=new Map;this.fba=new Map;this.Uz="cordova"===d;this.LR=!!b.isiOSCordova;this.Zz="file:"===location.protocol;this.Oba=b.supportedAudioFormats||{};this.naa=
new Map;this.wR=this.cR="";this.mz="html5"===d||"scirra-arcade"===d||"instant-games"===d?"remote":"local";this.TF=[];this.bG=new Map;this.TI=[];this.mA=[];this.qR=!1;this.jA=this.aG=this.tv=0;this.TG=!1;this.eba=e.A(e.e2,()=>this.ZO(),50);this.$H=new e.PM(Math.max(e.hardwareConcurrency,8));if(f=b.previewImageBlobs){(d=b.previewProjectFileBlobs)&&Object.assign(f,d);(d=b.projectData)&&(f["data.json"]=d);for(const [m,k]of Object.entries(f))this.oA.set(m.toLowerCase(),k)}if(b=b.previewProjectFileSWUrls)for(const [m,
k]of Object.entries(b))this.fba.set(m,k);new self.a_(this)}m(){this.oA.clear();for(const f of this.er.values())f.startsWith("blob:")&&URL.revokeObjectURL(f);this.er.clear();for(const f of this.TF)f.m();e.G(this.TF);this.bG.clear();e.G(this.mA);this.g=null}I(){return this.g}s$(f){this.cR=f}x$(f){this.wR=f}kF(f){return this.oA.has(f.toLowerCase())}By(f){return this.oA.get(f.toLowerCase())||null}AL(f){if(!this.kF(f))return f;f=f.toLowerCase();var b=this.er.get(f);b||(b=this.By(f),b=URL.createObjectURL(b),
this.er.set(f,b));return b}Bj(f,b){b=b||this.mz;const d=this.By(f);if(d)return Promise.resolve(d);if(e.KD(f)){const m=f.toLowerCase();return this.Uz&&this.Zz?this.LK(m):"local"===b?this.$H.Kb(()=>e.Bj(m)):e.Bj(m)}return e.Bj(f)}Cs(f){const b=this.By(f);if(b)return e.CV(b);if(e.KD(f)){const d=f.toLowerCase();return this.Uz&&this.Zz?this.KK(d):"local"===this.mz?this.$H.Kb(()=>e.Cs(d)):e.Cs(d)}return e.Cs(f)}Ds(f){const b=this.By(f);if(b)return e.uK(b);if(e.KD(f)){const d=f.toLowerCase();return this.Uz&&
this.Zz?this.jW(d):"local"===this.mz?this.$H.Kb(()=>e.Ds(d)):e.Ds(d)}return e.Ds(f)}async gL(f){f=await this.Ds(f);return JSON.parse(f)}ZE(f,b){return this.g.dt("cordova-fetch-local-file",{filename:f,as:b})}jW(f){return this.ZE(f,"text")}async LK(f){const b=await this.ZE(f,"buffer");f?(f=f.split("."),f=2>f.length?"":c.get(f[f.length-1].toLowerCase())||""):f="";return new Blob([b],{type:f})}async iW(f){f=f.toLowerCase();var b=this.er.get(f);if(b)return b;b=await this.LK(f);b=URL.createObjectURL(b);
this.er.set(f,b);return b}KK(f){return this.ZE(f,"buffer")}tZ(f,b=""){if(e.YL(f)){if(b)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(f)}return this.kF(f)?Promise.resolve(this.AL(f)):this.Uz&&this.Zz?this.iW(b+f):Promise.resolve(b+f.toLowerCase())}RD(f){if(f.vB&&!a.has(f.vB))throw Error("invalid load policy");let b=this.bG.get(f.url);if(b)return b;b=e.A(e.VL,this,{url:f.url,size:f.size||0,vB:f.vB||this.mz});this.TF.push(b);this.bG.set(b.Hr,b);this.qR||(this.tv+=b.xn(),
this.mA.push(b.x0().then(()=>this.xO(b.xn()))));return b}async oO(){try{await Promise.all(this.mA),this.jA=1}catch(f){console.error("Error loading: ",f),this.TG=!0,this.ZO()}}s3(){this.qR=!0}xO(f){this.aG+=f;this.eba.JV()}ZO(){const f=e.A(e.Event,"loadingprogress");this.jA=e.xa(this.aG/this.tv,0,1);f.progress=this.jA;this.g.oc().dispatchEvent(f)}J$(f){e.dd(this.TI,f);this.TI.length&&this.mA.push(this.l8())}l8(){if("undefined"===typeof FontFace)return Promise.resolve();const f=[];for(const [b,d,m]of this.TI)this.tv+=
m,f.push(this.k8(b,d).then(()=>this.xO(m)));return Promise.all(f)}async k8(f,b){try{const d=await this.tZ(b,this.cR),m=new FontFace(f,`url('${d}')`);this.g.jm?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(d){console.warn(`[C3 runtime] Failed to load web font '${f}': `,d)}}V_(){return!!this.Oba["audio/webm; codecs=opus"]}h$(f){for(const [b,d,m]of f)this.naa.set(b,{fileName:b,Ena:d.map(k=>({type:k[0],Ana:k[1],Sna:b+k[1],fileSize:k[2]})),loa:m})}}}"use strict";
{const e=self.B;e.uV=class extends e.aa{constructor(a,c){super();this.td=a;this.g=a.I();this.Hr=c.url;this.gv=c.size;this.FH=c.vB;this.om=this.au=null}m(){this.au=this.g=this.td=this.om=null}xn(){return this.gv}x0(){return"local"===this.FH||this.au?Promise.resolve():this.om?this.om:this.om=this.td.Bj(this.Hr,this.FH).then(a=>{this.om=null;return this.au=a}).catch(a=>console.error("Error loading resource: ",a))}zY(){return this.au?Promise.resolve(this.au):this.om?this.om:this.td.Bj(this.Hr,this.FH)}}}"use strict";
{const e=self.B,a=new e.PM,c=new Set;e.VL=class extends e.uV{constructor(f,b){super(f,b);this.oj=this.Wo=null;this.Ac=0;this.yR=this.zR=-1;c.add(this)}m(){this.Uj();if(0!==this.Ac)throw Error("released image asset which still has texture references");this.Wo=null;c.delete(this);super.m()}static Rx(){for(const f of c)f.Wo=null,f.oj=null,f.Ac=0}SD(f,b){b=b||{};this.Ac++;if(this.oj)return Promise.resolve(this.oj);if(this.Wo)return this.Wo;b.jT=this.g.fa.US;return this.Wo=this.zY().then(d=>a.Kb(()=>f.Jw(d,
b).then(m=>{this.Wo=null;if(0===this.Ac)return f.Fi(m),null;this.oj=m;this.zR=m.ua();this.yR=m.ra();return this.oj}))).catch(d=>{console.error("Failed to load texture: ",d);throw d;})}Uj(){if(0>=this.Ac)throw Error("texture released too many times");this.Ac--;0===this.Ac&&this.oj&&(this.oj.Ps().Fi(this.oj),this.oj=null)}Lf(){return this.oj}ua(){return this.zR}ra(){return this.yR}}}"use strict";
{const e=self.B;function a(c,f){return c.C().qj-f.C().qj}e.p2=class extends e.aa{constructor(c,f,b){super();this.ia=f;this.Y=b;this.H=[];this.yu=!0;this.gi=new Set;this.vu=!1}m(){e.G(this.H);this.gi.clear()}hd(){e.G(this.H);this.yu=!0;this.gi.clear();this.vu=!1}a3(){this.yu=!1}Fn(){if(!this.H.length)return!0;if(this.H.length>this.gi.size)return!1;this.iF();return!0}AD(c){this.gi.has(c)?(this.gi.delete(c),0===this.gi.size&&(this.vu=!1)):(this.H.push(c),this.yu=1===this.H.length)}ne(c){this.gi.add(c);
this.vu=!0;50<=this.gi.size&&this.iF()}iF(){this.vu&&(this.H.length===this.gi.size?this.hd():(e.Zg(this.H,this.gi),this.gi.clear(),this.vu=!1))}J6(){this.yu||(this.H.sort(a),this.yu=!0)}BC(c){this.iF();this.J6();this.H.length&&c.push(this.H)}}}"use strict";
{const e=self.B;e.q2=class extends e.aa{constructor(a,c){super();this.mG=a;this.lG=c;this.Lh=e.A(e.bE)}m(){this.Lh.m();this.Lh=null}pl(a,c,f){let b=this.Lh.X(a,c);return b?b:f?(b=e.A(e.p2,this,a,c),this.Lh.Set(a,c,b),b):null}ck(a){return Math.floor(a/this.mG)}dk(a){return Math.floor(a/this.lG)}zt(a,c,f){if(c)for(let b=c.T,d=c.Z;b<=d;++b)for(let m=c.O,k=c.U;m<=k;++m){if(f&&f.vi(b,m))continue;const p=this.pl(b,m,!1);p&&(p.ne(a),p.Fn()&&this.Lh.ys(b,m))}if(f)for(let b=f.T,d=f.Z;b<=d;++b)for(let m=f.O,
k=f.U;m<=k;++m)c&&c.vi(b,m)||this.pl(b,m,!0).AD(a)}YM(a,c){let f=this.ck(a.T);const b=this.dk(a.O),d=this.ck(a.Z);for(a=this.dk(a.U);f<=d;++f)for(let m=b;m<=a;++m){const k=this.pl(f,m,!1);k&&k.BC(c)}}I0(a){let c=a.T;const f=a.O,b=a.Z;for(a=a.U;c<=b;++c)for(let d=f;d<=a;++d){const m=this.pl(c,d,!1);m&&m.a3()}}}}"use strict";
{const e=self.B,a=new e.Rect,c=new e.Le,f=[],b=new e.Rect,d=new e.Rect,m=self.Sr.UB,k=m.Ad(0,1,0);function p(l,h){return l.C().qj-h.C().qj}function r(l,h){return l.C().ib()-h.C().ib()}e.PD=class extends e.aa{constructor(l,h,q){super();this.Jg=l;this.g=l.I();this.W=q[0];this.Oa=h;this.kb=q[2];this.hA=!!q[3];this.Xt=e.A(e.hb);this.Xt.dl(q[4].map(t=>t/255));this.lm=!!q[5];this.Fk=q[6];this.Gk=q[7];this.bb=e.A(e.hb,1,1,1,q[8]);this.BA=e.A(e.hb);this.jH=q[9];this.zS=q[17];this.cp=q[10];this.tr=q[11];this.Yl=
q[12];this.cm=null;this.ge=1;this.Hc=q[16];this.Yi=0;this.eH=!0;this.nd=e.A(e.Rect);this.bB=e.A(e.Rect);this.RS=[];this.aj=[];this.kz=[];this.CR=new Map;this.H=[];this.eo=this.WI=!1;this.Na=e.A(e.zj,this,q[15]);this.qr=null;this.vH=[];this.cA=!1;this.bba=e.A(e.Rect,0,0,-1,-1);this.yaa=e.A(e.Rect,0,0,-1,-1);this.Naa=new self.g_(this);this.GQ();this.cp&&(this.qr=e.A(e.q2,this.g.Ng,this.g.Mg));for(const t of q[14])l=this.g.He(t[1]),this.Jg.vO(l),l.Hq||l.EN(t),this.aj.push(t),this.CR.set(t[2],t);e.dd(this.RS,
this.aj)}static Pa(l,h,q){return e.A(e.PD,l,h,q)}m(){this.g=this.Jg=null}$Y(l){return this.CR.get(l)}mW(l){const h=this.Jg.Co;let q=0;const t=this.aj;for(let z=0,A=t.length;z<A;++z){var v=t[z];const F=this.g.He(v[1]);let x=!0;if(!F.rD()||h)v=this.g.lh(v,this,!0),l.push(v),F.Of()&&(x=!1,this.kz.push(v.ie));x&&(t[q]=t[z],++q)}e.Ee(t,q);this.g.Ed();this.Vf()}zg(l,h){const q=l.C();if(q.za()!==this)throw Error("instance added to wrong layer");this.H.push(l);0!==q.ib()&&(this.eo=!0);h&&this.cp&&l.C().Bb();
this.Vf()}p8(l){this.H.includes(l)||(this.H.push(l),0!==l.C().ib()&&(this.eo=!0),this.Vf())}c9(l){const h=l.C();if(h.za()!==this)throw Error("instance added to wrong layer");this.H.unshift(l);0!==h.ib()&&(this.eo=!0);this.Vf()}Yn(l,h){const q=this.H.indexOf(l);0>q||(h&&this.cp&&l.C().VP(),this.H.splice(q,1),this.Vf(),this.DP())}iQ(){this.eo=!0}DP(){0===this.H.length&&(this.eo=!1)}JF(l){if(l){l=new Set;for(var h of this.H){var q=h.C().qj;0<=q&&l.add(q)}h=-1;for(const t of this.H)if(q=t.C(),!(0<=q.qj)){for(++h;l.has(h);)++h;
q.Ny(h)}}this.H.sort(p)}I6(){for(const l of this.H)l.K().Of()||this.g.mn(l);this.g.Ed();e.G(this.H);this.eo=!1;this.Vf()}gt(l,h,q,t,v){const z=this.g.ja(),A=this.g.Ec,F=l.fb,x=[];for(const M of this.aj){var E=M[0];if(h.vi(E[0],E[1])){E=A[M[1]];if(E!==l)if(F){if(!l.fL(E))continue}else continue;E=this;var I=this.g.cb();this.Jf()!==I&&((E=I.zL(this.W))||(E=I.aD(this.Da())));I=this.g.lh(M,E,!1,void 0,void 0,!1,v);E.aO(I);E=I.C();E.ZD(q,t);E.Bb();z.ff(!0);I.MF();z.ff(!1);x.push(I)}}return x}Jf(){return this.Jg}Da(){return this.Oa}I(){return this.g}Cj(){return this.g.Cj()}G3(){this.cA=
!1}fc(){return this.hA}Uf(l){l=!!l;this.hA!==l&&(this.hA=l,this.g.ba())}NL(l,h){var q=this.bB;if(0===l)h.Ka(q);else{const t=this.IC(l);l=q.cs();const v=q.ds(),z=.5*q.width()/t;q=.5*q.height()/t;h.set(l-z,v-q,l+z,v+q)}}Ie(){return this.bb.Xa}Yj(l){l=e.xa(l,0,1);this.bb.Xa!==l&&(this.bb.NB(l),this.GQ(),this.g.ba())}GQ(){this.BA.Ka(this.bb);this.BA.UJ()}eD(){return this.BA}zl(){return this.bb.Jv(1,1,1,1)}I3(l){this.tr!==l&&(this.tr=l,this.g.ba())}C3(l,h){if(this.Fk!==l||this.Gk!==h)if(this.Fk=l,this.Gk=
h,this.g.ba(),1!==this.Fk||1!==this.Gk)for(const q of this.H)q.K()}pf(l){l=+l;this.Hc!==l&&(this.Hc=l,this.g.ba())}ib(){return this.Hc}oe(l){this.Yi=e.zd(l)}Qa(){return this.eH?e.zd(this.Jg.Qa()+this.Yi):0}SZ(){return 0<this.H.length}V3(l){this.lm=!!l}p3(l){this.jH=!!l}s2(){return!this.I().Vk||!this.zS}Qf(l){this.Yl!==l&&(this.Yl=l,this.g.ba())}pg(){return this.Yl}p9(l){0!==l.size&&0<e.Zg(this.H,l)&&(this.DP(),this.Vf())}Vf(){this.cA=this.WI=!1}Sy(){if(!this.WI){this.H.sort(r);if(this.cp)for(let l=
0,h=this.H.length;l<h;++l){const q=this.H[l].C();q.Ny(l);this.qr.I0(q.Yu)}else for(let l=0,h=this.H.length;l<h;++l)this.H[l].C().Ny(l);this.WI=!0}}V0(l,h,q){var t=l.C();h=h.C();if(t.za()!==this||h.za()!==this)throw Error("can't arrange Z order unless both objects on this layer");t=t.Lj();h=h.Lj();if(t===h+(q?1:-1))return!1;e.hca(this.H,t);t<h&&h--;q&&h++;h===this.H.length?this.H.push(l):this.H.splice(h,0,l);this.Vf();return!0}x8(l,h){const q=[];let t=0,v=0,z=l.length,A=h.length;for(;t<z&&v<A;){const F=
l[t],x=h[v];F.C().qj<x.C().qj?(q.push(F),++t):(q.push(x),++v)}for(;t<z;++t)q.push(l[t]);for(;v<A;++v)q.push(h[v]);return q}w8(l){const h=[],q=l.length;for(let t=0;t<q-1;t+=2)h.push(this.x8(l[t],l[t+1]));1===q%2&&h.push(l[q-1]);return h}v8(l){for(;1<l.length;)l=this.w8(l);return l[0]}p7(){this.Sy();e.G(f);this.qr.YM(this.nd,f);return f.length?1===f.length?f[0]:this.v8(f):[]}M7(){return!this.oy()&&!this.lm}YN(){return this.fc()&&0<this.Ie()&&(this.SZ()||!this.lm)}oy(){return this.jH||!this.zl()||0!==
this.pg()||this.Na.Ts()}Os(){return this.cm}p5(l){if(0===l.length)return!0;if(2<=l.length)return!1;l=l[0].jb;return!l.Hl()&&!l.yv&&!l.rG&&this.zl()}IC(l){const h=this.NC();return h/(h-l)}NC(){return 100/this.Ji()}IF(l){const h=this.g.Ij();var q=(this.nd.cs()+0)*h;const t=(this.nd.ds()+0)*h,v=this.NC();l.cy(q,t,v);l.hy(q,t,v-100);q=this.Qa();0===q?m.set(k,0,1,0):m.set(k,Math.sin(q),Math.cos(q),0);l.Wx(k);l.M2(h,h);l.At()}gf(l,h,q){const t=this.g.fa,v=this.oy();var z=null;let A=null;if(this.g.gM()&&
l.Si()){const F=t.jZ(this);F&&(A=F.oK(),l.bO(A))}v?(z={cl:this.g.wd},"low"===t.Xh&&(z.width=t.Hi(),z.height=t.Gi()),z=this.g.Gs(z),l.pe(z),this.lm&&l.us()):l.pe(h);this.lm||l.ed(this.Xt);this.cm=z||h;this.IF(l);l.by(this.ib());l.ey(this.I().Vk&&this.zS);this.Ji()>Number.EPSILON&&(this.Sy(),this.cp&&0===this.ib()&&!this.eo?this.x6(l):this.SO(l,this.H));l.by(0);l.Ol(0);l.cy(0,0,100);l.hy(0,0,0);v&&(l.ey(!1),this.y6(l,z,h,q));A&&l.aL(A);this.cm=null}SO(l,h){const q=this.nd,t=this.cm;let v=null;for(let z=
0,A=h.length;z<A;++z){const F=h[z];if(F===v)continue;v=F;const x=F.C();x.fc()&&x.iM(q)&&(x.Ts()?this.v6(F,x,l,t):this.t6(F,x,l))}}x6(l){var h=this.qr;const q=this.yaa,t=this.bba,v=this.nd;q.set(h.ck(v.T),h.dk(v.O),h.ck(v.Z),h.dk(v.U));this.cA&&q.cd(t)?h=this.vH:(h=this.p7(),this.cA=!0,t.Ka(q));this.SO(l,h);h!==this.vH&&e.dd(this.vH,h)}t6(l,h,q){h=h.Uo;q.Ph!==h&&h.pV();l.gf(q)}v6(l,h,q,t){this.u6(l,h,q,t)&&this.IF(q)}u6(l,h,q,t){const v=h.ae.Fh;if(1===v.length){const z=v[0],A=z.jb;if(!A.kba&&h.zl()&&
!l.Hl())return this.w6(l,h,z,A,q),!1}l=e.iE(q,this.g,l,t,v,null);q.by(this.ib());return l}w6(l,h,q,t,v){v.Rl(t);v.Qf(h.pg());t.Wy&&this.g.ba();let z=0,A=0;if(t.Uba){const [F,x]=l.bx();z=1/F;A=1/x;(t=l.cx())?d.Ka(t):d.set(0,0,0,0)}q=h.ae.If(q.Da());v.Ol(h.ib());v.lq(null,b,d,d,h.Gf(),z,A,this.ge,this.Qa(),this.g.qg(),q);l.gf(v)}y6(l,h,q,t){const v=this.Na.Fh,z=this.g;if(this.p5(v)){l.pe(q);if(1===v.length){var A=v[0];q=A.jb;l.Rl(q);d.set(0,0,1,1);A=this.Na.If(A.Da());l.lq(null,b,d,d,this.nd,1/z.Hi(),
1/z.Gi(),this.Ji(),this.Qa(),z.qg(),A);q.Wy&&z.ba()}else l.zh();t&&0===this.Yl&&this.zl()&&0===v.length?l.uC(h):(l.Qf(this.Yl),l.Ml(this.BA),l.zs(h));l.Bn(h);z.Kl(h)}else e.iE(l,z,this,q,v)}B3(l){this.ge!==l&&(this.ge=l,this.Jg.vw(),this.g.ba())}Ij(){return this.Ji()*this.g.Ij()}Dj(){return this.Ji()*this.g.Dj()}Ji(){return(this.ge*this.Jg.ge-1)*this.tr+1}SE(){this.eH=!1;let [l,h]=this.jC(0,0);this.eH=!0;this.g.Wq&&(l=Math.round(l),h=Math.round(h));var q=1/this.Ji();const t=this.bB;t.set(l,h,l+this.g.ri*
q,h+this.g.pi*q);q=this.Qa();0!==q&&(a.Ka(t),a.offset(-t.cs(),-t.ds()),c.$da(a,q),c.wJ(a),a.offset(t.cs(),t.ds()),t.Ka(a));this.NL(this.Hc,this.nd)}jC(l,h){return this.s5(l,h,this.Dj())}s5(l,h,q){var t=this.g.TH,v=this.g.UH;t=(this.Jg.Nk-t)*this.Fk+t;v=(this.Jg.Ok-v)*this.Gk+v;var z=this.Ji();l=t-this.g.ri/z/2+l/q;h=v-this.g.pi/z/2+h/q;z=this.Qa();if(0!==z){l-=t;h-=v;q=Math.cos(z);z=Math.sin(z);const A=l*q-h*z;h=h*q+l*z;l=A;l+=t;h+=v}return[l,h]}Hx(l,h){return this.uP(l,h,0,this.Dj())}Yp(l,h,q=0){return this.uP(l,
h,q,this.Ij()*this.Cj())}uP(l,h,q,t){const v=this.g;var z=this.Jg;if(0!==q){var A=this.bB.cs(),F=this.bB.ds();q=this.IC(q);l=(l-A)*q+A;h=(h-F)*q+F}A=v.TH;F=v.UH;A=(z.Nk-A)*this.Fk+A;z=(z.Ok-F)*this.Gk+F;q=this.Qa();if(0!==q){l-=A;h-=z;F=Math.cos(-q);q=Math.sin(-q);const x=l*F-h*q;h=h*F+l*q;l=x;l+=A;h+=z}F=this.Ji();return[(l-(A-v.ri/F/2))*t,(h-(z-v.pi/F/2))*t]}ea(){return{s:this.ge,a:this.Yi,vl:this.nd.T,vt:this.nd.O,vr:this.nd.Z,vb:this.nd.U,v:this.fc(),bc:this.Xt.toJSON(),t:this.lm,px:this.Fk,py:this.Gk,
c:this.bb.toJSON(),sr:this.tr,fx:this.Na.Vc(),cg:this.kz}}ma(l){this.ge=l.s;this.Yi=l.a;this.nd.set(l.vl,l.vt,l.vr,l.vb);this.hA=!!l.v;this.Xt.dl(l.bc);this.lm=!!l.t;this.Fk=l.px;this.Gk=l.py;this.bb.dl(l.c);this.tr=l.sr;e.dd(this.kz,l.cg);e.dd(this.aj,this.RS);const h=new Set(this.kz);let q=0;for(let t=0,v=this.aj.length;t<v;++t)h.has(this.aj[t][2])||(this.aj[q]=this.aj[t],++q);e.Ee(this.aj,q);this.Na.Kc(l.fx);this.JF(!1);this.Vf()}aO(l){if(!this.H.includes(l))if(l.Je()){const h=[...l.Nm()];h.push(l);
h.sort((q,t)=>{q=q.C().hI;t=t.C().hI;return q-t});for(const q of h)this.zg(q,!0)}else this.zg(l,!0)}}}"use strict";
{const e=self.B,a=self.Ci,c=e.A(e.Rect),f=e.A(e.Rect),b=e.A(e.Rect);e.oM=class extends e.aa{constructor(d,m,k){super();this.qb=d;this.g=d.I();this.W=k[0];this.zba=k[1];this.yba=k[2];this.R=k[1];this.N=k[2];this.KR=!!k[3];this.YQ=k[4];this.Gc=null;this.kb=k[5];this.Oa=m;this.Ok=this.Nk=0;this.ge=1;this.Yi=0;this.Qq=new Set;this.fg=new Set;this.ov=new Set;this.Eq=[];this.XG=[];this.Mc=[];this.ZR=new Map;this.$R=new Map;this.Na=e.A(e.zj,this,k[8]);this.cm=null;this.Mo={};this.Co=!0;this.qu=new self.h_(this);
this.Rd=e.A(e.Event.oc);for(const p of k[6])d=e.PD.Pa(this,this.Mc.length,p),this.Mc.push(d),this.ZR.set(d.W.toLowerCase(),d),this.$R.set(d.kb,d);for(const p of k[7]){k=this.g.He(p[1]);if(!k)throw Error("missing nonworld object class");k.Hq||k.EN(p);this.XG.push(p);this.vO(k)}}m(){for(const d of this.Mc)d.m();e.G(this.Mc);this.ov.clear();this.g=this.qb=this.Gc=null}I(){return this.g}Da(){return this.Oa}BL(){let d=this.Mc[0].Ji();for(let m=1,k=this.Mc.length;m<k;++m){const p=this.Mc[m];if(0!==p.Fk||
0!==p.Gk)d=Math.min(d,p.Ji())}return d}pt(d){if(!this.KR){const m=1/this.BL()*this.g.ri/2;d>this.R-m&&(d=this.R-m);d<m&&(d=m)}this.Nk!==d&&(this.Nk=d,this.g.ba())}qt(d){if(!this.KR){const m=1/this.BL()*this.g.pi/2;d>this.N-m&&(d=this.N-m);d<m&&(d=m)}this.Ok!==d&&(this.Ok=d,this.g.ba())}vw(){this.pt(this.Nk);this.qt(this.Ok)}H3(d){d=+d;this.ge!==d&&(this.ge=d,this.vw())}oe(d){this.Yi=e.zd(d)}Qa(){return this.Yi}ua(){return this.R}$j(d){!isFinite(d)||1>d||(this.R=d)}ra(){return this.N}Xj(d){!isFinite(d)||
1>d||(this.N=d)}za(d){return"number"===typeof d?this.aD(d):this.zL(d.toString())}aD(d){d=e.xa(Math.floor(d),0,this.Mc.length-1);return this.Mc[d]}zL(d){return this.ZR.get(d.toLowerCase())||null}nx(d){return this.$R.get(d)||null}UZ(){for(const d of this.Mc)if(d.YN())return d.M7();return!1}fP(){return[...this.Qq]}vO(d){if(d.Dc())for(const m of d.Mh.Ek)this.Qq.add(m);else this.Qq.add(d)}s7(){return[...this.fg]}mF(d,m){if(d===this||!m)return Promise.resolve();d&&(e.hW(this.fg,d.fg),d.fg.clear());d=[];
for(const k of this.Qq)this.fg.has(k)||(d.push(k.Zs(m)),this.fg.add(k));return Promise.all(d)}async tM(d){if(d.fb)throw Error("cannot load textures for family");var m=this.g.Ud();!m||m.Dn()||this.fg.has(d)||(this.fg.add(d),m=d.Zs(m),this.d5(m),await m,d.aE(),this.g.ba())}d5(d){this.ov.add(d);d.then(()=>this.ov.delete(d)).catch(()=>this.ov.delete(d))}K4(){return Promise.all([...this.ov])}S0(d){if(d.fb||0<d.H.length)throw Error("cannot unload textures");this.g.Ud()&&this.fg.has(d)&&(this.fg.delete(d),
d.hq())}W$(d,m){if(d!==this&&m)for(const k of this.fg)k.Of()||d.Qq.has(k)||(k.hq(),this.fg.delete(k))}Mt(){this.fg.clear()}async yQ(d){const m=this.g,k=this.qb,p=m.ja();this.YQ&&(this.Gc=p.qL(this.YQ),this.Gc.NF());k.nQ(this);this.R=this.zba;this.N=this.yba;this.Nk=m.Ng/2;this.Ok=m.Mg/2;this.vw();this.y8(d);this.F5();this.Co||this.H5();this.GO(this.Eq);this.G5();k.VV();m.Ed();const r=this.g.iaa;await Promise.all(r);e.G(r);if(!m.dj){for(const l of this.Eq)l.a4();for(const l of this.Eq)l.AQ()}e.G(this.Eq);
await Promise.all([...this.Qq].map(l=>l.dE(this.g.Ud())));d&&(m.oc().dispatchEvent(new e.Event("beforefirstlayoutstart")),await m.nn(new e.Event("beforeprojectstart")));await this.nn(new e.Event("beforelayoutstart"));m.dj||await m.Xd(e.D.eb.J.GM,null,null);await this.nn(new e.Event("afterlayoutstart"));d&&(m.oc().dispatchEvent(new e.Event("afterfirstlayoutstart")),await m.nn(new e.Event("afterprojectstart")));p.L9(k);await this.K4();this.Co=!1}y8(d){for(const k of this.g.Ec)if(!k.fb&&k.bi)for(const p of k.ta()){const r=
p.C();var m=r.za();m=e.xa(m.Da(),0,this.Mc.length-1);m=this.Mc[m];r.Pt(m);m.p8(p)}if(!d)for(const k of this.Mc)k.JF(!1)}F5(){for(const d of this.Mc)d.mW(this.Eq),d.SE()}H5(){let d=!1;for(const [k,p]of Object.entries(this.Mo)){const r=this.g.ox(parseInt(k,10));if(r&&!r.fb&&r.rD()){for(const l of p){var m=null;if(r.bi&&(m=this.nx(l.w.l),!m))continue;m=this.g.lh(r,m,!1,0,0,!0);m.Kc(l);d=!0;this.Eq.push(m)}e.G(p)}}for(const k of this.Mc)k.JF(!0),k.Vf();d&&(this.g.Ed(),this.g.RP())}GO(d){for(const k of d){if(!k.Dc())continue;
const p=k.C(),r=k.rn();for(const l of k.K().Mh.Ek)if(l!==k.K()){var m=l.ta();m.length>r?k.qq(m[r]):(m=p?this.g.lh(l,p.za(),!0,p.Ta(),p.Ua(),!0):this.g.lh(l,null,!0,0,0,!0),this.g.Ed(),l.Ry(),k.qq(m),d.push(m))}}}G5(){for(const d of this.XG)this.g.He(d[1]).Dc()||this.g.lh(d,null,!0)}D5(){const d=[],m=this.XG;let k=0;for(let p=0,r=m.length;p<r;++p){const l=m[p],h=this.g.He(l[1]);h.Of()?h.Dc()&&h.Mh.OZ()||d.push(this.g.lh(l,null,!0)):(m[k]=l,++k)}e.Ee(m,k);this.g.Ed();this.GO(d)}gt(d,m,k,p,r,l){if(k)return k.gt(d,
m,p,r,l);k=[];for(const h of this.Mc)k.push(h.gt(d,m,p,r,l));return k.flat()}async Q$(){const d=this.qb;this.g.dj||await this.g.Xd(e.D.eb.J.FM,null,null);d.LN(!0);this.g.ja().Cw();this.Co||this.V9();for(const m of this.Mc)m.I6();for(const m of this.g.Ec)if(!(m.Of()||m.bi||m.Lb().km||m.fb)){for(const k of m.ta())this.g.mn(k);this.g.Ed()}d.LN(!1);d.$b()===this&&d.nQ(null)}T9(d){const m=d.K().kb.toString();this.Mo.hasOwnProperty(m)||(this.Mo[m]=[]);this.Mo[m].push(d.Vc())}V9(){for(const d of this.Mc){d.Sy();
for(const m of d.H){const k=m.K();!k.Of()&&k.rD()&&this.T9(m)}}}x2(){this.Mo={};this.Co=!0}Os(){return this.cm}oy(){return"low"===this.g.fa.Xh||this.g.NI||"low-latency"===this.g.Dq||this.Na.Ts()||this.g.Vk}q5(d){return 0===d.length?!0:2<=d.length?!1:!d[0].jb.Hl()}gf(d){var m=this.g.fa;const k=this.oy();var p=null;k?("low-latency"!==this.g.Dq&&(d.pe(null),d.us()),p={cl:this.g.wd,XJ:this.g.NI||this.Na.Ts()},"low"===m.Xh&&(p.width=m.Hi(),p.height=m.Gi()),p=this.g.Gs(p),d.pe(p)):d.pe(null);this.UZ()||
d.us();this.g.Vk&&d.SV();this.cm=p;m=!0;for(const r of this.Mc)r.SE(),r.YN()&&(r.gf(d,p,m),m=!1);k&&(d.ey(!1),this.z6(d,p));this.cm=null}z6(d,m){const k=this.Na.Fh,p=this.g;if(this.q5(k)){d.pe(null);if(1===k.length){var r=k[0];const l=r.jb;d.Rl(l);f.set(0,0,1,1);b.set(0,0,p.ri,p.pi);r=this.Na.If(r.Da());d.lq(null,c,f,f,b,1/p.Hi(),1/p.Gi(),this.ge,this.Qa(),p.qg(),r);l.Wy&&p.ba()}else d.zh();0===k.length?d.uC(m):(d.rE(),d.iq(),d.zs(m));d.Bn(m);p.Kl(m)}else e.iE(d,p,this,null,k)}ea(){const d={sx:this.Nk,
sy:this.Ok,s:this.ge,a:this.Qa(),w:this.ua(),h:this.ra(),fv:this.Co,persist:this.Mo,fx:this.Na.Vc(),layers:{}};for(const m of this.Mc)d.layers[m.kb.toString()]=m.ea();return d}ma(d){this.Nk=d.sx;this.Ok=d.sy;this.ge=d.s;this.Yi=d.a;this.R=d.w;this.N=d.h;this.Co=!!d.fv;this.Mo=d.persist;this.Na.Kc(d.fx);for(const [m,k]of Object.entries(d.layers))(d=this.nx(parseInt(m,10)))&&d.ma(k)}ng(d){d.Df=this.qu;var m=this.g;(m=m.Gb&&!m.ja().Ex())&&a.ME();this.Rd.dispatchEvent(d);m&&a.aC()}nn(d){d.Df=this.qu;
return this.Rd.nJ(d)}}}"use strict";
{const e=self.B;e.r0=class extends e.aa{constructor(a){super();this.g=a;this.Hh=[];this.CH=new Map;this.DH=new Map;this.Lu=null;this.eI=[];this.yz=null;this.Yz=0;this.Ru=null}m(){this.Ru=this.yz=this.Lu=this.g=null;e.G(this.Hh);this.CH.clear();this.DH.clear();e.G(this.eI)}Pa(a){a=e.A(e.oM,this,this.Hh.length,a);this.Hh.push(a);this.CH.set(a.W.toLowerCase(),a);this.DH.set(a.kb,a)}I(){return this.g}m3(a){this.yz=a}SY(){if(this.yz)return this.yz;if(this.Hh.length)return this.Hh[0];throw Error("no first layout");
}Np(a){return this.CH.get(a.toLowerCase())||null}bD(a){return this.DH.get(a)||null}kZ(a){a=e.xa(Math.floor(a),0,this.Hh.length-1);return this.Hh[a]}Jf(a){return"number"===typeof a?this.kZ(a):this.Np(a.toString())}nQ(a){this.Lu=a}$b(){return this.Lu}*hw(){this.Lu&&(yield this.Lu);this.eI.length&&(yield*this.eI)}LN(a){if(a)this.Yz++;else{if(0>=this.Yz)throw Error("already unset");this.Yz--}}eM(){return 0<this.Yz}yw(a){this.Ru=a}VV(){this.Ru=null}Wp(){return!!this.Ru}}}"use strict";
{const e=self.B;class a{constructor(){this.nc=this.De=null;this.ks=this.ls=this.ah=this.Xk=0;this.Zr=new e.Rect;this.$k=new e.Rect;this.$m=new e.Rect;this.ew=new e.Rect;this.fs=new e.Rect;this.clearRect=new e.Rect;this.RB=new e.Rect;this.HT=[null,null];this.Wm=0;this.pp=1;this.Xr=this.Yr=this.Pr=this.Or=0;this.al=this.ef=this.Bd=this.Cd=this.Df=null;this.kB=this.SJ=this.JB=!1;this.IB=null}ed(){this.IB=this.al=this.ef=this.Bd=this.Cd=this.Df=this.nc=this.De=null}c4(k){k=k.jb;if(k.Hl())return!0;if(this.Bd)return k.yv&&
(0!==this.ef.Qa()||0>this.ef.ua()||0>this.ef.ra())||0!==this.Or||0!==this.Pr||!this.ef.zl()||this.Bd.Hl();if(this.Cd)return!this.Cd.zl()}b4(k){k=k.jb;return k.yv||k.rG||this.Df&&"low"===this.nc.fa.Xh}Mp(k){if(0!==k&&1!==k)throw Error("invalid effect target");const p=this.HT;if(!p[k]){var r=this.nc;const l=r.fa;r={cl:r.wd};"low"===l.Xh&&(r.width=l.Hi(),r.height=l.Gi());p[k]=l.Gs(r)}return p[k]}g2(){const k=this.HT,p=this.nc.fa;k[0]&&(p.Kl(k[0]),k[0]=null);k[1]&&(p.Kl(k[1]),k[1]=null)}}const c=[];let f=
0;const b=new e.Le;let d=!1;async function m(k,p,r){p=await e.ka.UE.uW(p,r);p=URL.createObjectURL(p);console.log("[FX] "+k+" "+(r?"":" [to display]")+": ",p)}e.iE=function(k,p,r,l,h,q){f===c.length&&c.push(new a);var t=c[f++];t.De=k;t.nc=p;if(r instanceof e.Instance)t.Bd=r,t.ef=t.Bd.C();else if(r instanceof e.PD)t.Cd=r;else if(r instanceof e.oM)t.Df=r;else throw Error("invalid effects object");r=p.fa;t.al=l;t.Xk=r.Hi();t.ah=r.Gi();t.ls=t.Xk;t.ks=t.ah;t.Wm=0;t.pp=1;t.Or=0;t.Pr=0;t.fs.set(0,0,t.Xk,
t.ah);t.clearRect.set(0,0,t.Xk,t.ah);t.kB=!1;t.IB=q;t.Bd?(l=t.ef,t.Yr=l.za().Ij(),t.Xr=l.za().Qa(),t.Zr.Ka(l.Gf())):t.Cd?(l=t.Cd,t.Yr=l.Ij(),t.Xr=l.Qa(),t.Zr.Ka(l.nd)):(l=t.Df,t.Yr=l.ge,t.Xr=l.Qa(),t.Zr.set(0,0,t.Xk,t.ah));if(t.Bd){{for(let P=0,Q=h.length;P<Q;++P)l=h[P].jb,t.Or+=l.ZQ,t.Pr+=l.$Q;var v=t.ef;l=v.za();q=l.Qa();r=v.Gf();v=v.wl();let [x,E]=l.Yp(r.T,r.O,v),[I,M]=l.Yp(r.Z,r.U,v);if(0!==q){const [P,Q]=l.Yp(r.Z,r.O,v),[U,ba]=l.Yp(r.T,r.U,v);l=Math.min(x,I,P,U);I=Math.max(x,I,P,U);x=l;l=Math.min(E,
M,Q,ba);M=Math.max(E,M,Q,ba);E=l}l=t.fs;q=t.ew;r=t.$m;v=t.clearRect;var z=t.$k;l.set(x,E,I,M);l.eK(t.ah);q.Ka(l);q.Wk(t.ls,t.ks);q.up();l.uB(t.Or,t.Pr);r.Ka(l);r.Wk(t.ls,t.ks);r.up();v.Ka(l);v.Uda();v.uB(t.Or+1,t.Pr+1);l.xa(0,0,t.Xk,t.ah);v.xa(0,0,t.Xk,t.ah);z.Ka(l);z.Wk(t.ls,t.ks);z.up()}}else t.$k.set(0,0,t.Xk/t.ls,t.ah/t.ks),t.$m.Ka(t.$k),t.ew.Ka(t.$k),t.$k.up(),t.$m.up(),t.ew.up();k.rE();k.iq();k.by(0);k.Ol(0);t.JB=t.c4(h[0]);t.JB&&(l=t.De,l.zh(),q=t.Mp(t.Wm),l.pe(q),(r=t.IB)&&r.TJ&&r.TJ(),l.oC(t.clearRect),
t.Bd?(l.Ml(t.ef.eD()),l.Ol(t.ef.wl()),t.Bd.gf(l),l.Ol(0)):(r=(t.Cd||t.Df).Os(),t.Cd?l.Ml(t.Cd.eD()):l.iq(),l.zs(r),l.Bn(r),t.nc.fa.Kl(r)),t.$m.qT(),t.Wm=1,t.pp=0,d&&m("Pre-draw",l,q));k.iq();l=h.length-1;t.SJ=t.b4(h[l]);for(let x=0,E=h.length;x<E;++x){r=h[x];q=r.jb;k.Rl(q);q.Wy&&p.ba();if(0!==x||t.JB){k.DN();var A=void 0,F=void 0;q=t;A=r;F=x===l&&!t.SJ;r=x;v=q.De;z=q.nc;0===r&&q.JB&&q.Bd&&q.fs.eK(q.ah);F?(q.Bd?v.Qf(q.ef.pg()):q.Cd&&v.Qf(q.Cd.pg()),F=q.al,v.pe(F)):(F=q.Mp(q.Wm),v.pe(F),v.oC(q.clearRect));
A=q.Bd?q.ef.ae.If(A.Da()):(q.Cd||q.Df).Na.If(A.Da());v.lq(q.al,q.$m,q.$k,q.ew,q.Zr,1/q.ls,1/q.ks,q.Yr,q.Xr,z.qg(),A);A=q.Mp(q.pp);v.Sf(A.Lf());z.fa.tE(v);q.kB=!0;b.bn(q.fs);v.Jn(b,q.$k);q.Bd||v.Bn(A);d&&m("Bounce "+r,v,F)}else{q=t;F=r;r=q.De;v=q.nc;z=q.Mp(q.Wm);r.pe(z);(A=q.IB)&&A.TJ&&A.TJ();r.oC(q.clearRect);if(q.Bd){const [I,M]=q.Bd.bx();(A=q.Bd.cx())?q.RB.Ka(A):q.RB.set(0,0,0,0);F=q.ef.ae.If(F.Da());r.lq(q.al,q.$m,q.RB,q.RB,q.Zr,1/I,1/M,q.Yr,q.Xr,v.qg(),F);r.Ol(q.ef.wl());q.Bd.gf(r);r.Ol(0);q.$m.qT();
q.fs.eK(q.ah)}else F=(q.Cd||q.Df).Na.If(F.Da()),r.lq(q.al,q.$m,q.$k,q.ew,q.Zr,1/q.Xk,1/q.ah,q.Yr,q.Xr,v.qg(),F),q=(q.Cd||q.Df).Os(),d&&m("Layer target",r,q),r.zs(q),r.Bn(q),v.fa.Kl(q);d&&m("First bounce",r,z)}0===t.Wm?(t.Wm=1,t.pp=0):(t.Wm=0,t.pp=1)}t.SJ&&(k=t.De,t.Df?(k.zh(),k.pe(t.al),p=t.Mp(t.pp),k.uC(p),k.Bn(p)):(p=t.nc.fa,"low"===p.Xh?(k.zh(),p.tE(k,p.Hi(),p.Gi()),t.kB=!0):k.g3(),t.Bd?k.Qf(t.ef.pg()):t.Cd&&k.Qf(t.Cd.pg()),k.pe(t.al),p=t.Mp(t.pp),k.Sf(p.Lf()),b.bn(t.fs),k.Jn(b,t.$k),t.Bd||k.Bn(p),
d&&m("Post-draw",k,t.al)));k=t.kB;t.g2();t.ed();f--;d=!1;return k}}"use strict";
{const e=self.B;e.r4=class extends e.aa{constructor(a){super();this.g=a;this.rv=e.A(e.Wf);this.Eba=null;this.Bm=[];this.sv=new Map;this.Dk=new Map;this.Cm=new Map;this.bg=[];this.xf=[];this.Au=this.Bq=this.uo=!1;this.Pk=()=>this.P8();this.Cr=()=>this.Q8();this.cG=()=>this.Fy();this.BH=()=>this.A8();this.aH=c=>this.JP(c.instance);this.SF=()=>this.tF();this.gu=[]}m(){this.l2();this.SF=this.aH=this.BH=this.cG=this.Cr=this.Pk=null;for(const a of this.Bm)a.xg(),a.m();e.G(this.Bm);this.Bm=null;this.rv.m();
this.rv=null;e.G(this.bg);this.bg=null;e.G(this.xf);this.xf=null;this.sv.clear();this.sv=null;this.Dk.clear();this.Dk=null;this.Cm.clear();this.Cm=null;e.G(this.gu);this.g=this.gu=null}jV(){const a=this.g.oc();a.addEventListener("pretick",this.Pk);a.addEventListener("tick2",this.Cr);a.addEventListener("beforelayoutchange",this.cG);a.addEventListener("layoutchange",this.BH);a.addEventListener("instancedestroy",this.aH);a.addEventListener("afterload",this.SF)}l2(){const a=this.g.oc();a.removeEventListener("pretick",
this.Pk);a.removeEventListener("tick2",this.Cr);a.removeEventListener("beforelayoutchange",this.cG);a.removeEventListener("layoutchange",this.BH);a.removeEventListener("instancedestroy",this.aH);a.removeEventListener("afterload",this.SF)}Pa(a){this.rv.Kb(a);a=e.Kd.lW(a,this);this.Kb(a);this.M3(a);this.Cm.set(a.W,0)}vC(a){a=a.he.W;var c=this.rv.X(a);c=e.Kd.vC(`${a}:${this.Cm.get(a)}`,c,this);this.pP(a);this.Kb(c);return c}pP(a){this.Cm.set(a,this.Cm.get(a)+1)}l$(){for(const a of this.Bm)a.Yq||this.pP(a.he.W)}v5(){for(const a of this.Cm.keys())this.Cm.set(a,
0)}Kb(a){this.Bm.push(a);this.sv.set(a.W.toLowerCase(),a)}ne(a){a.Yq||(e.fp(this.Bm,a),e.fp(this.bg,a),e.fp(this.xf,a),this.sv.delete(a.W.toLowerCase()),this.m2(a),a.Tg||a.m())}na(a){this.g.na(a,this.Eba,null)}I(){return this.g}UN(a,c){this.Dk.has(a)||this.Dk.set(a,new Set);this.Dk.get(a).add(c)}M3(a){for(const c of a.CL())this.UN(c,a)}m2(a){for(const [c,f]of this.Dk.entries())f.has(a)&&(f.delete(a),0===f.size&&this.Dk.delete(c))}AZ(a){if(this.Dk.has(a))return this.Dk.get(a)}tx(a){return this.sv.get(a.toLowerCase())||
null}k2(a){e.fp(this.xf,a);this.Kt()}vN(a){this.xf.includes(a)?(a.nt(!0),a.ot(!1),a.yE(!1)):(a.nt(!1),a.ot(!0),a.yE(!1),this.bg.includes(a)||this.bg.push(a));this.BP()}Kw(a){a.nt(!1);a.ot(!1);a.mE();e.fp(this.bg,a);this.Kt()}Gw(a){a.nt(!1);a.ot(!1);a.yE(!0)}dW(a){this.Gw(a);a.mE()}P8(){if(!this.I().dj&&this.uo&&!this.Bq){var a=!1;for(this.Au=!0;this.bg.length;){var c=this.bg.pop();c.Wc();this.xf.push(c)}c=this.g.gx();var f=this.g.ve;for(const b of this.xf){if(b.gr)continue;const d=b.Oe(c,f);!a&&d&&
(a=!0)}this.Au=!1;a&&this.I().ba()}}Q8(){if(!this.I().dj&&this.uo&&!this.Bq){var a;for(const c of this.xf)c.gr&&(a||(a=new Set),this.CP(c),a.add(c));a&&e.Zg(this.xf,a);this.Kt()}}CP(a){a.Tg||a.QL()&&a.sf&&a.hm&&a.iL()}BP(){this.uo||(this.uo=!0)}Kt(){this.xf.length||this.bg.length||this.Au||(this.uo=!1)}Fy(){for(this.Bq=!0;this.bg.length;)this.Kw(this.bg.pop());const a=new Set;for(const c of this.xf)c.Fy()&&a.add(c);e.Zg(this.xf,a);this.Kt();for(const c of this.Bm)c.Di()}A8(){this.Bq=!1}JP(a){var c=
a.K();if(c=this.AZ(c))if(this.g.dj)this.gu.push(a);else for(const f of c)f.Yq||(f.Tg?this.ne(f):f.QL()||(this.CP(f),this.ne(f)))}tF(){for(const a of this.gu)this.JP(a);e.G(this.gu)}ea(){return{timelinesJson:this.a$(),scheduledTimelinesJson:this.Y9(),playingTimelinesJson:this.W9(),hasRuntimeListeners:this.uo,changingLayout:this.Bq,isTickingTimelines:this.Au}}ma(a){a&&(this.v5(),this.h8(a.timelinesJson),this.e8(a.scheduledTimelinesJson),this.c8(a.playingTimelinesJson),this.uo=!a.hasRuntimeListeners,
this.Bq=!!a.changingLayout,this.Au=!!a.isTickingTimelines,this.l$(),this.BP(),this.Kt())}a$(){return this.Bm.map(a=>a.ea())}h8(a){for(const c of a){a=this.tx(c.name);if(!a){a=this.r7(c);if(!a)continue;a=this.tx(a);a=this.vC(a)}a.ma(c);a.ZZ()||this.ne(a)}}r7(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Y9(){return this.hQ(this.bg)}e8(a){this.xP(a,this.bg)}W9(){return this.hQ(this.xf)}c8(a){this.xP(a,this.xf)}N7(a,c){for(const f of c)if(f===a.W)return!0;return!1}hQ(a){return a.map(c=>c.W)}xP(a,
c){var f=new Set;for(const b of c)this.N7(b,a)||f.add(b);e.Zg(c,f);f=b=>d=>d.W===b;for(const b of a)(a=this.tx(b))&&(c.find(f(b))||c.push(a))}}}"use strict";
{const e=self.B;e.Kd=class extends e.aa{constructor(a,c,f){super();this.g=f.I();this.zb=f;this.he=c;this.W=a;this.Jb=[];for(const b of this.he.vx().qea())this.Jb.push(e.fO.Pa(this,b));this.yA=this.Su=null;this.tm=e.A(e.OD);this.tm.Set(0);this.Hk=1;this.ii=0;this.Oh=1;this.hm=this.wk=this.bA=!1;this.sf=!0;this.gr=this.Tg=!1;this.Cq=-1;this.fm=this.so=this.Yq=this.Mz=!1;this.UR=NaN;this.eg=[""];this.SS="";this.xI=!1}static lW(a,c){const f=c.rv.X(a[0]);a=e.A(e.Kd,a[0],f,c);a.v3();return a}static vC(a,
c,f){return e.A(e.Kd,a,c,f)}static get I4(){return 1}static get Rj(){return e.MJ(1)}m(){if(!this.Tg){this.zb.Kw(this);this.zb.dW(this);for(const a of this.Jb)a.m();e.G(this.Jb);this.Jb=null;this.tm.m();this.he=this.zb=this.g=this.tm=null;this.Tg=!0;this.yA=this.Su=null}}I(){return this.g}lD(a,c,f){const b=[];for(const d of this.Jb){if(a!==d.Ga())continue;const m=d.Hj(f);m&&c.constructor===m.Sc().constructor&&b.push(m)}return b}ZZ(){return!!this.Jb.length}iy(a){this.W=a}rd(){return this.he.rd()}Qs(){return this.he.Qs()}oh(){return this.he.oh()}th(){return this.he.th()}Ri(a){for(const c of this.Jb)c.Ri(a)}Op(){return this.he.Op()}Qp(){return this.he.Qp()}un(){return this.he.un()}jy(a){this.Hk=
a}tg(){return this.IsPlaying()?0<this.Hk:!0}DL(){this.Su||(this.Su=new Promise(a=>{this.yA=a}))}mE(){this.Su&&(this.yA(),this.yA=this.Su=null)}TN(a){this.eg=e.Kd.q7(a);this.xI=!0}JM(){e.D.rc.J.On(this);this.zb.na(e.D.rc.J.Iia);this.zb.na(e.D.rc.J.Jia);this.zb.na(e.D.rc.J.Kia);this.zb.na(e.D.rc.J.Bia);e.D.rc.J.On(null)}AM(){this.Cq=this.g.zm}iL(){this.so||(this.so=!0,e.D.rc.J.On(this),this.zb.na(e.D.rc.J.Fia),this.zb.na(e.D.rc.J.Gia),this.zb.na(e.D.rc.J.Hia),this.zb.na(e.D.rc.J.Aia),e.D.rc.J.On(null))}nt(a){this.bA=
a}aM(){return this.Cq===this.g.zm}IsPlaying(a=!1){return this.aM()||this.wk&&!a?!0:this.bA}vq(){return this.IsPlaying(!0)}ot(a){this.wk=a}CN(a){this.sf=a;a=this.Ba();if(0>=a||a>=this.rd())this.sf=!0}yE(a){this.gr=a}xE(a){this.Mz=a}v3(){this.Yq=!0}Ba(){return this.tm.X()}nq(a){const c=this.Ba();this.Yd(a);this.CN(!1);this.sf||this.xE(!0);if(this.vq()||this.wk||!this.hm)this.vq()||this.wk||this.hm?this.vq()?this.xg():this.wk&&(this.zb.Kw(this),this.JN()):this.JN();this.Cy(a,!1,!0,!0,c)&&this.I().ba();
this.MP()}Yd(a){0>a?this.tm.Set(0):a>=this.rd()?this.tm.Set(this.rd()):this.tm.Set(a)}MP(){e.D.rc&&this.constructor===e.Kd&&(e.D.rc.J.On(this),this.zb.na(e.D.rc.J.Cia),this.zb.na(e.D.rc.J.Dia),this.zb.na(e.D.rc.J.Eia),e.D.rc.J.On(null))}Play(a=!1){return this.Tg||this.wk?!1:this.vq()&&this.aM()?this.e$():this.vq()||!this.sf&&!a&&!this.Mz?!1:this.f$()}e$(){this.xE(!1);this.zb.k2(this);this.zb.vN(this);this.DL();return!0}f$(){this.xE(!1);this.zb.vN(this);this.DL();return!0}xg(a=!1){this.Tg||(this.CN(a),
this.zb.Gw(this),this.sf&&this.mE())}hd(a=!0,c=!1){if(!this.Tg)if(!this.vq()&&this.wk)this.zb.Kw(this);else if(!this.sf){this.xg(!0);this.tg()?this.Yd(0):this.Yd(this.rd());var f=this.Ba();c=c?this.G7(f):this.Cy(f,!1,!1,!0);a&&this.MP();c&&a&&this.I().ba()}}mN(){this.hd(!1,!0)}G7(a){this.Cy(a,!1,!1,!0,NaN,!1,!0)}Fy(){if(this.Tg)return!0;if(this.$Z())return!1;this.zb.Gw(this);this.mN();return!0}JN(){this.Wc(!0)}Wc(a){if(!this.gr)if(a){this.fm=this.hm=!0;for(const c of this.Jb)c.Wc()}else if(this.nt(!0),
this.ot(!1),this.JM(),this.sf){this.Cq=-1;this.ii=0;this.Oh=1;this.so=this.sf=!1;this.fm=this.hm=!0;this.tg()?this.Yd(0):this.Yd(this.rd());for(const c of this.Jb)c.Wc()}else{this.fm=!0;for(const c of this.Jb)c.nf()}}Oe(a,c){if(0!==a||0!==this.UR){this.UR=a;var f=this.Ba();this.Yd(f+a*c*this.Hk);var b;this.Op()||this.Qp()?this.Op()&&!this.Qp()?b=this.m8():!this.Op()&&this.Qp()?b=this.a9():this.Op()&&this.Qp()&&(b=this.n8()):b=this.M$();if(b){for(const d of this.Jb)d.k3();this.xg(!0);this.AM();return!0}return this.Cy(this.Ba(),
!0,!1,!1,f,!0)}}Cy(a,c=!1,f=!1,b=!1,d=NaN,m=!1,k=!1){let p=!1;for(var r of this.Jb)r.ss();for(const l of this.Jb){r=a;if("number"===typeof d){const h=this.Ba()-l.kf(),q=d-l.kf();0>h&&0<q&&(r=l.kf(),this.Yd(r))}r=l.ob(r,c,f,b,this.fm,k);!p&&r&&(p=!0)}for(const l of this.Jb)l.rs();this.fm&&m&&(this.fm=!1);return p}M$(){if(this.tg()){if(this.Ba()>=this.rd())if(this.Oh<this.un())this.Oh++,this.Yd(0);else return this.Yd(this.rd()),!0}else if(0>=this.Ba())if(this.Oh<this.un())this.Oh++,this.Yd(this.rd());
else return this.Yd(0),!0;return!1}m8(){this.tg()?this.Ba()>=this.rd()&&this.Yd(0):0>=this.Ba()&&this.Yd(this.rd());return!1}a9(){if(this.tg()){if(this.Ba()>=this.rd())if(this.Yd(this.rd()),this.jy(-1*this.Hk),1===this.ii)if(this.Oh<this.un())this.Oh++,this.ii=0;else return!0;else 0===this.ii&&(this.ii=1)}else if(0>=this.Ba())if(this.Yd(0),this.jy(-1*this.Hk),1===this.ii)if(this.Oh<this.un())this.Oh++,this.ii=0;else return!0;else 0===this.ii&&(this.ii=1);return!1}n8(){this.tg()?this.Ba()>=this.rd()&&
(this.Yd(this.rd()),this.jy(-1*this.Hk)):0>=this.Ba()&&(this.Yd(0),this.jy(-1*this.Hk));return!1}Di(){for(const a of this.Jb)a.Di()}XV(){for(const a of this.Jb)a.UV()}O3(a,c){if(c)for(const f of this.Jb){if(a){if(f.sn()!==a)continue}else if(f.RZ())continue;f.t3(c);this.zb.UN(c.K(),this);break}}LL(a){for(const c of this.Jb)if(a===c.Ga())return c;return null}QL(){return this.Jb.some(a=>a.iC())}$Z(){return this.Jb.some(a=>a.iC()?(a=a.K())?a.Of():!1:!1)}Hj(a){for(const c of this.Jb)for(const f of c.lc)if(f.Fa.jd===
a)return f}CL(){const a=[];for(const c of this.Jb)a.push(c.K());return a.filter(c=>c)}ea(){return{tracksJson:this.c$(),name:this.W,playheadTime:this.Ba(),playbackRate:this.Hk,pingPongState:this.ii,currentRepeatCount:this.Oh,isPlaying:this.bA,isScheduled:this.wk,initialStateSet:this.hm,finishedTriggers:this.so,complete:this.sf,released:this.Tg,markedForRemoval:this.gr,completedTick:this.Cq,implicitPause:this.Mz,isTemplate:this.Yq,tags:this.eg.join(" "),stringTags:this.SS,tagsChanged:this.xI,firstTick:this.fm}}ma(a){a&&
(this.i8(a.tracksJson),this.W=a.name,this.tm.Set(a.playheadTime),this.Hk=a.playbackRate,this.ii=a.pingPongState,this.Oh=a.currentRepeatCount,this.bA=!!a.isPlaying,this.wk=!!a.isScheduled,this.hm=!!a.initialStateSet,this.so=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.sf=!!a.complete,this.Tg=!!a.released,this.gr=!!a.markedForRemoval,this.Cq=a.completedTick,this.Mz=!!a.implicitPause,this.Yq=!!a.isTemplate,this.eg=a.tags.split(" "),this.SS=a.stringTags,this.xI=!!a.tagsChanged,this.fm=
!!a.firstTick)}c$(){return this.Jb.map(a=>a.ea())}i8(a){a.forEach((c,f)=>{this.Jb[f].ma(c)});this.Jb.filter(c=>c.iC())}static q7(a){if(e.Cn(a))return a.slice(0);if(e.Pj(a))return a.split(" ")}}}"use strict";
{const e=self.B;e.fO=class extends e.aa{constructor(a,c){super();this.Am=a;this.Yb=c;this.we=c.vx();this.Ck=this.uk=NaN;this.mb=this.ag=null;this.Do=0<c.kf();this.oo=this.Rq=!1;this.Go=null;this.yc=this.Yb.qh().yc;this.lc=[];for(const f of this.Yb.me().Ida())this.lc.push(e.ab.Pa(this,f))}static Pa(a,c){return e.A(e.fO,a,c)}m(){this.yc=null;for(const a of this.lc)a.m();e.G(this.lc);this.Go=this.Yb=this.mb=this.ag=this.Am=this.lc=null}Di(){for(const a of this.lc)a.Di();this.mb=this.ag=null}ac(){return this.Am}I(){return this.Am.I()}iZ(){return this.yc?
this.yc:this.yc=this.Yb.qh().yc}Hj(a){for(const c of this.lc)if(c.Fa.jd===a)return c}bq(){this.ag||this.Ga()}Nj(){return this.ag?!this.ag.bM():!1}iC(){const a=this.I().Ii(this.Ks());return a?!a.bM():!1}K(){const a=this.dD();if(-1!==a)return this.I().He(a)}UV(){this.ag=null;this.uk=-1;this.mb=null;this.Ck=-1}RZ(){return!!this.ag}Ga(){return this.ag&&this.Nj()?this.ag:this.ag=this.I().Ii(this.Ks())}t3(a){if(this.ag!==a){this.Di();this.ag=a;this.Ck=a.K().Da();this.uk=a.ie;this.mb=a.C();for(const m of this.Jda()){const k=
m.hea;switch(m.Hda.qd()){case "instance-variable":var c=a.K(),f=c.bZ(m.name),b=c.xL(f);c=c.Ls(f);b===m.name&&c===m.type&&k.C4(f);break;case "behavior":var d=m.$I;f=this.K();b=a.K();c=k.og(b);d&&c&&(d=d.W,f.Hs(d),b.Hs(d),k.A4(c.kb))}}}}*Jda(){for(const f of this.lc){var a=f.Sc(),c=this.K();const b={Hda:f,hea:a};switch(f.qd()){case "world-instance":b.fpa=f.Fa.jd;break;case "instance-variable":a=a.Lp();b.name=c.xL(a);b.type=c.Ls(a);break;case "effect":c=a.TC(c.Na);b.vna=c;break;case "behavior":c=a.og(c);
b.$I=c;break;case "plugin":b.$oa=c.Lb()}yield b}}C(){if(this.mb&&this.Nj())return this.mb;const a=this.Ga();a&&(this.mb=a.C());return this.mb}Ks(){return this.uk?this.uk:this.Yb.Ks()}oh(){return this.Yb.oh()}th(){return this.Yb.th()}sn(){return this.Yb.sn()}kf(){return this.Yb.kf()}Gj(){return this.Yb.Gj()}Ri(a){for(const c of this.iZ())c.Ri(a);for(const c of this.lc)c.Ri(a)}Fj(){return this.Yb.Fj()}Wj(a){this.Yb.Wj(a)}dD(){return isNaN(this.Ck)?this.Yb.dD():this.Ck}sl(){this.Ga();return this.Yb.sl()}rl(){this.Ga();
return this.Yb.rl()}Wc(){this.bq();if(this.Nj()){for(var a of this.lc)a.Wc();a=this.ac().tg()?0:this.Gj();this.Go=this.$C(a);this.oo=this.Rq=!1;this.ob(a)}}nf(){this.bq();if(this.Nj()){this.Am.tg();var a=this.Am.Ba()-this.kf();this.Go=this.$C(a);for(const c of this.lc)c.nf()}}k3(){if(!this.ac().sf&&(this.bq(),this.Nj()&&!this.Do)){const a=this.Am.Ba();a>=this.kf()+this.Gj()?this.ob(this.Gj(),!0,!1,!0):0>=a&&this.ob(0,!0,!1,!0)}}ss(){for(const a of this.lc)a.ss()}ob(a,c=!1,f=!1,b=!1,d=!1,m=!1){this.bq();
if(!this.Nj()||m&&this.K().Of())return!1;a-=this.kf();if(0>a)return!1;this.R0(a,c);this.uM(a,c,d);d=m=!1;for(const k of this.lc){const p=k.ob(a,f,!1,b);m||0===(p&e.Kd.I4)||(m=!0);d||0===(p&e.Kd.Rj)||(d=!0)}this.Q0(a,c);m&&(a=this.C())&&a.Bb();return d}rs(){for(const a of this.lc)a.rs()}R0(a,c){if(c&&this.Do&&!this.Rq){if(this.ac().tg()){if(0>a)return;for(const f of this.lc)f.ob(0,!1,!1,!0)}else{if(a>this.Gj())return;for(const f of this.lc)f.ob(this.Gj(),!1,!1,!0)}for(const f of this.lc)f.Wc();this.Rq=
!0}}Q0(a,c){if(c&&this.Do&&!this.oo)if(this.ac().tg()){if(a>=this.Gj()){for(const f of this.lc)f.ob(this.Gj(),!1,!1,!0);this.oo=!0}}else if(0>=a){for(const f of this.lc)f.ob(0,!1,!1,!0);this.oo=!0}}uM(a,c,f){!f&&c&&(a=this.$C(a),a!==this.Go&&this.EM(a),this.Go=a)}$C(a){const c=this.ac();let f=this.we.fZ(a,this.Yb);return f?f:c.tg()?this.we.RY(a,this.Yb):this.we.QY(a,this.Yb)}EM(a){if(e.D.rc&&this.ac().constructor===e.Kd){var c=this.ac();e.D.rc.J.On(c);e.D.rc.J.W3(a);a=c.zb;a.na(e.D.rc.J.zia);a.na(e.D.rc.J.EM);
e.D.rc.J.On(null);e.D.rc.J.W3(null)}}eV(){return this.Yb.qh().ZU()}EW(a){this.Yb.qh().DW(a)}zC(a){for(const c of this.lc)c.zC(a)}Mn(){for(const a of this.lc)a.Mn()}jh(){this.bq();if(this.Nj())for(const a of this.lc)a.jh()}kh(){this.bq();if(this.Nj()){var a=!1;for(const c of this.lc){const f=c.kh();!a&&f&&(a=!0)}a&&(a=this.eV(),a.nq(this.ac().Ba()),a.Ri("noease"),a.Wj(!0),a.TN(""))}}ea(){var a=this.Ga();a=a?a.ie:this.Ks();return{propertyTracksJson:this.X9(),lastKeyframeDataItemJson:this.U9(),initialStateOfNestedSet:this.Rq,
endStateOfNestedSet:this.oo,instanceUid:a}}ma(a){a&&(this.d8(a.propertyTracksJson),this.b8(a.lastKeyframeDataItemJson),this.Y7(a.instanceUid),this.Rq=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Rq=a.initialStateOfNestedSet),this.oo=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.oo=a.endStateOfNestedSet))}U9(){return this.Yb.qh().hZ(this.Go)}X9(){return this.lc.map(a=>a.ea())}d8(a){a.forEach((c,f)=>{this.lc[f].ma(c)})}Y7(a){if(e.Al(a)&&(a=this.I().Ii(a))){var c=this.ac();c.XV();c.O3(this.Yb.sn(),
a)}}b8(a){this.Go=this.Yb.qh().gZ(a)}}}"use strict";
{const e=self.B;e.ab=class extends e.aa{constructor(a,c){super();this.Qc=a;this.Fa=c;this.ad=c.me();this.li=this.Sc();this.zc=this.Fa.rh().zc}static Pa(a,c){return e.A(e.ab,a,c)}m(){this.Qc=null;this.li&&(this.li.m(),this.li=null);this.ad=this.Fa=this.zc=null}me(){return this.ad}ac(){return this.Qc.ac()}I(){return this.Qc.I()}Ga(){return this.Qc.Ga()}Sc(){if(this.li)return this.li;let a;switch(this.Fa.qd()){case "behavior":a=new e.ab.AV(this);break;case "effect":a=new e.ab.KX(this);break;case "instance-variable":a=
new e.ab.Q_(this);break;case "plugin":a=new e.ab.R1(this);break;case "world-instance":a=new e.ab.R4(this);break;case "value":a=new e.ab.G4(this)}return this.li=a}qd(){return this.Fa.qd()}gD(){return this.me().ix(this.Fa).wa}Fj(){return this.Fa.Fj()}Wj(a){this.Fa.Wj(a)}oh(){return this.Fa.oh()}th(){return this.Fa.th()}Ri(a){for(const c of this.FL())c.Ri(a)}FL(){return this.zc?this.zc:this.zc=this.Fa.rh().zc}Di(){this.Sc().Di()}ke(){return this.Sc().ke()}Wc(){this.Sc().Wc()}nf(){this.Sc().nf()}ss(){this.Sc().ss()}ob(a,
c=!1,f=!1,b=!1){var d=this.Fa;let m=this.ad.fD(a,d);m?d=this.ad.uL(a,d):(m=this.ad.XC(a,d),d=this.ad.WC(a,d));return this.Sc().ob(a,m,d,c,f,b)}rs(){this.Sc().rs()}static KL(a,c){const f=c.Fa;c=c.ad;let b=c.fD(a,f);b||(b=c.XC(a,f));return b}static FY(a,c){const f=c.Fa;c=c.ad;return c.fD(a,f)?c.uL(a,f):c.WC(a,f)}gV(){return this.Fa.rh().$U()}zC(a){this.Fa.rh().FW(a)}Mn(){this.Sc().Mn()}jh(){if(this.Sc().jh()){const a=this.ad.ix(this.Fa),c=this.Sc().ke();a.yN(c)}}kh(){const a=this.Sc().kh();a&&this.hV();
this.Sc().Fw();return a}hV(){const a=this.ac().Ba(),c=this.Sc(),f=e.ab.KL(a,this),b=this.gV();b.VN(f.wa);b.nq(a);b.Ri(f.ql());b.Wj(!0);b.Tf(c.yx());b.yN(c.ke())}ea(){return{sourceAdapterJson:this.Sc().ea()}}ma(a){a&&this.Sc().ma(a.sourceAdapterJson)}}}"use strict";
{const e=self.B.ab;e.wh=class{constructor(a){this.ga=a;this.Ik=null}m(){this.Ik&&(this.Ik.m(),this.Ik=null);this.ga=null}Hj(){return this.ga}Di(){this.Ik&&this.Ik.Di()}Kf(){return this.Ik?this.Ik:this.Ik=this.I5()}Lp(){}Da(){return this.Lp()}Ss(){}Wc(){this.Kf().Wc()}nf(){this.Kf().nf()}ss(){this.Kf().Bp()}ob(a,c,f,b,d,m){const k=e.wh.yL(this.ga)(a,c,f,this.ga);return d?k:this.Kf().hn(a,k,c,f,b,m)}rs(){this.Kf().zp()}Mn(){var a=this.Kf();a.Ug=a.ke()}Fw(){this.Kf().Fw()}ke(){return this.Kf().ke()}jh(){return this.Kf().jh()}kh(){return this.Kf().kh()}yx(){return e.wh.yx(this.ga)}I5(){const a=
this.ga.Fa.wa;switch(this.ga.gD()){case "combo":case "boolean":case "text":case "string":return new e.lf.yM(this);case "numeric":case "number":case "angle":return"combo"===a?new e.lf.yM(this):new e.lf.f1(this);case "color":case "offsetColor":return new e.lf.$V(this)}}ea(){return{propertyAdapterJson:this.Kf().ea()}}ma(a){a&&this.Kf().ma(a.propertyAdapterJson)}static yx(a){const c=a.Qc.ac().Ba(),f=e.KL(c,a),b=e.FY(c,a);return e.wh.yL(a)(c,f,b,a)}static Gd(){let a=(void 0).th();"combo"===(void 0).Fa.wa&&
(a="absolute");switch(a){case "relative":return NaN}}static yL(a){switch(a.gD()){case "numeric":return e.UD.ob;case "angle":return e.qK.ob;case "boolean":return e.wK.ob;case "color":return e.FK.ob;case "text":return e.dO.ob}}static GZ(a){switch(a.gD()){case "numeric":return e.UD.bk;case "angle":return e.qK.bk;case "boolean":return e.wK.bk;case "color":return e.FK.bk;case "text":return e.dO.bk}}}}"use strict";{const e=self.B;class a extends e.ab.wh{constructor(c){super(c)}}e.ab.R4=a}"use strict";
{const e=self.B;class a extends e.ab.wh{constructor(c){super(c);this.xv=NaN}Lp(){return this.ga.Fa.dg[0]}Da(){return this.xv?this.xv:super.Da()}Ss(){return this.ga.Qc.Ga()}C4(c){this.ga.Fa.dg[0]!==c&&(this.xv=c)}ob(c,f,b,d,m,k){if(this.Kf().zK(f.Gd()))return super.ob(c,f,b,d,m,k)}ea(){return Object.assign(super.ea(),{index:this.xv})}ma(c){c&&(super.ma(c),this.xv=c.index)}}e.ab.Q_=a}"use strict";
{const e=self.B;class a extends e.ab.wh{constructor(c){super(c);this.kb=NaN}Lp(){return this.ga.Fa.dg[1]}Ss(){var c=this.ga.Fa,f=this.kb?this.kb:c.dg[0];c=this.ga.Qc.Ga();f=c.lL(f);return c.Xc[f].Aa}og(c){return c.Ww(this.ga.Fa.dg[2])}A4(c){this.ga.Fa.dg[0]!==c&&(this.kb=c)}ob(c,f,b,d,m,k){const p=this.ga.Qc.Ga();if(this.og(p.K()))return super.ob(c,f,b,d,m,k)}ea(){return Object.assign(super.ea(),{sid:this.kb})}ma(c){c&&(super.ma(c),this.kb=c.sid)}}e.ab.AV=a}"use strict";
{const e=self.B;class a extends e.ab.wh{constructor(c){super(c)}Lp(){return this.ga.Fa.dg[1]}Ss(){const c=this.ga.Qc.C().ae,f=this.TC(c.Na).Da();return c.Us(f)?c.If(f):null}TC(c){return c.Ej(this.ga.Fa.dg[0])}ob(c,f,b,d,m,k){if(this.J7())return super.ob(c,f,b,d,m,k)}J7(){const c=this.ga.Qc.C().ae,f=this.TC(c.Na);if(f)return c.Us(f.Da())}}e.ab.KX=a}"use strict";
{const e=self.B;class a extends e.ab.wh{constructor(c){super(c)}Lp(){return this.ga.Fa.dg[0]}Ss(){return this.ga.Qc.Ga().Aa}ob(c,f,b,d,m,k){var p=this.ga.Qc;const r=p.K().Lb();p=p.Ga().K().Lb();if(r===p)return super.ob(c,f,b,d,m,k)}}e.ab.R1=a}"use strict";
{const e=self.B;class a extends e.ab.wh{constructor(c){super(c);this.bd=0;this.Nz=!1}Wc(){const c=this.ga.me();let f=this.ga.Fa;f=c.ix(f);this.bd=f.cc()}nf(){}Gd(){this.Nz||this.ga.ob(0);return this.bd}ob(c,f,b){const d=e.ab.UD.ob;this.bd=d(c,f,b,this.ga);this.Nz=!0}Mn(){}Fw(){}ke(){return this.bd}jh(){return!1}kh(){return!1}ea(){return{value:this.bd,init:this.Nz}}ma(c){c&&(this.bd=c.value,this.Nz=c.hasOwnProperty("init")?c.init:!0)}}e.ab.G4=a}"use strict";
function Xb(e,a,c){return e.ga.ac().tg()?a():c()}function Yb(e,a,c){return"relative"===e.ga.th()?a():c()}function Zb(e,a,c){e.Oq?(e.Oq=!1,a()):c()}function $b(e){if(e.zr)return e.zr;e.zr=e.li.Ss();return e.zr}function ac(e,a,c,f,b,d){switch(e.ga.qd()){case "behavior":return a();case "effect":return c();case "instance-variable":return f();case "plugin":return b();case "world-instance":return d()}}
function bc(e,a=!1){const c=[];for(const f of e){e=f.Qc.kf();for(const b of f.FL())a&&0===b.Ba()?c.push({time:e+b.Ba(),value:b.Bg}):a||c.push({time:e+b.Ba(),value:b.Bg})}return c.sort((f,b)=>f.time-b.time)}function cc(e,a){for(let c=a.length-1;0<=c;c--)if(a[c].time<=e)return a[c];return null}
self.B.ab.lf=class{constructor(e){this.li=e;this.ga=e.Hj();this.mb=this.ga.Qc.C();this.jd=this.ga.Fa.jd;this.Oq=!1;this.zr=this.Ug=null}m(){this.zr=this.Ug=this.mb=this.ga=this.li=null}Di(){this.zr=this.Ug=this.mb=null}Hj(){return this.ga}C(){return this.mb?this.mb:this.mb=this.ga.Qc.C()}Wc(){}nf(){}Fw(){this.Ug=null}ke(){}jh(){}kh(){}zK(e){return typeof this.fk()===typeof e}Bp(){}hn(){}zp(){}Vn(){return Xb(this,()=>{const e=this.ga.Fa;return this.ga.me().ix(e)},()=>{const e=this.ga.Fa;return this.ga.me().tn(e)}).Bg}uy(){const e=
this.ga.ac().Ba()-this.ga.Qc.kf();return Xb(this,()=>{const a=this.ga.Fa;return this.ga.me().XC(e,a)},()=>{const a=this.ga.Fa,c=this.ga.me(),f=c.WC(e,a);return f?f:c.tn(a)}).Bg}yy(){}Ag(){return this.li.Da()}ea(){return{firstAbsoluteUpdate:this.Oq,saveState:this.Ug}}ma(e){e&&(this.Oq=e.firstAbsoluteUpdate,this.Ug=e.saveState)}};"use strict";
{const e=self.B,a=new Map,c=[0,0,0];class f extends e.ab.lf{constructor(b){super(b)}Wc(){}nf(){}ke(){const b=this.ga.qd(),d=$b(this),m=this.Ag();switch(b){case "behavior":return this.Qy(d.pc(m));case "effect":return this.Qy(d[m]);case "plugin":return this.Qy(d.pc(m));case "world-instance":return this.Qy(this.fk())}}jh(){const b=this.Vn();return!this.FO(b,this.fk())}kh(){return e.Vd(this.Ug)?!1:!this.FO(this.Ug,this.fk())}FO(b,d){return b.Tm(d)}Vn(){const b=super.Vn();return this.zy(b)}uy(){const b=
super.uy();return this.zy(b)}yy(){}Qy(b){return e.Bl(b,e.hb)?b.toArray().slice(0,3):b.slice(0,3)}zy(b){return e.Bl(b,e.hb)?b:new e.hb(b[0],b[1],b[2],1)}zK(){return!0}Bp(){var b=this.ga.Ga();a.has(b)||a.set(b,new Map);b=a.get(b);const d=this.ga.qd();b.has(d)||b.set(d,new Map);b=b.get(d);b.has(this.jd)||b.set(this.jd,{kw:!1,color:new e.hb(0,0,0,1)})}lP(b,d,m){b=a.get(b).get(d).get(m);b.kw=!0;return b.color}hn(b,d){var m=this.ga.ac(),k=this.ga.Qc;b=this.ga.Ga();var p=this.ga.Sc();const r=this.ga.qd();
p=m.lD(b,p,this.jd);if(1<p.length){if(p=bc(p,!0),m=m.Ba(),m=cc(m,p))if(p=m.time-k.kf(),0===p)this.lP(b,r,this.jd).dT(d[0],d[1],d[2]);else{if(0>p)return;m=d[0];k=d[1];d=d[2];p=this.ga.ob(p,!1,!0);m=e.hb.AC(m,p[0]);k=e.hb.AC(k,p[1]);d=e.hb.AC(d,p[2]);this.lP(b,r,this.jd).dT(m,k,d)}}else this.Xi(d[0],d[1],d[2]);return e.Kd.Rj}zp(){const b=this.ga.Ga();if(a.has(b)){var d=a.get(b),m=this.ga.qd();if(d.has(m)){var k=d.get(m);if(k.has(this.jd)){var p=k.get(this.jd),r=p.color;p.kw&&this.Xi(r.Ya,r.$a,r.Za);
0===k.size&&d.delete(m);0===d.size&&a.delete(b)}}}}fk(){const b=this.ga.qd(),d=$b(this),m=this.Ag();switch(b){case "behavior":return this.zy(d.pc(m));case "effect":return d[m].clone();case "plugin":return this.zy(d.pc(m));case "world-instance":return this.C().bb.clone()}}Xi(b,d,m){const k=this.ga.qd(),p=$b(this),r=this.Ag();switch(k){case "behavior":c[0]=b;c[1]=d;c[2]=m;p.vg(r,c);break;case "effect":p[r].iw(b,d,m);break;case "plugin":c[0]=b;c[1]=d;c[2]=m;p.vg(r,c);break;case "world-instance":this.C().X3(b,
d,m)}}ea(){}ma(){}}e.ab.lf.$V=f}"use strict";
{const e=self.B;class a extends e.ab.lf{constructor(c){super(c)}Wc(){}nf(){}ke(){return this.fk()}jh(){return this.Vn()!==this.ke()}kh(){return e.Vd(this.Ug)?!1:this.Ug!==this.ke()}hn(c,f){const b=e.ab.wh.GZ(this.ga);var d=this.ga;const m=d.Qc,k=d.qd();var p=d.ac();const r=m.Ga();d=d.Sc();p=p.lD(r,d,this.jd);1<p.length&&(p=bc(p),c=cc(c+m.kf(),p))&&(f=c.value);if(b(this.Ag(),$b(this),f,k))switch(this.Xi(f),k){case "plugin":return e.Kd.Rj}}fk(){const c=this.ga.qd(),f=$b(this),b=this.Ag();switch(c){case "behavior":return f.pc(b);
case "effect":return f[b];case "instance-variable":return f.le(b);case "plugin":return f.pc(b)}}Xi(c){const f=this.ga.qd(),b=$b(this),d=this.Ag();switch(f){case "behavior":b.vg(d,c);break;case "effect":b[d]=c;break;case "instance-variable":b.Pl(d,c);break;case "plugin":b.vg(d,c)}}}e.ab.lf.yM=a}"use strict";
{const e=self.B,a=new Map,c=(b,d,m,k,p)=>a.set(b,{fea:d,Wba:m,Pca:k,round:p});c("offsetX",(b,d)=>b.o1(d),(b,d)=>b.Ah(d),b=>b.Ta(),!0);c("offsetY",(b,d)=>b.p1(d),(b,d)=>b.Bh(d),b=>b.Ua(),!0);c("offsetWidth",(b,d)=>b.YD(d),(b,d)=>b.$j(d),b=>b.ua(),!0);c("offsetHeight",(b,d)=>b.WD(d),(b,d)=>b.Xj(d),b=>b.ra(),!0);c("offsetAngle",(b,d)=>b.k1(d),(b,d)=>b.oe(d),b=>b.Qa(),!1);c("offsetOpacity",(b,d,m,k)=>{m=b.Ie()+d;0===k.wc?(1<m?k.wc+=m-1:0>m&&(k.wc+=m),b.l1(d)):(b=b.Ie()+d,0<d&&0<k.wc?1<b&&(k.wc+=b-1):
0<d&&0>k.wc?(k.wc+=d,0<k.wc&&(k.wc=0)):0>d&&0<k.wc?(k.wc+=d,0>k.wc&&(k.wc=0)):0>d&&0>k.wc&&0>b&&(k.wc+=b))},(b,d)=>{b.Yj(d)},b=>b.Ie(),!1);c("offsetOriginX",(b,d)=>b.m1(d),(b,d)=>b.AE(d),b=>b.Ms(),!1);c("offsetOriginY",(b,d)=>b.n1(d),(b,d)=>b.BE(d),b=>b.Ns(),!1);c("offsetZElevation",(b,d)=>b.q1(d),(b,d)=>b.pf(d),b=>b.ib(),!0);c("offsetScaleX",(b,d,m)=>{const k=0>b.ua()?-1:1;if(b.yl()){m=b.ya();const p=b.wb;b.YD(m.ua()*p.NA*k*d)}else b.YD(m.sl()*k*d)},(b,d,m)=>{b.$j(m.sl()*d)},(b,d)=>{const m=0>b.ua()?
-1:1;if(b.yl()){var k=b.ya();const p=d.ac().LL(k.Ga());k=k.ua()/p.sl();return b.ua()*m/(d.sl()*k)}return b.ua()*m/d.sl()},!1);c("offsetScaleY",(b,d,m)=>{const k=0>b.ra()?-1:1;if(b.xl()){m=b.ya();const p=b.wb;b.WD(m.ra()*p.OA*k*d)}else b.WD(m.rl()*k*d)},(b,d,m)=>{b.Xj(m.rl()*d)},(b,d)=>{const m=0>b.ra()?-1:1;if(b.xl()){var k=b.ya();const p=d.ac().LL(k.Ga());k=k.ra()/p.rl();return b.ra()*m/(d.rl()*k)}return b.ra()*m/d.rl()},!1);class f extends e.ab.lf{constructor(b){super(b);this.wc=this.Nb=0;this.bH=
this.dH=this.cH=null;this.BS=!1;this.$o=e.Bl(this.ga.ac(),e.Tween)?new e.ab.lf.h1(this):new e.ab.lf.g1(this);b=this.ga.Fa.jd;"world-instance"===this.ga.qd()&&(b=a.get(b),this.cH=b.Pca,this.dH=b.fea,this.bH=b.Wba,this.BS=b.round)}m(){this.bH=this.dH=this.cH=this.$o=null;super.m()}NN(b){this.Nb=b}Wc(){const b=this.$o.Wc();"number"===typeof b&&(this.Nb=b);this.wc=0}nf(){const b=this.$o.nf();"number"===typeof b&&(this.Nb=b)}ke(){return this.fk()}jh(){return this.Vn()!==this.ke()}kh(){return e.Vd(this.Ug)?
!1:this.Ug!==this.ke()}Bp(){this.$o.Bp()}hn(b,d,m,k,p,r){return this.$o.hn(b,d,m,k,p,r)}zp(){this.$o.zp()}fk(){const b=$b(this),d=this.Ag(),m=this.ga.Qc,k=this.C();return ac(this,()=>b.pc(d),()=>b[d],()=>b.le(d),()=>b.pc(d),()=>this.cH(k,m))}Xi(b){const d=$b(this),m=this.Ag(),k=this.ga.Qc,p=this.C();ac(this,()=>d.XD(m,b),()=>d[m]+=b,()=>d.u3(m,b),()=>d.XD(m,b),()=>this.dH(p,b,k,this))}vQ(b){const d=$b(this),m=this.Ag(),k=this.ga.Qc,p=this.C();ac(this,()=>d.vg(m,b),()=>d[m]=b,()=>d.Pl(m,b),()=>d.vg(m,
b),()=>this.bH(p,b,k))}wq(b,d,m,k,p,r){this.$o.wq(b,d,m,k,p,r)}ek(b,d,m){b=(b.toString().split(".")[1]||"").length;const k=this.fk();this.Xi((0===b?this.BS?Math.round(k):k:e.toFixed(k,b))-k,d,m)}ea(){return Object.assign(super.ea(),{v:this.Nb,a:this.wc})}ma(b){b&&(super.ma(b),this.Nb=b.v,this.wc=b.a)}}e.ab.lf.f1=f}"use strict";
{const e=self.B,a=new Map;class c{constructor(f){this.ee=f}m(){this.ee=null}Wc(){const f=this.ee,b=this.ee.Hj();return Yb(f,()=>Xb(f,()=>0,()=>e.ab.wh.yx(b)),()=>{})}nf(){}Bp(){const f=this.ee,b=this.ee.Hj(),d=b.Fa.jd;Yb(f,()=>{},()=>{var m=b.Ga();a.has(m)||a.set(m,new Map);m=a.get(m);const k=b.qd();m.has(k)||m.set(k,new Map);m=m.get(k);m.has(d)||m.set(d,{kw:!1,value:0})})}kP(f,b,d){f=a.get(f).get(b).get(d);f.kw=!0;return f}hn(f,b,d,m,k,p){const r=this.ee,l=this.ee.Hj(),h=l.Fa.jd;Yb(r,()=>{const q=
r.Nb;r.Xi(b-q,d,m);p&&this.wq(f,d,m,k,q,b);r.NN(b)},()=>{var q=l.ac(),t=l.Qc;const v=l.Ga();var z=l.Sc();const A=l.qd();z=q.lD(v,z,h);if(1<z.length){if(z=bc(z,!0),q=q.Ba(),q=cc(q,z))t=q.time-t.kf(),0===t?this.kP(v,A,h).value+=b:0>t||(t=l.ob(t,!1,!0),this.kP(v,A,h).value+=b-t)}else r.vQ(b)});return ac(r,()=>{},()=>e.Kd.Rj,()=>{},()=>e.Kd.Rj,()=>e.Kd.Rj)}zp(){const f=this.ee,b=this.ee.Hj(),d=b.Fa.jd;Yb(f,()=>{},()=>{const m=b.Ga();if(a.has(m)){var k=a.get(m),p=b.qd();if(k.has(p)){var r=k.get(p);if(r.has(d)){var l=
r.get(d),h=l.value;l.kw&&f.vQ(h);r.delete(d);0===r.size&&k.delete(p);0===k.size&&a.delete(m)}}}})}wq(f,b,d,m,k,p){const r=this.ee;m||(b&&f===b.Ba()?r.ek(b.cc(),b,d):d&&f===d.Ba()?r.ek(d.cc(),b,d):0===p-k&&r.ek(b.cc(),b,d))}}e.ab.lf.g1=c}"use strict";
{const e=self.B;class a{constructor(c){this.ee=c}m(){this.ee=null}Wc(){const c=this.ee;c.Oq=!0;return this.yy(c.Vn())}nf(){const c=this.ee;if(c.Vn()!==c.uy())return c.Oq=!0,this.yy(c.uy())}Bp(){}hn(c,f,b,d,m,k){const p=this.ee,r=p.Nb;Yb(p,()=>{p.Xi(f-r,b,d);k&&this.wq(c,b,d,m,r,f)},()=>{Zb(p,()=>{p.Xi(r,b,d)},()=>{p.Xi(f-r,b,d);k&&this.wq(c,b,d,m,r,f)})});p.NN(f);return ac(p,()=>{},()=>e.Kd.Rj,()=>{},()=>e.Kd.Rj,()=>e.Kd.Rj)}zp(){}yy(c){return c-this.ee.ke()}wq(c,f,b,d,m,k){const p=this.ee;d?f&&c===
f.Ba()?p.ek(f.cc(),f,b):b&&c===b.Ba()?p.ek(b.cc(),f,b):b||p.ek(f.cc(),f,b):f&&c===f.Ba()?p.ek(f.cc(),f,b):b&&c===b.Ba()?p.ek(b.cc(),f,b):0===k-m&&p.ek(f.cc(),f,b)}}e.ab.lf.h1=a}"use strict";
{const e=self.B,a=self.As;e.ab.UD=class{constructor(){}static bk(c,f,b,d){let m;switch(d){case "behavior":m=f.pc(c);break;case "effect":m=f[c];break;case "instance-variable":m=f.le(c);break;case "plugin":m=f.pc(c)}return m===b?!1:!0}static ob(c,f,b,d){if(!b)return b=d.Fa,b=d.me().tn(b),b.cc();var m=d.oh();"default"===m&&(m="continuous");"combo"===d.Fa.wa&&(m="discrete");if("discrete"===m)return f.cc();if("continuous"===m||"step"===m){"step"===m&&(m=d.ac().Qs(),0!==m&&(m=1/m,c=Math.floor(c*m)/m));
var k=f.Ba();const p=b.Ba();m=f.cc();const r=b.cc();if(m===r)return m;c=e.normalize(c,k,p);const l=f.ql();f=f.JC("cubic-bezier");b=b.JC("cubic-bezier");f&&f.jv&&b&&b.qz?(k=p-k,k=a.vn(l)(k*c,0,1,k),k=a.vn("cubicbezier")(k,m,m+f.uI,r+b.BG,r)):k=a.vn(l)((p-k)*c,m,r-m,p-k);return"integer"===d.Fa.wa?Math.floor(k):k}}}}"use strict";
{const e=self.B;e.ab.qK=class{constructor(){}static bk(a,c,f,b){let d;switch(b){case "behavior":d=c.pc(a);break;case "effect":d=c[a];break;case "instance-variable":d=c.le(a);break;case "plugin":d=c.pc(a)}return d===f?!1:!0}static ob(a,c,f,b){if(!f)return c=b.Fa,c=b.me().tn(c),c.cc();var d=b.oh();"default"===d&&(d="continuous");"combo"===b.Fa.wa&&(d="discrete");if("discrete"===d)return c.cc();if("continuous"===d||"step"===d){"step"===d&&(b=b.ac().Qs(),0!==b&&(b=1/b,a=Math.floor(a*b)/b));const m=c.Ba(),
k=f.Ba();b=c.cc();f=f.cc();if(d=c.JC("angle")){const p=d.dI;if(b===f&&0===p)return b;a=e.normalize(a,m,k);c=self.As.vn(c.ql())(a,0,1,1);switch(d.uG){case "closest":return e.YI(b,f,c,p);case "clockwise":return e.eca(b,f,c,p);case "anti-clockwise":return e.dca(b,f,c,p)}}else{if(b===f)return b;a=e.normalize(a,m,k);c=self.As.vn(c.ql());return e.YI(b,f,c(a,0,1,1))}}}}}"use strict";
self.B.ab.wK=class{constructor(){}static bk(e,a,c,f){let b;switch(f){case "behavior":b=a.pc(e);break;case "effect":b=a[e];break;case "instance-variable":b=a.le(e);break;case "plugin":b=a.pc(e)}return!!b===!!c?!1:!0}static ob(e,a,c,f){return c?a.cc()?1:0:(e=f.Fa,e=f.me().tn(e),e.cc()?1:0)}};"use strict";
{const e=self.B,a=[0,0,0],c=[0,0,0],f=[0,0,0];e.ab.FK=class{constructor(){}static bk(b,d,m,k){let p;switch(k){case "behavior":p=d.pc(b);break;case "effect":p=d[b];break;case "instance-variable":p=d.le(b);break;case "plugin":p=d.pc(b)}Array.isArray(m)?(a[0]=m[0],a[1]=m[1],a[2]=m[2]):(f.gU(m),a[0]=Math.floor(255*f.Ya),a[1]=Math.floor(255*f.$a),a[2]=Math.floor(255*f.Za));Array.isArray(p)?(c[0]=p[0],c[1]=p[1],c[2]=p[2]):(f.gU(p),c[0]=Math.floor(255*f.Ya),c[1]=Math.floor(255*f.$a),c[2]=Math.floor(255*
f.Za));return a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]?!0:!1}static ob(b,d,m,k){if(!m)return d=k.Fa,d=k.me().tn(d),d=d.cc(),a[0]=d[0],a[1]=d[1],a[2]=d[2],a;var p=k.oh();"default"===p&&(p="continuous");if("discrete"===p)return d=d.cc(),a[0]=d[0],a[1]=d[1],a[2]=d[2],a;if("continuous"===p||"step"===p){"step"===p&&(k=k.ac().Qs(),0!==k&&(k=1/k,b=Math.floor(b*k)/k));k=d.Ba();p=m.Ba();var r=d.cc(),l=m.cc();const h=e.normalize(b,k,p);b=r[0];m=r[1];r=r[2];const q=l[0],t=l[1];l=l[2];d=self.As.vn(d.ql());k=p-k;
p=k*h;a[0]=b===q?b:d(p,b,q-b,k);a[1]=m===t?m:d(p,m,t-m,k);a[2]=r===l?r:d(p,r,l-r,k);return a}}}}"use strict";self.B.ab.dO=class{constructor(){}static bk(e,a,c,f){let b;switch(f){case "behavior":b=a.pc(e);break;case "effect":b=a[e];break;case "instance-variable":b=a.le(e);break;case "plugin":b=a.pc(e)}return b===c?!1:!0}static ob(e,a,c,f){return c?a.cc():(e=f.Fa,e=f.me().tn(e),e.cc())}};"use strict";
{const e=self.B;e.Wf=class{constructor(){this.qv=new Map}m(){for(const a of this.qv.values())a.m();this.qv.clear();this.qv=null}Kb(a){a=new e.q4(a);this.qv.set(a.W,a)}X(a){return this.qv.get(a)}static Dt(a,c,f,b){if(c)for(const d of c)e.Wf.IO("create",d,a,f,b)}static Jt(a,c,f,b){a.length?c.forEach((d,m)=>{a[m].ma(d)}):c.forEach(d=>{e.Wf.IO("load",d,a,f,b)})}static IO(a,c,f,b,d){let m;if("function"===typeof b)switch(a){case "load":m=new b(null,d);break;case "create":m=new b(c,d)}else if("object"===
typeof b)switch(b=b.map.get(c[b.prop]),a){case "load":m=new b(null,d);break;case "create":m=new b(c,d)}switch(a){case "load":m.ma(c);f.push(m);break;case "create":"function"!==typeof m.Fj||m.Fj()?f.push(m):m.m()}}}}"use strict";
{const e=self.B;e.q4=class{constructor(a){this.W="";this.VA=NaN;this.RA=0;this.yf=this.vf="default";this.xA=this.pA=!1;this.rr=1;this.we=null;a&&(this.W=a[0],this.VA=a[1],this.RA=a[2],this.vf=a[3],this.yf=a[4],this.pA=!!a[6],this.xA=!!a[7],this.rr=a[8],this.we=new e.eO(a[5],this))}m(){this.we.m();this.we=null}vx(){this.we||(this.we=new e.eO(null,this));return this.we}iy(a){this.W=a}rd(){return this.VA}Qs(){return this.RA}oh(){return this.vf}th(){return this.yf}Op(){return this.pA}Qp(){return this.xA}un(){return this.rr}ea(){return{trackDataJson:this.we.ea(),
name:this.W,totalTime:this.VA,step:this.RA,interpolationMode:this.vf,resultMode:this.yf,loop:this.pA,pingPong:this.xA,repeatCount:this.rr}}ma(a){a&&(this.vx().ma(a.trackDataJson),this.W=a.name,this.VA=a.totalTime,this.RA=a.step,this.vf=a.interpolationMode,this.yf=a.resultMode,this.pA=a.loop,this.xA=a.pingPong,this.rr=a.repeatCount)}}}"use strict";
{const e=self.B;class a{constructor(c,f){this.we=f;this.ao=this.Qz=null;this.Ck=this.uk=NaN;this.yf=this.vf="default";this.Zf=!1;this.ad=this.ci=null;this.Fb="";this.hr=null;this.vI=0;this.nA=this.we.he.rd();c&&(this.Qz=c[0],this.uk=c[0][2],this.Ck=c[0][1],this.vf=c[1],this.yf=c[2],this.Zf=!!c[3],c[6]&&(this.Fb=c[6]),c[7]&&(this.hr=c[7],this.vI=c[7][0],this.nA=c[7][1]),c[8]&&(this.ao=c[8]),this.ci=new e.nM(c[4],this),this.ad=new e.RM(c[5],this))}m(){this.we=this.Qz=null;this.ci&&(this.ci.m(),this.ci=
null);this.ad&&(this.ad.m(),this.ad=null);this.hr=null}vx(){return this.we}qh(){this.ci||(this.ci=new e.nM(null,this));return this.ci}me(){this.ad||(this.ad=new e.RM(null,this));return this.ad}dD(){return this.Ck}Ks(){return this.uk}oh(){return this.vf}th(){return this.yf}Fj(){return this.Zf}Wj(c){this.Zf=!!c}sn(){return this.Fb}kf(){return this.vI}Gj(){return this.nA}sl(){return this.ao[0]}rl(){this.ao||(this.ao=[]);return this.ao[1]}ea(){return{keyframeDataJson:this.ci.ea(),propertyTrackDataJson:this.ad.ea(),
instanceData:this.Qz,additionalInstanceData:this.ao,instanceUid:this.uk,objectClassIndex:this.Ck,interpolationMode:this.vf,resultMode:this.yf,enabled:this.Zf,id:this.Fb,nestedData:this.hr}}ma(c){c&&(this.Qz=c.instanceData,this.uk=c.instanceUid,this.Ck=c.objectClassIndex,this.vf=c.interpolationMode,this.yf=c.resultMode,this.Zf=c.enabled,this.Fb=c.id,this.nA=this.we.he.rd(),c.nestedData&&(this.hr=c.nestedData,this.vI=this.hr[0],this.nA=this.hr[1]),c.additionalInstanceData&&(this.ao=c.additionalInstanceData),
this.qh().ma(c.keyframeDataJson),this.me().ma(c.propertyTrackDataJson))}}e.eO=class{constructor(c,f){this.he=f;this.Yo=[];this.Eu=new Map;e.Wf.Dt(this.Yo,c,a,this)}m(){this.he=null;for(const c of this.Yo)c.m();e.G(this.Yo);this.Yo=null;this.Eu.clear();this.Eu=null}fZ(c,f){const b=this.Eu.get(f);if(b&&b.has(c))return b.get(c);for(const d of f.qh().VT())if(d.Ba()===c)return b||this.Eu.set(f,new Map),this.Eu.get(f).set(c,d),d}QY(c,f){for(const b of f.qh().VT())if(b.Ba()>=c)return b}RY(c,f){for(const b of f.qh().jda())if(b.Ba()<=
c)return b}*qea(){for(const c of this.Yo)yield c}ea(){return{trackDataItemsJson:this.Yo.map(c=>c.ea())}}ma(c){c&&e.Wf.Jt(this.Yo,c.trackDataItemsJson,a,this)}}}"use strict";
{const e=self.B;class a{constructor(c,f){this.ad=f;this.KA="";this.wa=this.jd=this.dg=null;this.IH=this.MH=NaN;this.yf=this.vf="default";this.Zf=!1;this.ij=null;c&&(this.KA=c[0][0],this.dg=c[0].slice(1),this.jd=c[1],this.wa=c[2],this.MH=c[3],this.IH=c[4],this.vf=c[5],this.yf=c[6],this.Zf=!!c[7],this.ij=new e.QM(c[8],this))}m(){this.ij.m();this.dg=this.ad=this.ij=null}me(){return this.ad}rh(){this.ij||(this.ij=new e.QM(null,this));return this.ij}qd(){return this.KA}VN(c){this.wa=c}oh(){return this.vf}th(){return this.yf}Fj(){return this.Zf}Wj(c){this.Zf=
!!c}ea(){return{propertyKeyframeDataJson:this.ij.ea(),sourceAdapterId:this.KA,sourceAdapterArguments:this.dg,property:this.jd,type:this.wa,min:this.MH,max:this.IH,interpolationMode:this.vf,resultMode:this.yf,enabled:this.Zf}}ma(c){c&&(this.KA=c.sourceAdapterId,this.dg=c.sourceAdapterArguments,this.jd=c.property,this.wa=c.type,this.MH=c.min,this.IH=c.max,this.vf=c.interpolationMode,this.yf=c.resultMode,this.Zf=c.enabled,this.rh().ma(c.propertyKeyframeDataJson))}}e.RM=class{constructor(c,f){this.Yb=
f;this.Oo=[];this.Uu=new Map;e.Wf.Dt(this.Oo,c,a,this)}m(){this.Yb=null;for(const c of this.Oo)c.m();e.G(this.Oo);this.Oo=null;this.Uu.clear();this.Uu=null}ix(c){return c.rh().zc[0]}tn(c){c=c.rh().zc;return c[c.length-1]}fD(c,f){const b=this.Uu.get(f);if(b&&b.has(c))return b.get(c);const d=f.rh();for(const m of d.WJ())if(m.Ba()===c)return b||this.Uu.set(f,new Map),this.Uu.get(f).set(c,m),m}uL(c,f){f=f.rh();for(const b of f.WJ())if(b.Ba()>c)return b}WC(c,f){f=f.rh();for(const b of f.WJ())if(b.Ba()>=
c)return b}XC(c,f){f=f.rh();for(const b of f.Gda())if(b.Ba()<=c)return b}*Ida(){for(const c of this.Oo)yield c}ea(){return{propertyTrackDataItemsJson:this.Oo.map(c=>c.ea())}}ma(c){c&&e.Wf.Jt(this.Oo,c.propertyTrackDataItemsJson,a,this)}}}"use strict";
{const e=self.B;class a{constructor(c,f){this.ci=f;this.Qd=-1;this.Qh="noease";this.Rh=!1;this.Ku=this.eg=null;c&&(this.Qd=c[0],this.Qh=c[1],this.Rh=!!c[2],this.eg=(c=c[3])?c.split(" "):[],this.Ku=new Set(this.eg.map(b=>b.toLowerCase())))}m(){this.ci=null;e.G(this.eg);this.eg=null;this.Ku.clear();this.Ku=null}qh(){return this.ci}Ba(){return this.Qd}nq(c){this.Qd=c}ql(){return this.Qh}Ri(c){this.Qh=c}Fj(){return this.Rh}Wj(c){this.Rh=!!c}TN(c){this.eg=c?c.split(" "):[];this.Ku=new Set(this.eg.map(f=>
f.toLowerCase()))}ea(){return{time:this.Qd,ease:this.Qh,enable:this.Rh,tags:this.eg}}ma(c){c&&(this.Qd=c.time,this.Qh=c.ease,this.Rh=c.enable,this.eg=c.tags,this.Ku=new Set(this.eg.map(f=>f.toLowerCase())))}}e.nM=class{constructor(c,f){this.Yb=f;this.yc=[];e.Wf.Dt(this.yc,c,a,this)}m(){this.Yb=null;for(const c of this.yc)c.m();e.G(this.yc);this.yc=null}ZU(){const c=new a(null,this);this.yc.push(c);return c}DW(c){for(const f of this.yc){if(!c(f))continue;const b=this.yc.indexOf(f);-1!==b&&(f.m(),this.yc.splice(b,
1))}this.e4()}e4(){this.yc.sort((c,f)=>c.Ba()-f.Ba())}hZ(c){return this.yc.indexOf(c)}gZ(c){return this.yc[c]}*VT(){for(const c of this.yc)yield c}*jda(){for(let c=this.yc.length-1;0<=c;c--)yield this.yc[c]}ea(){return{keyframeDataItemsJson:this.yc.map(c=>c.ea())}}ma(c){c&&e.Wf.Jt(this.yc,c.keyframeDataItemsJson,a,this)}}}"use strict";
{const e=self.B;class a{constructor(c,f){this.ij=f;this.Bg=this.bd=null;this.wa="";this.Qd=NaN;this.Qh="noease";this.Rh=!1;this.Gh=null;c&&(this.bd=c[0][0],this.Bg=c[0][1],this.wa=c[0][2],this.Qd=c[1],this.Qh=c[2],this.Rh=!!c[3],this.Gh=null,c[4]&&(this.Gh=new e.kV(c[4],this)))}m(){this.ij=null;this.Gh&&(this.Gh.m(),this.Gh=null)}Gd(){return this.bd}Tf(c){"color"===this.wa&&e.Al(c)?(this.bd[0]=e.hD(c),this.bd[1]=e.YC(c),this.bd[2]=e.LC(c)):this.bd=c}yN(c){"color"===this.wa&&e.Al(c)?(this.Bg[0]=e.hD(c),
this.Bg[1]=e.YC(c),this.Bg[2]=e.LC(c)):this.Bg=c}cc(){const c=this.ij.Fa.th();if("relative"===c)return this.Gd();if("absolute"===c)return this.Bg}VN(c){this.wa=c}Ba(){return this.Qd}nq(c){this.Qd=c}ql(){return this.Qh}Ri(c){this.Qh=c}Fj(){return this.Rh}Wj(c){this.Rh=!!c}JC(c){if(this.Gh)for(const f of this.Gh.Zba())if(f.sn()===c)return f}ea(){const c=this.Gh;return{addonDataJson:c?c.ea():c,value:this.bd,aValue:this.Bg,type:this.wa,time:this.Qd,ease:this.Qh,enable:this.Rh}}ma(c){c&&(c.addonDataJson&&
this.Gh.Vma(c.addonDataJson),this.bd=c.value,this.Bg=c.aValue,this.wa=c.type,this.Qd=c.time,this.Qh=c.ease,this.Rh=c.enable)}}e.QM=class{constructor(c,f){this.Fa=f;this.zc=[];e.Wf.Dt(this.zc,c,a,this)}m(){this.Fa=null;for(const c of this.zc)c.m();e.G(this.zc);this.zc=null}$U(){const c=new a(null,this);this.zc.push(c);return c}FW(c){for(const f of this.zc){if(!c(f))continue;const b=this.zc.indexOf(f);-1!==b&&(f.m(),this.zc.splice(b,1))}this.f4()}f4(){this.zc.sort((c,f)=>c.Ba()-f.Ba())}*WJ(){for(const c of this.zc)yield c}*Gda(){for(let c=
this.zc.length-1;0<=c;c--)yield this.zc[c]}ea(){return{propertyKeyframeDataItemsJson:this.zc.map(c=>c.ea())}}ma(c){c&&e.Wf.Jt(this.zc,c.propertyKeyframeDataItemsJson,a,this)}}}"use strict";
{const e=self.B;class a{constructor(b,d){this.Gh=d;this.Fb=b[0];this._data=b[1]}m(){this._data=this.Gh=null}sn(){return this.Fb}ea(){return{id:this.Fb,data:this._data}}ma(b){b&&(this.Fb=b.id,this._data=b.data)}}class c extends a{constructor(b,d){super(b,d);this.uI=this._data[0];this.jv=!!this._data[1];this.BG=this._data[2];this.qz=!!this._data[3]}m(){super.m()}ea(){return Object.assign(super.ea(),{startAnchor:this.uI,startEnable:!!this.jv,endAnchor:this.BG,endEnable:!!this.qz})}ma(b){b&&(super.ma(b),
this.uI=b.startAnchor,this.jv=!!b.startEnable,this.BG=b.endAnchor,this.qz=!!b.endEnable)}}class f extends a{constructor(b,d){super(b,d);this.uG=this._data[0];this.dI=this._data[1]}m(){super.m()}ea(){return Object.assign(super.ea(),{direction:this.uG,revolutions:this.dI})}ma(b){b&&(super.ma(b),this.uG=b.direction,this.dI=b.revolutions)}}e.kV=class{constructor(b){this.bo=[];e.Wf.Dt(this.bo,b,{prop:0,map:new Map([["cubic-bezier",c],["angle",f]])},this)}m(){for(const b of this.bo)b.m();e.G(this.bo);this.bo=
null}*Zba(){for(const b of this.bo)yield b}ea(){return{addonDataItemsJson:this.bo.map(b=>b.ea())}}ma(b){b&&e.Wf.Jt(this.bo,b.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",c],["angle",f]])},this)}}}"use strict";
{const e=self.B;let a=0;e.Tween=class extends e.Kd{constructor(c,f){super(`tween-${a++}`,c,f);this.Fb="";this.VQ=!1;this.YG="start-value";this.mS=this.lS=null}Ga(){var c=this.Jb;if(c&&c.length&&(c=c[0])){var f=c.Ga();return c.Nj()?f:null}}sn(){return this.Fb}JM(){if(this.mS)for(const c of this.mS)c(this);if(!this.sf)for(const c of this.Jb)c.kh()}AM(){this.Cq=this.g.zm}iL(){if(!this.so&&(this.so=!0,this.lS))for(const c of this.lS)c(this)}nq(c){this.MO();super.nq(c)}Wc(c){if(!this.hm&&"current-state"===
this.YG)for(const f of this.Jb)f.jh();super.Wc(c)}xg(c=!1){super.xg(c);if(!this.sf)for(const f of this.Jb)f.Mn()}hd(c=!0,f=!1){this.MO();super.hd(c,f)}MO(){for(const c of this.Jb){const f=b=>{b=b.Ba();const d=this.rd();return 0!==b&&b!==d};c.EW(f);c.zC(f)}}Fy(){if(this.Tg)return!0;const c=this.Ga();if(c&&c.K().Of())return!1;this.zb.Gw(this);this.mN();return!0}uM(){}Oe(){const c=this.Ga();super.Oe(this.I().gx(c),1)}ea(){const c=super.ea();return Object.assign(c,{tweenDataItemJson:this.he.ea(),id:this.Fb,
destroyInstanceOnComplete:this.VQ,initialValueMode:this.YG})}ma(c){c&&(this.he.ma(c.tweenDataItemJson),super.ma(c),this.Fb=c.id,this.VQ=c.destroyInstanceOnComplete,this.YG=c.initialValueMode)}static IsPlaying(c){return c.IsPlaying()}}}"use strict";
{const e=self.B,a=self.As;e.gO=class extends e.aa{constructor(c){super();this.W=c[0];this.Wg=[];for(const f of c[1])c=e.hO.Pa(this,f),this.Wg.push(c);this.Tu=new Map;this.WA=new Map;this.b9();a.YU(this.W,(f,b,d,m)=>this.ob(f,b,d,m))}static Pa(c){return e.A(e.gO,c)}m(){for(const c of this.Wg)c.m();e.G(this.Wg);this.Wg=null;this.Tu.clear();this.Tu=null;this.WA.clear();this.WA=null}EZ(c){const f=this.WA.get(c);if(f)return f;for(const b of this.Wg)if(b.xe===c)return this.WA.set(c,b),b}UY(c){for(const f of this.Wg)if(f.xe>
c)return f}TY(c){for(const f of this.Wg)if(f.xe>=c)return f}VY(c){for(let f=this.Wg.length-1;0<=f;f--){const b=this.Wg[f];if(b.xe<=c)return b}}ob(c,f,b,d){var m=c/d;(c=this.EZ(m))?d=this.UY(m):(c=this.VY(m),d=this.TY(m));m=e.pda(m,c.xe,d.xe,d.xe-c.xe);const k=c.xe,p=c.zv,r=c.xe+c.QS,l=c.zv+c.Mba,h=d.xe+d.XQ,q=d.zv+d.Jaa,t=d.xe;d=d.zv;d=a.vn("spline")(m,k,p,r,l,h,q,t,d,this.Tu.get(c));d+=c.zv;return(1-d)*f+d*(f+b)}b9(){this.Tu.clear();for(let f=0;f<this.Wg.length-1;f++){var c=this.Wg[f];if(!c.jv)continue;
const b=this.Wg[f+1];this.Tu.set(c,a.yY(c.xe,c.xe+c.QS,b.xe+b.XQ,b.xe))}}}}"use strict";{const e=self.B;e.hO=class extends e.aa{constructor(a,c){super();this.xe=c[0];this.zv=c[1];this.QS=c[2];this.Mba=c[3];this.XQ=c[4];this.Jaa=c[5];this.jv=c[6];this.qz=c[7]}m(){}static Pa(a,c){return e.A(e.hO,a,c)}}}"use strict";{const e=self.B;e.v4=class extends e.aa{constructor(a){super();this.g=a;this.XA=[]}m(){for(const a of this.XA)a.m();e.G(this.XA);this.XA=null}Pa(a){this.XA.push(e.gO.Pa(a))}}}"use strict";
{const e=self.B;e.d4=class extends e.aa{constructor(a){super();this.M=a;this.lb=[];this.lb.push(e.A(e.IE,this));this.Oa=0;this.Nh=this.lb[0]}m(){for(const a of this.lb)a.m();e.G(this.lb);this.M=this.Nh=null}K(){return this.M}ca(){return this.Nh}ed(){this.ca().ed()}Y1(){var a=this.lb,c=++this.Oa;c===a.length?(c=e.A(e.IE,this),a.push(c),this.Nh=c):(a=a[c],a.hd(),this.Nh=a)}Z1(){const a=this.lb,c=++this.Oa;c===a.length&&a.push(e.A(e.IE,this));const f=a[c];f.gW(a[c-1]);this.Nh=f}La(){this.Nh=this.lb[--this.Oa]}Ln(a){const c=
this.lb;for(let f=0,b=c.length;f<b;++f)c[f].Ln(a)}}}"use strict";
{const e=self.B;e.IE=class extends e.aa{constructor(a){super();this.lb=a;this.M=this.lb.K();this.vd=this.M.I().fd();this.Oc=!0;this.H=[];this.Zc=[]}m(){this.Dw();this.vd=this.M=this.lb=null}Dw(){e.G(this.H);e.G(this.Zc)}K(){return this.M}OL(){return this.Oc?!!this.M.H.length:!!this.H.length}ta(){return this.Oc?this.M.ta():this.H}MZ(){return!!this.Zc.length}LY(){const a=this.ta();return a.length?a:this.Zc}hd(){this.Oc=!0;e.G(this.Zc)}ed(){this.Oc=!0}gW(a){a.Oc?this.hd():(this.Oc=!1,e.dd(this.H,a.H),
e.G(this.Zc))}Iy(a){this.H.push(a)}Xn(a){this.Zc.push(a)}Wi(a){this.Oc=!!a}Zj(a){this.Oc=!1;e.G(this.H);this.H.push(a)}ay(a){this.Oc=!1;e.dd(this.H,a)}SN(a){this.Oc=!1;e.G(this.H);for(const c of a)this.H.push(c)}Il(a){a&&(this.vd.Hf().Ub().se?(this.Oc&&(e.G(this.H),e.dd(this.Zc,a.K().ta()),this.Oc=!1),a=this.Zc.indexOf(a),-1!==a&&(this.H.push(this.Zc[a]),this.Zc.splice(a,1))):this.Zj(a))}Ln(a){e.Zg(this.H,a);e.Zg(this.Zc,a)}}}"use strict";
{const e=self.B;e.WX=class extends e.aa{constructor(a){super();this.oa=a;this.g=this.oa.I();this.lb=[];this.lb.push(e.A(e.dL,this,null));this.Oa=0;this.uz=[]}m(){for(const a of this.lb)a.m();e.G(this.lb);e.G(this.uz);this.g=this.oa=null}ja(){return this.oa}I(){return this.g}Hf(){return this.lb[this.Oa]}Ra(a){var c=this.lb;const f=++this.Oa;if(f===c.length)return a=e.A(e.dL,this,a),c.push(a),a;c=c[f];c.hd(a);return c}La(){--this.Oa}a2(a){this.uz.push(a)}S1(){this.uz.pop()}CY(){const a=this.uz;return 0===
a.length?null:a[a.length-1]}}}"use strict";
{const e=self.B;e.dL=class extends e.aa{constructor(a,c){super();this.lb=a;this.g=this.lb.I();this.eu=c;this.rf=this.am=0;this.AG=this.Fo=!1;this.GG=null;this.NG=this.gR=0}m(){this.hd(null);this.g=this.lb=null}hd(a){this.eu=a;this.rf=this.am=0;this.AG=this.Fo=!1}xF(a,c){this.eu=a;this.am=0;this.rf=c}nN(){this.rf=this.am=0}Ub(){return this.eu}Rf(a){this.eu=a}Nl(a){this.am=a}Zx(a){this.rf=a}Ql(a){this.Fo=!!a}kq(a){this.AG=!!a}l3(a){this.GG=a}t_(a,c){this.gR=a;this.NG=c}gy(a){this.NG=a}Ni(){const a=
this.eu;return a.fA?!0:this.am<a.Tb.length-1?!!a.Fd().length:!1}}}"use strict";{const e=self.B;e.E0=class extends e.aa{constructor(a){super();this.oa=a;this.g=this.oa.I();this.lb=[];this.Oa=-1;this.Nh=null;this.Oz=[]}m(){e.G(this.lb);this.g=this.oa=null}z$(a){this.Oz=a;a=this.Oz.slice(0);this.lb.push(a);this.Oa=0;this.Nh=a}ja(){return this.oa}I(){return this.g}Kp(){return this.Nh}Ra(){const a=++this.Oa,c=this.lb;a===c.length?c.push(this.Oz.slice(0)):e.dd(c[a],this.Oz);this.Nh=c[a]}La(){this.Nh=this.lb[--this.Oa]}}}"use strict";
{const e=self.B;e.H0=class extends e.aa{constructor(a){super();this.oa=a;this.g=this.oa.I();this.lb=[];this.Oa=-1}m(){e.G(this.lb);this.g=this.oa=null}ja(){return this.oa}I(){return this.g}hM(){return 0<=this.Oa}Kp(){return this.lb[this.Oa]}Ra(){++this.Oa;if(this.Oa===this.lb.length){var a=e.A(e.G0,this);this.lb.push(a);return a}a=this.lb[this.Oa];a.hd();return a}La(){--this.Oa}dY(a){const c=this.lb;for(let f=this.Oa;0<=f;--f){const b=c[f];if(b.W===a)return b}return null}}}"use strict";
{const e=self.B;e.G0=class extends e.aa{constructor(a){super();this.Ve=a;this.W="";this.Oa=0;this.dc=!1}hd(){this.W="";this.Oa=0;this.dc=!1}iy(a){this.W=a}qc(a){this.Oa=a}Da(){return this.Oa}xg(){this.dc=!0}}}"use strict";{const e=self.B;e.sV=class extends e.aa{constructor(){super();this.lb=[];this.Oa=-1}m(){e.G(this.lb)}Kp(){return this.lb[this.Oa]}Ra(){++this.Oa;if(this.Oa===this.lb.length){const a=[];this.lb.push(a);return a}return this.lb[this.Oa]}La(){--this.Oa}}}"use strict";
{const e=self.B;function a(c,f){return c.Da()-f.Da()}e.VX=class extends e.aa{constructor(c){super();this.g=c;this.St=[];this.kI=new Map;this.WF=[];this.mR=new Map;this.iG=new Map;this.oG=new Map;this.Uy=new Map;this.LQ=new Map;this.EG=new Map;this.pba=0;this.VF=[];this.laa=[];this.aS=[];this.LG=new Map;this.vd=e.A(e.WX,this);this.$c=e.A(e.E0,this);this.Ve=e.A(e.H0,this);this.AI=[];this.EA=[];this.DA=[];this.hG=this.rk=this.Mk=0;this.zf=[];this.Yy=[];self.c3_callFunction=(f,b)=>this.Dy(f,b)}m(){this.Cw();
this.vd.m();this.vd=null;this.$c.m();this.$c=null;e.G(this.EA);e.G(this.DA);this.g=null;e.G(this.St);this.kI.clear()}Pa(c){c=e.A(e.UX,this,c);this.St.push(c);this.kI.set(c.W.toLowerCase(),c)}h5(c){this.AI.push(c)}Eb(){for(const c of this.LG.values())c.Eb(!1);for(const c of this.St)c.Eb();for(const c of this.St)c.NF();for(const c of this.AI)c.Eb(!1);e.G(this.AI);this.$c.z$(this.aS)}I(){return this.g}qL(c){return this.kI.get(c.toLowerCase())||null}n9(c){this.WF.push(c);this.mR.set(c.lR,c)}k9(c){this.iG.set(c.kb,
c)}j9(c){this.oG.set(c.kb,c)}i9(c){this.Uy.set(c.kb,c)}m9(c){this.LG.set(c.Fz.toLowerCase(),c)}l9(c){this.EG.set(c.kb,c);c.Of()?this.VF.push(c):this.laa.push(c)}vy(c){2<=c.length&&c.sort(a);let f=this.LQ.get(c.length);f||(f=[],this.LQ.set(c.length,f));for(let d=0,m=f.length;d<m;++d){const k=f[d];a:{for(let p=0,r=c.length;p<r;++p)if(c[p]!==k[p]){var b=!1;break a}b=!0}if(b)return k}f.push(c);return c}l7(c){this.aS.push(c.yo);return this.pba++}fd(){return this.vd}jf(){return this.fd().Hf()}Ub(){return this.jf().Ub()}nh(){const c=
this.jf();return c.Ub().mL(c.am)}$w(){const c=this.jf();return c.Ub().kL(c.rf)}wY(c){const f=[];for(c=c.Rp();c;)e.Ev(f,c.$O()),c=c.Rp();return f}gP(c){const f={};for(const b of this.wY(c))f[b.ph()]=b.iP();return Object.create(Object.prototype,f)}VC(c){return this.EG.get(c)||null}HY(c){return this.iG.get(c)||null}uY(c){return this.Uy.get(c)||null}kx(c){return this.LG.get(c.toLowerCase())||null}t2(){for(const c of this.VF)c.y2()}pL(c){return this.mR.get(c.toLowerCase())||null}IY(c){return(c=this.iG.get(c))&&
c.ai?c:null}u2(){for(const c of this.WF)c.v2()}XP(){for(const c of this.St)c.A9()}H2(c){this.XP();this.Mk++;for(const f of c.hw())if(c=f.Gc)this.g.et(f),c.la(),this.g.bt();this.Mk--}async xW(c){this.XP();this.Mk++;for(const f of this.c6(c))await this.g.Hp(f);this.Mk--}*c6(c){for(const f of c.hw())if(c=f.Gc)this.g.et(f),yield*c.nb(),this.g.bt()}Rt(c,f,b,d){let m=!1;if(!c.$b())return this.fE(f,b,d);this.rk++;for(const k of c.hw())if(c=k.Gc){this.g.et(k);for(const p of c.lz){const r=p.Rt(f,b,d);m=m||
r}c=c.Rt(f,b,d);m=m||c;this.g.bt()}this.rk--;return m}*Ft(c,f,b,d){let m=!1;if(!c.$b())return this.fE(f,b,d);this.rk++;for(const k of c.hw())if(c=k.Gc){this.g.et(k);for(const p of c.lz){const r=yield*p.Ft(f,b,d);m=m||r}c=yield*c.Ft(f,b,d);m=m||c;this.g.bt()}this.rk--;return m}fE(c,f,b){this.EA.push([c,f,b]);return!1}c2(c,f,b){let d=null;const m=new Promise(k=>d=k);this.DA.push([c,f,b,d]);return m}*K9(){if(this.g.Ax())throw Error("should not be in breakpoint");const c=this.g.qb;for(;this.DA.length;){const [f,
b,d,m]=this.DA.shift(),k=yield*this.Ft(c,f,b,d);m(k)}}async pN(){for(const c of this.K9())await this.g.Hp(c)}FD(){return 0<this.rk}It(){return++this.rk}Gt(){--this.rk}h0(){return 0<this.Mk}Ex(){return this.h0()||this.FD()}L9(c){for(const [f,b,d]of this.EA)this.Rt(c,f,b,d);e.G(this.EA)}ff(c){c?this.hG++:this.hG--}fM(){return 0<this.hG}Ep(c){for(let f=0,b=c.length;f<b;++f)c[f].xm.ed()}Pf(c){for(let f=0,b=c.length;f<b;++f)c[f].xm.Y1()}mf(c){for(let f=0,b=c.length;f<b;++f)c[f].xm.Z1()}Sb(c){for(let f=
0,b=c.length;f<b;++f)c[f].xm.La()}$B(){const c=e.A(e.qE,this);this.zf.push(c);return c}J2(){if(this.zf.length){var c=this.jf(),f=!1;this.Mk++;for(let b=0,d=this.zf.length;b<d;++b){const m=this.zf[b];m.wQ()&&m.C9(c);m.bv&&(f=!0)}f&&this.XO();this.Mk--}}async zW(){if(this.zf.length){var c=this.jf(),f=!1;this.Mk++;for(let b=0,d=this.zf.length;b<d;++b){const m=this.zf[b];m.wQ()&&await m.W5(c);m.bv&&(f=!0)}f&&this.XO();this.Mk--}}XO(){const c=e.gca(this.zf,f=>f.bv);for(const f of c)f.m()}Cw(){for(const c of this.zf)c.m();
e.G(this.zf)}j2(c){for(const f of this.zf)f.Ln(c)}YB(c){this.Yy.push(c)}Ew(){e.G(this.Yy)}uZ(){const c=Promise.all(this.Yy);this.Yy=[];return c}ea(){return{groups:this.S9(),cnds:this.R9(),acts:this.Q9(),vars:this.d$(),waits:this.Z9()}}ma(c){this.X7(c.groups);this.S7(c.cnds);this.R7(c.acts);this.j8(c.vars);this.f8(c.waits)}S9(){const c={};for(const f of this.WF)c[f.kb.toString()]=f.Vp();return c}X7(c){for(const [f,b]of Object.entries(c))(c=this.IY(parseInt(f,10)))&&c.Nn(b)}R9(){const c={};for(const [f,
b]of this.oG){const d=b.ea();d&&(c[f.toString()]=d)}return c}S7(c){const f=new Map;for(const [b,d]of Object.entries(c))f.set(parseInt(b,10),d);for(const [b,d]of this.oG)d.ma(f.get(b)||null)}Q9(){const c={};for(const [f,b]of this.Uy){const d=b.ea();d&&(c[f.toString()]=d)}return c}R7(c){const f=new Map;for(const [b,d]of Object.entries(c))f.set(parseInt(b,10),d);for(const [b,d]of this.Uy)d.ma(f.get(b)||null)}d$(){const c={};for(const [f,b]of this.EG)b.tb||!b.Of()&&!b.Ig||(c[f.toString()]=b.Gd());return c}j8(c){for(const [f,
b]of Object.entries(c))(c=this.VC(parseInt(f,10)))&&c.Tf(b)}Z9(){return this.zf.filter(c=>!c.g0()).map(c=>c.ea())}f8(c){this.Cw();for(const f of c)(c=e.qE.B5(this,f))&&this.zf.push(c)}FC(c){for(;c;)if(c=c.Rp(),c instanceof e.Fs)return c;return null}Dy(c,f){Array.isArray(f)||(f=[]);c=this.kx(c.toLowerCase());if(!c)return null;if(!c.Gn())return c.Js();var b=c.$f;if(f.length<b.length){f=f.slice(0);do f.push(b[f.length].yo);while(f.length<b.length)}b=c.Ge();return b.oE(b.gd(),c.Kk,c.Js(),...f)}}}"use strict";
{const e=self.B;e.UX=class extends e.aa{constructor(a,c){super();this.oa=a;this.g=a.I();this.W=c[0];this.rz=[];this.ZA=new Map;this.bR=new Map;this.Kaa=new Map;this.ou=!1;this.IS=[];this.lz=[];this.MQ=new Set;for(const f of c[1])this.JO(f,null,this.rz);this.hi=this.g.Gb?{type:"sheet",name:this.W,jw:0,children:[]}:null}m(){this.g=this.oa=null}JO(a,c,f){switch(a[0]){case 0:case 3:this.z5(a,c,f);break;case 1:this.A5(a,c,f);break;case 2:this.E5(a,c,f);break;case 4:this.C5(a,c);break;case 5:this.J5(a,
c,f);break;default:throw Error("invalid event type");}}z5(a,c,f){a=e.Aj.Pa(this,c,a);if(a.se){f.push(a);f=a.Tb;for(let b=0,d=f.length;b<d;++b)f[b].In()&&this.rP(a,b)}else a.In()?this.rP(a,0):f.push(a)}C5(a,c){a=e.Fs.Pa(this,c,a);this.oa.m9(a)}A5(a,c,f){a=e.Rw.Pa(this,c,a);f.push(a)}E5(a,c,f){a=e.cL.Pa(this,c,a);f.push(a)}J5(a,c,f){a=e.Qw.Pa(this,c,a);f.push(a)}rP(a,c){a.se||this.oa.h5(a);var f=a.mL(c),b=f.Ia,d=f.K();if(f.FR){var m=this.bR.get(d);m||(m=new Map,this.bR.set(d,m));f=f.NY().toLowerCase();
d=m.get(b);d||(d=new Map,m.set(b,d));b=d.get(f);b||(b=[],d.set(f,b));b.push([a,c])}else m=this.ZA.get(d),m||(m={JJ:new Map,Fv:new Map},this.ZA.set(d,m)),(d=f.og())?(f=m.Fv.get(d),f||(f=new Map,m.Fv.set(d,f))):f=m.JJ,m=f.get(b),m||(m=[],f.set(b,m)),m.push([a,c])}Eb(){const a=this.rz;for(let c=0,f=a.length;c<f;++c)a[c].Eb(c<f-1&&a[c+1]instanceof e.Aj&&a[c+1].Cx())}g5(a){this.IS.push(a)}NF(){e.G(this.lz);this.uO(this);this.MQ.clear()}uO(a){const c=a.lz,f=a.MQ;for(const b of this.IS){const d=b.tu;b.Cb&&
a!==d&&!f.has(d)&&(f.add(d),d.uO(a),c.push(d))}}ja(){return this.oa}I(){return this.g}SP(a,c){this.Kaa.set(c,a)}A9(){this.ou=!1}la(){if(!this.ou){var a=this.g,c=a.BD(),f=c?performance.now():0;this.ou=!0;var b=this.ja(),d=b.jf();for(const m of this.rz)m.la(d),b.Ep(m.Fd()),b.Ew(),a.Ed();d.hd(null);c&&(this.hi.jw+=performance.now()-f)}}*nb(){if(!this.ou){this.ou=!0;var a=this.g,c=this.ja(),f=c.jf();for(const b of this.rz)yield*b.nb(f),c.Ep(b.Fd()),c.Ew(),a.Ed();f.hd(null)}}Rt(a,c,f){if(c){const b=c.K();
this.LF(a,c,b,f);for(const d of b.Gg)this.LF(a,c,d,f)}else return this.LF(a,c,null,null)}LF(a,c,f,b){f=this.ZA.get(f);if(!f)return!1;b=b?f.Fv.get(b):f.JJ;if(!b)return!1;b=b.get(a);if(!b)return!1;a=!1;for(const [d,m]of b)b=this.WO(c,d,m),a=a||b;return a}*Ft(a,c,f){if(c){const b=c.K();yield*this.fF(a,c,b,f);for(const d of b.Gg)yield*this.fF(a,c,d,f)}else return yield*this.fF(a,c,null,null)}*fF(a,c,f,b){f=this.ZA.get(f);if(!f)return!1;b=b?f.Fv.get(b):f.JJ;if(!b)return!1;b=b.get(a);if(!b)return!1;a=!1;
for(const [d,m]of b)b=d.je()?this.WO(c,d,m):yield*this.Q5(c,d,m),a=a||b;return a}WO(a,c,f){const b=this.g,d=this.oa,m=d.Ub(),k=d.fd(),p=d.rk;let r=!1;m&&d.Pf(m.gd());d.Pf(c.gd());const l=1<p;l&&d.$c.Ra();const h=k.Ra(c);a&&(c.Tb[f].K().ca().Zj(a),a.Dc()&&a.yh());a=!0;if(c.ya()){const q=c.Zo;for(let t=0,v=q.length;t<v;++t)if(!q[t].oN(h)){a=!1;break}}a&&(b.Mj(),c.se?c.I2(h,f):c.la(h),r=h.Fo);k.La();l&&d.$c.La();d.Sb(c.gd());m&&d.Sb(m.gd());m||1!==p||(d.Ew(),d.fM()||b.Ed());return r}*Q5(a,c,f){const b=
this.g,d=this.oa,m=d.Ub(),k=d.fd(),p=d.rk;let r=!1;m&&d.Pf(m.gd());d.Pf(c.gd());const l=1<p;l&&d.$c.Ra();const h=k.Ra(c);a&&(c.Tb[f].K().ca().Zj(a),a.Dc()&&a.yh());a=!0;if(c.ya()){const q=c.Zo;for(let t=0,v=q.length;t<v;++t)if(!(yield*q[t].SK(h))){a=!1;break}}a&&(b.Mj(),c.se?yield*c.yW(h,f):yield*c.nb(h),r=h.Fo);k.La();l&&d.$c.La();d.Sb(c.gd());m&&d.Sb(m.gd());m||1!==p||(d.Ew(),d.fM()||b.Ed());return r}}}"use strict";
{const e=self.B,a=[];function c(){return!0}function*f(){return!0}e.Aj=class extends e.aa{constructor(b,d,m){super();this.Gc=b;this.g=b.I();this.kc=d;this.Od=null;this.vd=this.g.ja().fd();this.te=[];this.ur=[];this.mu=this.gA=this.fA=this.rR=!1;this.se=!!m[2];this.Xz=!1;this.Zo=null;this.Tb=[];this.Xf=[];this.Vg=[];this.Dh=c;this.Un=f;this.mH=this.ai=!1;this.lR="";this.$z=!1;this.hi=this.jz=null;this.kb=m[4];this.Iq=m[5];this.Gc.SP(this,this.Iq);this.Ma=this.g.Gb?{Jc:m[3][0],BJ:m[3][1],mT:!1,aJ:!1,
bJ:!1,nT:!1}:null;this.ja().k9(this);3===m[0]&&this.C7(m[1]);b=0;for(var k of m[6])d=e.HK.Pa(this,k,b++),this.Tb.push(d),this.zO(d.K());b=0;for(const p of m[7])k=e.qw.Pa(this,p,b++),this.Xf.push(k);if(9===m.length){m=m[8];for(const p of m)this.Gc.JO(p,this,this.Vg)}this.Tb.length&&(this.Xz=null===this.Tb[0].K()&&this.Tb[0].Ia===e.D.eb.J.ZK);0===this.Tb.length&&(this.Tb=a);0===this.Xf.length&&(this.Xf=a);0===this.Vg.length&&(this.Vg=a)}static Pa(b,d,m){return e.A(e.Aj,b,d,m)}C7(b){this.ai=!0;this.$z=
this.mH=!!b[0];this.lR=b[1].toLowerCase();this.jz=[];this.ja().n9(this);this.g.Gb&&(this.hi={type:"group",name:b[1],jw:0,children:[]})}Y4(b){this.jz.push(b)}tO(b,d){for(const m of b.Mh.Ek)d.includes(m)||d.push(m)}AO(b,d){if(b)if(d.includes(b)||d.push(b),b.fb)for(const m of b.Nq)m.Dc()&&this.tO(m,d);else b.Dc()&&this.tO(b,d)}zO(b){this.AO(b,this.te)}c5(b){this.AO(b,this.ur)}T2(){this.te=this.g.Ec}Eb(b){this.mu=!!b;this.w7();this.x7();for(const m of this.Tb)m.Eb();if(0<this.Xf.length){b=!1;for(var d of this.Xf)d.Eb(),
d.WZ()&&(b=!0);b?(this.Dh=this.E9,this.Un=this.Y5):(this.Dh=this.D9,this.Un=this.X5)}d=this.Vg;for(let m=0,k=d.length;m<k;++m)d[m].Eb(m<k-1&&d[m+1]instanceof e.Aj&&d[m+1].Cx());this.Ma&&this.Y$();this.hi&&this.m7().hi.children.push(this.hi)}m7(){let b=this.ya();for(;b;){if(b.ai)return b;b=b.ya()}return this.Gc}Y$(){const b=this.Ma;b.mT=this.Tb.every(d=>d.je());b.aJ=this.Xf.every(d=>d.je());b.bJ=this.Vg.every(d=>d.je());b.nT=b.mT&&b.aJ&&b.bJ}w7(){if(this.ai){var b=this.ya();for(this.gA=!0;b;){if(!b.ai){this.gA=
!1;break}b=b.ya()}}}v7(){var b=this.g.Ec;if(this.te===b)this.ur=b;else{this.ur=e.fJ(this.te);for(b=this.ya();b;){for(var d of b.te)this.c5(d);b=b.ya()}d=this.ja();this.te=d.vy(this.te);this.ur=d.vy(this.ur)}}x7(){if(this.NZ()){this.Zo=[];for(var b=this.ya();b;)this.Zo.push(b),b=b.ya();this.Zo.reverse()}}tt(){this.fA=!0;this.kc&&this.kc.tt()}Fd(){return this.te}gd(){this.rR||(this.rR=!0,this.v7());return this.ur}YZ(b){return this.te.includes(b)}ja(){return this.Gc.ja()}I(){return this.g}ya(){return this.kc}D$(b){this.Od=
b}Rp(){return this.Od||this.kc}DD(){return this.Ma&&this.Ma.BJ}En(){return this.DD()&&this.Ma.Jc}Cx(){return this.Xz}Vp(){return this.$z}v2(){this.Nn(this.mH)}Nn(b){b=!!b;if(!this.ai)throw Error("not a group");if(this.$z!==b){this.$z=b;for(const d of this.jz)d.iO();this.jz.length&&(b=this.g.cb().Gc)&&b.NF()}}In(){return this.Tb.length&&this.Tb[0].In()}c0(){return this.Od&&this.Od instanceof e.Fs}NZ(){return this.c0()||this.Tb.some(b=>b.In())}mL(b){b=Math.floor(b);if(0>b||b>=this.Tb.length)throw new RangeError("invalid condition index");
return this.Tb[b]}b0(b){let d=b.Da();if(0===d)return!0;for(--d;0<=d;--d)if(this.Tb[d].K()===b.K())return!1;return!0}kL(b){b=Math.floor(b);if(0>b||b>=this.Xf.length)throw new RangeError("invalid action index");return this.Xf[b]}u7(b){b=Math.floor(b);return 0<=b&&b<this.Xf.length}$O(){return this.Vg.filter(b=>b instanceof e.Rw)}oN(b){b.Rf(this);let d=!1;const m=this.Tb;for(let k=0,p=m.length;k<p;++k){const r=m[k];b.Nl(k);if(r.oH)throw Error("trigger cannot be used as sub-event to a loop");if(r.la())d=
!0;else if(!this.se)return!1}return this.se?d:!0}I2(b,d){b.Rf(this);this.Tb[d].la()&&(this.Dh(b,0)&&this.gk(),b.Ql(!0))}*SK(b){b.Rf(this);let d=!1;const m=this.Tb;for(let k=0,p=m.length;k<p;++k){const r=m[k];b.Nl(k);if(r.oH)throw Error("trigger cannot be used as sub-event to a loop");if(r.je()?r.la():yield*r.nb())d=!0;else if(!this.se)return!1}return this.se?d:!0}*yW(b,d){b.Rf(this);d=this.Tb[d];if(d.je()?d.la():yield*d.nb())(this.Lw()?this.Dh(b,0):yield*this.Un(b,0))&&(this.Mw()?this.gk():yield*this.Et()),
b.Ql(!0)}la(b){b.Rf(this);this.Xz||b.kq(!1);this.se?this.J9(b):this.Ky(b)}*nb(b){if(this.En()||this.g.Zb())yield this;b.Rf(this);this.Xz||b.kq(!1);this.se?yield*this.j6(b):yield*this.cF(b)}J9(b){const d=this.Tb;let m=0===d.length;for(let p=0,r=d.length;p<r;++p){var k=d[p];k.In()||(b.Nl(p),k=k.la(),m=m||k)}b.Ql(m);m&&(this.Dh(b,0)&&this.gk(),this.mu&&b.kq(!0))}*j6(b){const d=this.Tb;let m=0===d.length;for(let p=0,r=d.length;p<r;++p){var k=d[p];k.In()||(b.Nl(p),k=k.je()?k.la():yield*k.nb(),m=m||k)}b.Ql(m);
m&&((this.Lw()?this.Dh(b,0):yield*this.Un(b,0))&&(this.Mw()?this.gk():yield*this.Et()),this.mu&&b.kq(!0))}Ky(b){const d=this.Tb;for(let m=0,k=d.length;m<k;++m){const p=d[m];b.Nl(m);if(!p.la()){b.Ql(!1);return}}b.Ql(!0);this.Dh(b,0)&&this.gk();b.Fo&&this.mu&&b.kq(!0)}*cF(b){const d=this.Tb;for(let m=0,k=d.length;m<k;++m){const p=d[m];b.Nl(m);if(p.je()?!p.la():!(yield*p.nb())){b.Ql(!1);return}}b.Ql(!0);(this.Lw()?this.Dh(b,0):yield*this.Un(b,0))&&(this.Mw()?this.gk():yield*this.Et());b.Fo&&this.mu&&
b.kq(!0)}D9(b,d){const m=this.Xf;for(let k=d,p=m.length;k<p;++k)d=m[k],b.Zx(k),d.la();return!0}*X5(b,d){const m=this.Xf;for(let k=d,p=m.length;k<p;++k)d=m[k],b.Zx(k),d.je()?d.la():yield*d.nb();return!0}E9(b,d){const m=this.ja(),k=this.Xf;for(let p=d,r=k.length;p<r;++p){d=k[p];b.Zx(p);const l=d.la();if(d.yK()&&!0===l)return!1;d.Nf()&&l instanceof Promise&&m.YB(l)}return!0}*Y5(b,d){const m=this.ja(),k=this.Xf;for(let p=d,r=k.length;p<r;++p){d=k[p];b.Zx(p);let l;l=d.je()?d.la():yield*d.nb();if(d.yK()&&
!0===l)return!1;d.Nf()&&l instanceof Promise&&m.YB(l)}return!0}B9(b){this.Dh(b,b.rf)&&this.gk()}*V5(b){if(yield*this.Un(b,b.rf))yield*this.Et()}gk(){if(this.Vg.length){var b=this.ai&&this.g.BD(),d=b?performance.now():0,m=this.vd,k=m.Ra(this);this.fA?this.O9(k):this.N9(k);m.La();b&&(this.hi.jw+=performance.now()-d)}}O9(b){const d=this.ai,m=this.gA,k=this.ja(),p=this.Vg;for(let r=0,l=p.length,h=l-1;r<l;++r){const q=p[r],t=q.Fd(),v=!m||!d&&r<h;v&&k.mf(t);q.la(b);v?k.Sb(t):k.Ep(t)}}N9(b){const d=this.Vg;
for(let m=0,k=d.length;m<k;++m)d[m].la(b)}*Et(){if(this.Vg.length){var b=this.vd,d=b.Ra(this);this.fA?yield*this.m6(d):yield*this.l6(d);b.La()}}*m6(b){const d=this.ai,m=this.gA,k=this.ja(),p=this.Vg;for(let r=0,l=p.length,h=l-1;r<l;++r){const q=p[r],t=q.Fd(),v=!m||!d&&r<h;v&&k.mf(t);yield*q.nb(b);v?k.Sb(t):k.Ep(t)}}*l6(b){const d=this.Vg;for(let m=0,k=d.length;m<k;++m)yield*d[m].nb(b)}ug(b,d){this.g.Mj();d.nN();const m=this.Tb;if(!this.se)for(let k=b.am+1,p=m.length;k<p;++k)if(b=m[k],d.Nl(k),!b.la())return!1;
this.Dh(d,0)&&this.gk();return!0}*mg(b,d){this.g.Mj();d.nN();const m=this.Tb;if(!this.se)for(let k=b.am+1,p=m.length;k<p;++k)if(b=m[k],d.Nl(k),b.je()?!b.la():!(yield*b.nb()))return!1;(this.Lw()?this.Dh(d,0):yield*this.Un(d,0))&&(this.Mw()?this.gk():yield*this.Et());return!0}je(){return!this.En()&&!this.g.Zb()&&this.Ma.nT}Lw(){return!this.g.Zb()&&this.Ma.aJ}Mw(){return!this.g.Zb()&&this.Ma.bJ}XE(b){if(this.ya()){const d=this.Zo;for(let m=0,k=d.length;m<k;++m)if(!d[m].oN(b))return!1}return!0}*KO(b){if(this.ya()){const d=
this.Zo;for(let m=0,k=d.length;m<k;++m)if(!(yield*d[m].SK(b)))return!1}return!0}VO(b,d,m){0<d.length?m?(d=d.map(k=>k.X(0)),b.$c.Ra(),this.Od.mt(d)):this.Od.RX(d):m&&b.$c.Ra()}F2(b,d){let m,k;const p=0<b.length;var r=this.g;const l=this.vd,h=r.ja(),q=1<h.It();this.VO(h,d,q);p&&h.Pf(b);d=l.Ra(this);this.XE(d)&&(r.Mj(),d.Rf(this),(r=this.Od.Nf())&&([k,m]=this.Od.LE()),this.Ky(d),r&&this.Od.$s(k));l.La();q&&h.$c.La();p&&h.Sb(b);h.Gt();return m}*vW(b,d){let m,k;if(this.En()||this.g.Zb())yield this;const p=
0<b.length;var r=this.g;const l=this.vd,h=r.ja(),q=1<h.It();this.VO(h,d,q);p&&h.Pf(b);d=l.Ra(this);if(yield*this.KO(d))r.Mj(),d.Rf(this),(r=this.Od.Nf())&&([k,m]=this.Od.LE()),yield*this.cF(d),r&&this.Od.$s(k);l.La();q&&h.$c.La();p&&h.Sb(b);h.Gt();return m}G2(b){const d=this.gd(),m=0<d.length,k=this.g,p=this.vd,r=k.ja(),l=1<r.It();l&&r.$c.Ra();this.Od.mt(b);m&&r.Pf(d);b=p.Ra(this);this.XE(b)&&(k.Mj(),b.Rf(this),this.Ky(b));p.La();l&&r.$c.La();m&&r.Sb(d);r.Gt()}*wW(b){if(this.En()||this.g.Zb())yield this;
const d=this.gd(),m=0<d.length,k=this.g,p=this.vd,r=k.ja(),l=1<r.It();l&&r.$c.Ra();this.Od.mt(b);m&&r.Pf(d);b=p.Ra(this);if(yield*this.KO(b))k.Mj(),b.Rf(this),yield*this.cF(b);p.La();l&&r.$c.La();m&&r.Sb(d);r.Gt()}oE(b,d,m,...k){let p,r;const l=0<b.length,h=this.g,q=this.vd,t=h.ja(),v=1<t.It();v&&t.$c.Ra();0<k.length&&this.Od.mt(k);l&&t.Pf(b);k=q.Ra(this);k.t_(d,m);q.a2(k);h.dy(!1);this.XE(k)&&(h.Mj(),k.Rf(this),(d=this.Od.Nf())&&([r,p]=this.Od.LE()),this.Ky(k),d&&this.Od.$s(r));h.dy(!0);q.La();q.S1();
v&&t.$c.La();l&&t.Sb(b);t.Gt();return p||k.NG}}}"use strict";
{const e=self.B,a=[];let c=!1;e.Qw=class extends e.aa{constructor(f,b,d){super();const m=f.I(),k=f.ja();this.Gc=f;this.oa=k;this.g=f.I();this.kc=b;this.Ia=m.sg(d[1]);this.Iq=d[2];this.Gc.SP(this,this.Iq);this.Ma=m.Gb?{Jc:d[3][0],BJ:d[3][1]}:null}static Pa(f,b,d){return e.A(e.Qw,f,b,d)}Eb(){const f=this.Ia,b=this.g.ja().gP(this);this.Ia=f.bind(null,this.g.Zh,b)}ya(){return this.kc}Rp(){return this.kc}DD(){return this.Ma&&this.Ma.BJ}En(){return this.DD()&&this.Ma.Jc}Cx(){return!1}Fd(){return a}gd(){return this.kc?
this.kc.gd():a}la(f){f.Rf(this);this.oa.YB(this.P9())}async P9(){try{await this.Ia()}catch(f){console.error(`Unhandled exception running script %c${this.Gc.W}, event ${this.Iq}:`,"font-size: 1.2em; font-weight: bold;",f),self.Ci&&self.Ci.B$(this),c||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),c=!0)}}*nb(f){f.Rf(this);if(this.En()||this.g.Zb())yield this;
this.la(f)}je(){return!this.En()&&!this.g.Zb()}static JZ(){return c}static r3(){c=!0}}}"use strict";
{const e=self.B;e.Fs=class extends e.aa{constructor(a,c,f){super();this.Gc=a;this.g=a.I();this.kc=c;const b=f[1];this.Fz=b[0];this.Kk=b[1];this.$f=b[2].map(d=>e.Rw.Pa(a,this,d));this.xc=b[3];this.ZG=[];this.wu=b[4];this.lba=0;this.du=-1;this.Vt=new Map;this.Ld=e.Aj.Pa(a,c,f);this.Ld.D$(this)}static Pa(a,c,f){return e.A(e.Fs,a,c,f)}Eb(){for(const a of this.$f)a.Eb();this.Ld.Eb(!1)}$O(){return this.$f}o9(a){this.ZG.push(a)}RX(a){const c=this.$f;for(let f=0,b=c.length;f<b;++f)c[f].Tf(a[f].X(0))}mt(a){const c=
this.$f;for(let f=0,b=c.length;f<b;++f)c[f].Tf(a[f])}MV(){return this.$f.map(a=>a.Gd())}ya(){return this.kc}Rp(){return this.kc}Gn(){return this.xc}Js(){switch(this.Kk){case 0:return null;case 2:return"";default:return 0}}Ge(){return this.Ld}Nf(){return this.wu}LE(){const a=this.lba++;this.du=a;let c;const f=new Promise(b=>c=b);this.Vt.set(a,{resolve:c,PJ:0});return[a,f]}$s(a){const c=this.Vt.get(a);0===c.PJ&&(c.resolve(),this.Vt.delete(a));this.du=-1}M1(){this.Vt.get(this.du).PJ++;return this.du}A2(a){this.du=
a;this.Vt.get(a).PJ--}}}"use strict";
{const e=self.B,a=[];e.Rw=class extends e.aa{constructor(c,f,b){super();const d=c.ja();this.Gc=c;this.oa=d;this.g=c.I();this.kc=f;this.$c=d.$c;this.W=b[1];this.wa=b[2];this.yo=b[3];this.Ig=!!b[4];this.tb=!!b[5];this.Waa=f instanceof e.Fs;this.kb=b[6];this.Du=this.g.ph(b[8]);this.Lba=m=>this.Tf(m);this.Jba=()=>this.Gd();this.uR=!this.kc||this.Ig||this.tb;this.bd=this.yo;this.HH=-1;this.$L()&&(this.bd=this.bd?1:0);!this.HD()||this.Ig||this.tb||(this.HH=d.l7(this));d.l9(this)}static Pa(c,f,b){return e.A(e.Rw,
c,f,b)}Eb(){if(this.HD()&&!this.Ig&&!this.tb&&!this.Waa){const c=this.oa.FC(this);c&&c.o9(this)}}ph(){return this.Du}ya(){return this.kc}Rp(){return this.ya()}Of(){return!this.ya()}HD(){return!this.Of()}Dl(){return 0===this.wa}Pj(){return 1===this.wa}$L(){return 2===this.wa}Cx(){return!1}Fd(){return a}la(){!this.HD()||this.Ig||this.tb||this.Tf(this.yo)}je(){return!0}*nb(c){this.la(c)}Tf(c){this.Dl()?"number"!==typeof c&&(c=parseFloat(c)):this.Pj()?"string"!==typeof c&&(c=c.toString()):this.$L()&&
(c=c?1:0);this.uR?this.bd=c:this.$c.Kp()[this.HH]=c}Gd(){return this.uR?this.bd:this.$c.Kp()[this.HH]}y2(){this.bd=this.yo}iP(){return{configurable:!1,enumerable:!0,get:this.Jba,set:this.Lba}}}}"use strict";
{const e=self.B,a=[];e.cL=class extends e.aa{constructor(c,f,b){super();const d=c.ja();this.Gc=c;this.oa=d;this.g=c.I();this.kc=f;this.tu=null;this.Raa=b[1];this.Cb=!0}static Pa(c,f,b){return e.A(e.cL,c,f,b)}Eb(){this.tu=this.oa.qL(this.Raa);this.Gc.g5(this);let c=this.ya();for(;c;)c instanceof e.Aj&&c.ai&&c.Y4(this),c=c.ya();this.iO();this.g.Gb&&this.Gc.hi.children.push(this.tu.hi)}ya(){return this.kc}Fd(){return a}la(){const c=!!this.ya(),f=this.g.Ec;c&&this.oa.Pf(f);this.tu.la();c&&this.oa.Sb(f)}*nb(){const c=
!!this.ya(),f=this.g.Ec;c&&this.oa.Pf(f);yield*this.tu.nb();c&&this.oa.Sb(f)}je(){return!1}iO(){let c=this.ya();for(;c;){if(c instanceof e.Aj&&c.ai&&!c.Vp()){this.Cb=!1;return}c=c.ya()}this.Cb=!0}}}"use strict";
{const e=self.B;e.pn=class extends e.aa{constructor(k){super();this.Xb=k;this.g=k.I()}Eb(){}static nW(k,p){return e.A([d,f,b,m,a,c][p[0]],k,p)}};class a extends e.pn{constructor(k,p){super(k);this.xd=this.g.Rs();this.Ia=this.g.sg(p[1]);this.Ia!==e.D.eb.hf.random&&this.Ia!==e.D.eb.hf.lca||this.Xb.HE()}Jp(){return this.xd.Ti(this.Ia,this.xd)}}class c extends e.pn{constructor(k,p){super(k);this.Pq=null;this.Fz=p[1];this.Xb.HE()}Eb(){const k=this.g.ja();this.Pq=k.kx(this.Fz);this.Fz=null;const p=this.Pq.Ge();
this.mk=[...new Set([...this.Xb.Ge().gd(),...p.gd()])];this.mk=k.vy(this.mk)}Jp(){const k=this.Pq;if(k.Gn())return e.Aj.prototype.oE.bind(k.Ge(),this.mk,k.Kk,k.Js());{const p=k.Js();return()=>p}}}class f extends e.pn{constructor(k,p){super(k);this.M=this.g.He(p[1]);this.Ia=this.g.sg(p[2]);this.cI=!!p[3];this.vd=this.g.ja().fd();this.Xb.rF(this.M)}Jp(){return this.M.Lb().Ti(this.Ia,this.M.Kj().Aa)}EC(){const k=this.M,p=k.ca().LY();var r=p.length;if(0===r)return this.cI?"":0;var l=this.Xb.JA;l>=r?r=
l%r:(0>l&&(l<=-r&&(l%=r),0>l&&(l+=r)),r=l);this.vd.Hf().l3(k);return this.Ia.apply(p[r].Aa,[])}}class b extends e.pn{constructor(k,p){super(k);this.M=this.g.He(p[1]);this.cI=!!p[2];this.Xb.rF(this.M)}}class d extends e.pn{constructor(k,p){super(k);this.M=this.g.He(p[1]);this.Fc=this.M.Ww(p[2]);this.Jh=this.M.Hs(p[2]);this.Ia=this.g.sg(p[3]);this.cI=!!p[4];this.vd=this.g.ja().fd();this.Xb.rF(this.M)}}class m extends e.pn{constructor(k,p){super(k);this.ro=null;this.DG=p[1]}Eb(){this.ro=this.g.ja().VC(this.DG)}}
}"use strict";
{const e=self.B;e.Ke=class extends e.aa{constructor(A,F,x){super();this.Xb=A;this.Oa=x;this.wa=F;this.X=null;this.tb=this.ye=!1}static Pa(A,F,x){const E=F[0];return e.A([c,f,l,d,k,b,p,c,d,d,h,q,l,v,f,r,m,t,z][E],A,E,x,F)}Eb(){}HE(){this.ye=!0}rF(A){this.ye||!A||A.Lb().km||(this.ye=!0)}Da(){return this.Oa}I(){return this.Xb.I()}Ge(){return this.Xb.Ge()}};function a(A){A=self.EV[A];if(!A)throw Error("invalid expression number");return A}class c extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.JA=
0;A=E[1];this.FG=A[0];this.ir=[];this.vz=null;for(let I=1,M=A.length;I<M;++I)this.ir.push(e.pn.nW(this,A[I]));this.ir.length?this.X=this.KY:(this.X=a(this.FG),this.tb=!0)}Ui(A){if(0>A||A>=this.ir.length)throw new RangeError("invalid numbered node");return this.ir[A]}Eb(){for(var A of this.ir)A.Eb();A=a(this.FG);this.vz=this.ir.length?A(this):A}KY(A){this.JA=A;return this.vz()}}class f extends c{constructor(A,F,x,E){super(A,F,x,E);this.X=this.xZ;14===F&&(this.Ge().T2(),this.Xb instanceof e.qw&&this.Ge().tt())}xZ(A){this.JA=
A;A=this.vz();return"string"===typeof A?A:""}f7(){return a(this.FG)()}}class b extends c{constructor(A,F,x,E){super(A,F,x,E);this.X=this.za;this.tb=!1}za(A){this.JA=A;A=this.vz();return this.I().cb().za(A)}}class d extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.xaa=E[1];this.X=this.BY;this.tb=!0}BY(){return this.xaa}}class m extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.qaa=E[1];this.X=this.AY;this.tb=!0}AY(){return this.qaa}}class k extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.M=
this.I().He(E[1]);this.X=this.K;A=this.Ge();A.zO(this.M);this.Xb instanceof e.qw?A.tt():A.ya()&&A.ya().tt();this.tb=!0}K(){return this.M}}class p extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.Jg=this.I().qb.Np(E[1]);this.X=this.Jf;this.tb=!0}Jf(){return this.Jg}}class r extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.Am=this.I().zb.tx(E[1]);this.X=this.ac;this.tb=!0}ac(){return this.Am}}class l extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.Laa=E[1];this.X=this.OY;this.tb=!0}OY(){return this.Laa}}
class h extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.DR=E[1];(A=this.Xb.K())&&A.fb?(this.X=this.MY,this.HE()):(this.X=this.aZ,this.tb=!0)}aZ(){return this.DR}MY(A){A=A||0;const F=this.Xb.K();var x=F.ca();const E=x.ta();if(E.length)A=E[A%E.length].K();else if(x.MZ())x=x.Zc,A=x[A%x.length].K();else if(0<F.H.length)x=F.ta(),A=x[A%x.length].K();else return 0;return this.DR+A.rL(F.Uh)}}class q extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.DG=E[1];this.ro=null;this.X=this.JY;this.tb=!0}Eb(){this.ro=
this.I().ja().VC(this.DG)}JY(){return this.ro}}class t extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.eR=E[1];this.Pq=null;this.X=this.YY;this.tb=!0}Eb(){this.Pq=this.I().ja().kx(this.eR);this.eR=null}YY(){return this.Pq}}class v extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.wI=[];this.aT=[];this.tb=!0;for(let I=1,M=E.length;I<M;++I)A=e.Ke.Pa(this.Xb,E[I],0),this.wI.push(A),this.aT.push(0),A.tb||(this.tb=!1);this.X=this.FZ}Eb(){for(const A of this.wI)A.Eb()}FZ(){const A=this.wI,F=this.aT;
for(let x=0,E=A.length;x<E;++x)F[x]=A[x].X(0);return F}}class z extends e.Ke{constructor(A,F,x,E){super(A,F,x);this.Gaa=E[1];this.X=this.ql;this.tb=!0}ql(){return this.Gaa}}}"use strict";
{const e=self.B;function a(b,d){for(let m=0,k=b.length;m<k;++m)d[m]=b[m].X(0)}const c=[],f=function(){};e.HK=class extends e.aa{constructor(b,d,m){super();this.Ld=b;this.g=b.I();this.Oa=m;this.Ia=this.g.sg(d[1]);this.rH=0<d[3];this.FR=2===d[3];this.oH=!!d[4];this.bj=!!d[5];this.Ig=!!d[6];this.kb=d[7];this.GR=this.Ld.se;this.Fc=this.M=null;this.Jh=-1;this.xd=null;this.nb=this.la=f;this.Ja=[];this.sb=[];this.ik=!1;this.KI=this.yb=null;this.Ma=this.g.Gb?{Jc:d[8][0],$e:d[8][1]}:null;-1===d[0]?this.xd=
this.g.Rs():(this.M=this.g.He(d[0]),d[2]&&(this.Fc=this.M.Ww(d[2]),this.Jh=this.M.Hs(d[2])),this.Ld.ya()&&this.Ld.ya().tt());if(10===d.length){b=d[9];for(let k of b)this.Ja.push(e.Ke.Pa(this,k,this.Ja.length)),this.sb.push(0)}0===this.Ja.length&&(this.sb=this.Ja=c);this.Ld.ja().j9(this)}static Pa(b,d,m){return e.A(e.HK,b,d,m)}Eb(){for(const b of this.Ja)b.Eb(),b.ye&&(this.ik=!0);this.FR?(this.la=this.F9,this.nb=this.d6):this.xd?(this.GF(),this.nb=this.eF):this.M.Lb().km?(this.FF(),this.nb=this.dF):
this.Ig?(this.la=this.M9,this.nb=this.k6):(this.la=this.cQ,this.nb=this.e6)}GF(){this.Qt(this.xd,this.xd,this.AF)}FF(){const b=this.M.Lb(),d=this.M.Kj().Aa;this.Qt(b,d,this.zF)}Qt(b,d,m){const k=this.Ia,p=this.bj,r=this.Ja;if(0===r.length){const l=b.Ti(k,d);this.la=p?function(){return e.xor(l(),p)}:l}else if(1===r.length){const l=r[0];if(!p&&l.tb)this.la=b.aP(k,d,l.X(0));else{const h=b.Ti(k,d);this.la=function(){return e.xor(h(l.X(0)),p)}}}else if(2===r.length){const l=r[0],h=r[1];if(!p&&l.tb&&h.tb)this.la=
b.bP(k,d,l.X(0),h.X(0));else{const q=b.Ti(k,d);this.la=function(){return e.xor(q(l.X(0),h.X(0)),p)}}}else if(3===r.length){const l=r[0],h=r[1],q=r[2];if(!p&&l.tb&&h.tb&&q.tb)this.la=b.cP(k,d,l.X(0),h.X(0),q.X(0));else{const t=b.Ti(k,d);this.la=function(){return e.xor(t(l.X(0),h.X(0),q.X(0)),p)}}}else this.la=m}K(){return this.M}og(){return this.Fc}Ge(){return this.Ld}I(){return this.g}Da(){return this.Oa}nL(){return this.Da()}In(){return this.rH}je(){return!this.Ma.Jc&&!this.g.Zb()&&!this.Ma.$e}wn(){this.yb||
(this.yb=new Map);return this.yb}AF(){const b=this.sb;a(this.Ja,b);return e.xor(this.Ia.apply(this.xd,b),this.bj)}*eF(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){var b=this.sb;a(this.Ja,b);b=this.Ia.apply(this.xd,b);e.Cl(b)&&(b=yield*b);return e.xor(b,this.bj)}return this.la()}zF(){const b=this.sb;a(this.Ja,b);const d=this.M.Kj().Aa;return e.xor(this.Ia.apply(d,b),this.bj)}*dF(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){var b=this.sb;a(this.Ja,b);const d=this.M.Kj().Aa;b=this.Ia.apply(d,
b);e.Cl(b)&&(b=yield*b);return e.xor(b,this.bj)}return this.la()}F9(){return!0}*d6(){if(this.Ma.Jc||this.g.Zb())yield this;return!0}M9(){var b=this.sb;a(this.Ja,b);b=this.Ia.apply(this.Fc||this.M,b);this.M.Dd();return b}*k6(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){var b=this.sb;a(this.Ja,b);b=this.Ia.apply(this.Fc||this.M,b);e.Cl(b)&&(b=yield*b);this.M.Dd();return b}return this.la()}cQ(){const b=this.Ja,d=this.sb,m=this.M.ca();for(let k=0,p=b.length;k<p;++k){const r=b[k];r.ye||(d[k]=
r.X(0))}return m.Oc?this.G9(m):this.H9(m)}*e6(){if(this.Ma.Jc||this.g.Zb())yield this;return this.cQ()}hF(b){const d=this.Ja,m=this.sb;for(let k=0,p=d.length;k<p;++k){const r=d[k];r.ye&&(m[k]=r.X(b))}}G9(b){const d=this.M,m=d.fb,k=d.Uh,p=this.Jh,r=0<=p,l=d.ta(),h=this.ik,q=this.sb,t=this.Ia,v=this.bj,z=this.GR&&!this.rH;b.Dw();for(let F=0,x=l.length;F<x;++F){const E=l[F];h&&this.hF(F);var A=void 0;r?(A=m?E.K().qn(k):0,A=t.apply(E.Xc[p+A].Aa,q)):A=t.apply(E.Aa,q);e.xor(A,v)?b.Iy(E):z&&b.Xn(E)}b.Wi(!1);
d.Dd();return b.OL()}H9(b){const d=this.M,m=d.fb,k=d.Uh,p=d.Dc(),r=this.Jh,l=0<=r,h=this.ik,q=this.sb,t=this.Ia,v=this.bj,z=this.GR&&!this.rH,A=b.H,F=b.Zc,x=z&&!this.Ld.b0(this),E=x?F:A;let I=0,M=!1;for(let Q=0,U=E.length;Q<U;++Q){const ba=E[Q];h&&this.hF(Q);var P=void 0;l?(P=m?ba.K().qn(k):0,P=t.apply(ba.Xc[r+P].Aa,q)):P=t.apply(ba.Aa,q);e.xor(P,v)?(M=!0,x?(A.push(ba),p&&ba.g9()):(E[I]=ba,p&&ba.F$(I),++I)):x?(E[I]=ba,p&&ba.E$(I),++I):z&&(F.push(ba),p&&ba.f9())}e.Ee(E,I);p&&d.V$(x,I);x&&!M&&(M=this.X8(A));
return z?M:b.OL()}X8(b){var d=this.M;const m=d.fb;d=d.Uh;const k=this.ik,p=this.Jh,r=0<=p,l=this.sb,h=this.Ia,q=this.bj;for(let v=0,z=b.length;v<z;++v){var t=b[v];k&&this.hF(v);if(r){const A=m?t.K().qn(d):0;t=h.apply(t.Xc[p+A].Aa,l)}else t=h.apply(t.Aa,l);if(e.xor(t,q))return!0}return!1}ht(b,d){return this.Ja[b].X(d)}NY(){const b=this.Ja;if(!b.length)throw Error("no parameters");return b[0].f7()}ea(){if(!this.yb||!this.yb.size)return null;const b={};for(const [d,m]of this.yb.entries()){let k=m;"collmemory"===
d&&(k=[...m.entries()].map(p=>[p[0].ie,p[1].ie,p[2]]));b[d]=k}return{ex:b}}ma(b){this.yb&&(this.yb.clear(),this.yb=null);if(b){var d=this.g,m=b.ex;if(m){b=this.wn();b.clear();for(const [k,p]of Object.entries(m))m=p,"collmemory"===k&&(m=e.A(e.bE,p.map(r=>[d.Ii(r[0]),d.Ii(r[1]),r[2]]).filter(r=>r[0]&&r[1]))),b.set(k,m)}}}}}"use strict";
{const e=self.B;function a(d,m){for(let k=0,p=d.length;k<p;++k)m[k]=d[k].X(0)}const c=[],f=function(){},b=function*(){};e.qw=class extends e.aa{constructor(d,m,k){super();this.Ld=d;this.g=d=d.I();this.Oa=k;this.kb=4<=m.length?m[3]:-1;this.Ty=5<=m.length?m[4]:0;this.Fc=this.M=this.Ia=null;this.Jh=-1;this.xd=null;this.dz="";this.mk=this.cz=null;this.nb=this.la=f;this.Ja=[];this.sb=[];this.ik=!1;this.KI=this.yb=null;const p=(k=-3===m[0])?m[2]:m[5];this.Ma=d.Gb||k?{Jc:p[0],$e:p[1],index:p[2]}:null;-1===
m[0]?(this.xd=d.Rs(),this.Ia=d.sg(m[1])):-2===m[0]?this.dz=m[1]:k?(this.Ia=d.sg(m[1]),this.la=this.pE,this.nb=this.AW,this.Ty=1):(this.Ia=d.sg(m[1]),this.M=d.He(m[0]),m[2]&&(this.Fc=this.M.Ww(m[2]),this.Jh=this.M.Hs(m[2])));if(7===m.length){m=m[6];for(const r of m)this.Ja.push(e.Ke.Pa(this,r,this.Ja.length)),this.sb.push(0)}0===this.Ja.length&&(this.sb=this.Ja=c);this.Ld.ja().i9(this)}static Pa(d,m,k){return e.A(e.qw,d,m,k)}Eb(){for(var d of this.Ja)d.Eb(),d.ye&&(this.ik=!0);if(this.xd)this.GF(),
this.nb=this.eF;else if(this.dz)this.j$(),this.dz="";else if(this.la===this.pE){d=this.Ia;const m=this.g.ja().gP(this.Ld);this.Ia=d.bind(null,this.g.Zh,m)}else this.Fc?this.Nf()?(this.la=this.aQ,this.nb=this.a6):(this.la=this.$P,this.nb=this.Z5):this.M.Lb().km?(this.FF(),this.nb=this.dF):this.Nf()?(this.la=this.eQ,this.nb=this.g6):this.Ja.length?this.Ja.every(m=>m.ye)?(this.la=this.dQ,this.nb=this.f6):this.ik?(this.la=this.gQ,this.nb=this.i6):this.Ja.every(m=>m.tb)?(a(this.Ja,this.sb),this.la=this.yF,
this.nb=this.LO):(this.la=this.fQ,this.nb=this.h6):(this.la=this.yF,this.nb=this.LO)}GF(){this.Qt(this.xd,this.xd,this.AF)}FF(){const d=this.M.Lb(),m=this.M.Kj().Aa;this.Qt(d,m,this.zF)}j$(){const d=this.Ld.ja(),m=d.kx(this.dz);m.Gn()?(this.cz=m.Ge(),this.mk=[...new Set([...this.Ld.gd(),...this.cz.gd()])],this.mk=d.vy(this.mk),this.la=e.Aj.prototype.F2.bind(this.cz,this.mk,this.Ja),this.nb=this.b6):(this.la=f,this.nb=b)}Qt(d,m,k){const p=this.Ia,r=this.Ja;if(0===r.length)this.la=d.Ti(p,m);else if(1===
r.length){const l=r[0];if(l.tb)this.la=d.aP(p,m,l.X(0));else{const h=d.Ti(p,m);this.la=function(){return h(l.X(0))}}}else if(2===r.length){const l=r[0],h=r[1];if(l.tb&&h.tb)this.la=d.bP(p,m,l.X(0),h.X(0));else{const q=d.Ti(p,m);this.la=function(){return q(l.X(0),h.X(0))}}}else if(3===r.length){const l=r[0],h=r[1],q=r[2];if(l.tb&&h.tb&&q.tb)this.la=d.cP(p,m,l.X(0),h.X(0),q.X(0));else{const t=d.Ti(p,m);this.la=function(){return t(l.X(0),h.X(0),q.X(0))}}}else this.la=k}Nf(){return 1===this.Ty}yK(){return 2===
this.Ty}WZ(){return 0!==this.Ty}K(){return this.M}Ge(){return this.Ld}I(){return this.g}Da(){return this.Oa}nL(){return this.Ma.index}je(){return!this.Ma.Jc&&!this.g.Zb()&&!this.Ma.$e}wn(){this.yb||(this.yb=new Map);return this.yb}AF(){const d=this.sb;a(this.Ja,d);return this.Ia.apply(this.xd,d)}*eF(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const d=this.sb;a(this.Ja,d);return yield*this.Ia.apply(this.xd,d)}return this.la()}*b6(){if(this.Ma.Jc||this.g.Zb())yield this;return yield*this.cz.vW(this.mk,
this.Ja)}zF(){const d=this.sb;a(this.Ja,d);return this.Ia.apply(this.M.Kj().Aa,d)}*dF(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const d=this.sb;a(this.Ja,d);return yield*this.Ia.apply(this.M.Kj().Aa,d)}return this.la()}yF(){const d=this.sb,m=this.M.ca().ta();for(let k=0,p=m.length;k<p;++k)this.Ia.apply(m[k].Aa,d)}*LO(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const d=this.sb,m=this.M.ca().ta();for(let k=0,p=m.length;k<p;++k)yield*this.Ia.apply(m[k].Aa,d)}else this.yF()}fQ(){const d=
this.sb;a(this.Ja,d);const m=this.M.ca().ta();for(let k=0,p=m.length;k<p;++k)this.Ia.apply(m[k].Aa,d)}*h6(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const d=this.sb;a(this.Ja,d);const m=this.M.ca().ta();for(let k=0,p=m.length;k<p;++k)yield*this.Ia.apply(m[k].Aa,d)}else this.fQ()}dQ(){const d=this.Ja,m=this.sb,k=this.Ia,p=this.M.ca().ta();for(let r=0,l=p.length;r<l;++r){const h=p[r];for(let q=0,t=d.length;q<t;++q)m[q]=d[q].X(r);k.apply(h.Aa,m)}}*f6(){if(this.Ma.Jc||this.g.Zb())yield this;
if(this.Ma.$e){const d=this.Ja,m=this.sb,k=this.Ia,p=this.M.ca().ta();for(let r=0,l=p.length;r<l;++r){const h=p[r];for(let q=0,t=d.length;q<t;++q)m[q]=d[q].X(r);yield*k.apply(h.Aa,m)}}else this.dQ()}gQ(){const d=this.Ja,m=this.sb,k=this.Ia,p=this.M.ca().ta();for(let l=0,h=d.length;l<h;++l){var r=d[l];r.ye||(m[l]=r.X(0))}for(let l=0,h=p.length;l<h;++l){r=p[l];for(let q=0,t=d.length;q<t;++q){const v=d[q];v.ye&&(m[q]=v.X(l))}k.apply(r.Aa,m)}}*i6(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const m=
this.Ja,k=this.sb,p=this.Ia,r=this.M.ca().ta();for(let l=0,h=m.length;l<h;++l){var d=m[l];d.ye||(k[l]=d.X(0))}for(let l=0,h=r.length;l<h;++l){d=r[l];for(let q=0,t=m.length;q<t;++q){const v=m[q];v.ye&&(k[q]=v.X(l))}yield*p.apply(d.Aa,k)}}else this.gQ()}$P(){var d=this.M;const m=d.fb,k=d.Uh,p=this.Ja,r=this.ik,l=this.sb,h=this.Ia,q=this.Jh;d=d.ca().ta();for(let z=0,A=p.length;z<A;++z){var t=p[z];t.ye||(l[z]=t.X(0))}for(let z=0,A=d.length;z<A;++z){t=d[z];if(r)for(let F=0,x=p.length;F<x;++F){var v=p[F];
v.ye&&(l[F]=v.X(z))}v=m?t.K().qn(k):0;h.apply(t.Xc[q+v].Aa,l)}}*Z5(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){var d=this.M;const p=d.fb,r=d.Uh,l=this.Ja,h=this.ik,q=this.sb,t=this.Ia,v=this.Jh;d=d.ca().ta();for(let z=0,A=l.length;z<A;++z){var m=l[z];m.ye||(q[z]=m.X(0))}for(let z=0,A=d.length;z<A;++z){m=d[z];if(h)for(let F=0,x=l.length;F<x;++F){var k=l[F];k.ye&&(q[F]=k.X(z))}k=p?m.K().qn(r):0;yield*t.apply(m.Xc[v+k].Aa,q)}}else this.$P()}eQ(){const d=this.Ja,m=this.sb,k=this.Ia,p=this.M.ca().ta(),
r=[];for(let l=0,h=p.length;l<h;++l){const q=p[l];for(let t=0,v=d.length;t<v;++t)m[t]=d[t].X(l);r.push(k.apply(q.Aa,m))}return Promise.all(r)}*g6(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){const d=this.Ja,m=this.sb,k=this.Ia,p=this.M.ca().ta(),r=[];for(let l=0,h=p.length;l<h;++l){const q=p[l];for(let t=0,v=d.length;t<v;++t)m[t]=d[t].X(l);r.push(yield*k.apply(q.Aa,m))}return Promise.all(r)}return this.eQ()}aQ(){var d=this.M;const m=d.fb,k=d.Uh,p=this.Ja,r=this.sb,l=this.Ia,h=this.Jh;d=
d.ca().ta();const q=[];for(let t=0,v=d.length;t<v;++t){const z=d[t];for(let F=0,x=p.length;F<x;++F)r[F]=p[F].X(t);const A=m?z.K().qn(k):0;q.push(l.apply(z.Xc[h+A].Aa,r))}return Promise.all(q)}*a6(){if(this.Ma.Jc||this.g.Zb())yield this;if(this.Ma.$e){var d=this.M;const m=d.fb,k=d.Uh,p=this.Ja,r=this.sb,l=this.Ia,h=this.Jh;d=d.ca().ta();const q=[];for(let t=0,v=d.length;t<v;++t){const z=d[t];for(let F=0,x=p.length;F<x;++F)r[F]=p[F].X(t);const A=m?z.K().qn(k):0;q.push(yield*l.apply(z.Xc[h+A].Aa,r))}return Promise.all(q)}return this.aQ()}async pE(){try{await this.Ia()}catch(d){console.error(`Unhandled exception running script %c${this.Ld.Gc.W}, event ${this.Ld.Iq}, action ${this.nL()+
1}:`,"font-size: 1.2em; font-weight: bold;",d),self.Ci&&self.Ci.B$(this),e.Qw.JZ()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.Qw.r3())}}*AW(){if(this.Ma.Jc||this.g.Zb())yield this;return this.pE()}ea(){return this.yb&&this.yb.size?{ex:e.QE(this.yb)}:null}ma(d){this.yb&&(this.yb.clear(),this.yb=null);d&&(d=d.ex)&&(this.yb=e.GC(d))}}}"use strict";
{const e=self.B,a=new e.hb;function c(J,K){return e.compare(this.C().Ta(),J,K)}function f(J,K){return e.compare(this.C().Ua(),J,K)}function b(){const J=this.C();return J.iM(J.za().nd)}function d(){var J=this.C();const K=J.Jf();J=J.Gf();return 0>J.Z||0>J.U||J.T>K.ua()||J.O>K.ra()}function m(J,K,S){const W=this.ca(),aa=W.ta();if(!aa.length)return!1;let ha=aa[0];var da=ha.C();let ia=ha,ra=e.zT(da.Ta(),da.Ua(),K,S);for(let va=1,Ca=aa.length;va<Ca;++va)if(ha=aa[va],da=ha.C(),da=e.zT(da.Ta(),da.Ua(),K,
S),0===J&&da<ra||1===J&&da>ra)ra=da,ia=ha;W.Il(ia);return!0}function k(J){const K=this.C();K.Ta()!==J&&(K.Ah(J),K.Bb())}function p(J){const K=this.C();K.Ua()!==J&&(K.Bh(J),K.Bb())}function r(J,K){const S=this.C();S.OX(J,K)||(S.Pn(J,K),S.Bb())}function l(J,K){if(J&&(J=J.qZ(this.qa))){var [S,W]=J.ZC(K);K=this.C();if(K.Ta()!==S||K.Ua()!==W)K.Pn(S,W),K.Bb()}}function h(J){if(0!==J){var K=this.C();K.ZD(K.RC()*J,K.mD()*J);K.Bb()}}function q(J,K){if(0!==K){var S=this.C();J=e.Ab(J);S.ZD(Math.cos(J)*K,Math.sin(J)*
K);S.Bb()}}function t(){return this.C().Ta()}function v(){return this.C().Ua()}function z(){return this.g.gx(this.qa)}function A(J,K){return e.compare(this.C().ua(),J,K)}function F(J,K){return e.compare(this.C().ra(),J,K)}function x(J){const K=this.C();K.ua()!==J&&(K.$j(J),K.Bb())}function E(J){const K=this.C();K.ra()!==J&&(K.Xj(J),K.Bb())}function I(J,K){const S=this.C();if(S.ua()!==J||S.ra()!==K)S.Jd(J,K),S.Bb()}function M(){return this.C().ua()}function P(){return this.C().ra()}function Q(){return this.C().Gf().T}
function U(){return this.C().Gf().O}function ba(){return this.C().Gf().Z}function X(){return this.C().Gf().U}function fa(J,K){return e.Mr(this.C().Qa(),e.Ab(K))<=e.Ab(J)}function sa(J){return e.Ze(this.C().Qa(),e.Ab(J))}function ua(J,K){J=e.Ab(J);K=e.Ab(K);const S=this.C().Qa();return e.Ze(K,J)?e.Ze(S,J)&&!e.Ze(S,K):!(!e.Ze(S,J)&&e.Ze(S,K))}function ca(J){const K=this.C();J=e.zd(e.Ab(J));isNaN(J)||K.Qa()===J||(K.oe(J),K.Bb())}function qa(J){if(!isNaN(J)&&0!==J){var K=this.C();K.oe(K.Qa()+e.Ab(J));
K.Bb()}}function ea(J){if(!isNaN(J)&&0!==J){var K=this.C();K.oe(K.Qa()-e.Ab(J));K.Bb()}}function ya(J,K){const S=this.C(),W=S.Qa();J=e.ZI(W,e.Ab(K),e.Ab(J));isNaN(J)||W===J||(S.oe(J),S.Bb())}function Na(J,K,S){const W=this.C(),aa=W.Qa();K-=W.Ta();S-=W.Ua();J=e.ZI(aa,Math.atan2(S,K),e.Ab(J));isNaN(J)||aa===J||(W.oe(J),W.Bb())}function cb(J,K){const S=this.C(),W=S.Qa();J-=S.Ta();K-=S.Ua();K=Math.atan2(K,J);isNaN(K)||W===K||(S.oe(K),S.Bb())}function Sa(){return e.uj(this.C().Qa())}function db(J,K){return e.compare(e.oU(100*
this.C().Ie()),J,K)}function Ta(){return this.C().fc()}function Ga(J){const K=this.C();J=2===J?!K.fc():0!==J;K.fc()!==J&&(K.Uf(J),this.g.ba())}function Ea(J){J=e.xa(J/100,0,1);const K=this.C();K.Ie()!==J&&(K.Yj(J),this.g.ba())}function Oa(J){a.gs(J);J=this.C();J.bb.Tm(a)||(J.WN(a),this.g.ba())}function La(){const J=this.C().bb;return e.Sx(J.Ya,J.$a,J.Za,J.Xa)}function eb(){return e.oU(100*this.C().Ie())}function fb(J){return J?this.C().za()===J:!1}function gb(J){const K=this.ca(),S=K.ta();if(!S.length)return!1;
let W=S[0];for(let aa=1,ha=S.length;aa<ha;++aa){const da=S[aa],ia=da.C(),ra=W.C(),va=ia.za().Da(),Ca=ra.za().Da();if(0===J){if(va>Ca||va===Ca&&ia.Lj()>ra.Lj())W=da}else if(va<Ca||va===Ca&&ia.Lj()<ra.Lj())W=da}K.Il(W);return!0}function Pa(J,K,S){const W=this.C();J=0===J?W.ib():W.wl();return e.compare(J,K,S)}function hb(){this.C().V4()}function ib(){this.C().T4()}function jb(J){J&&this.C().U4(J)}function kb(J,K){J=0===J;K&&(K=K.tL(this.Ga()))&&this.C().S4(K,J)}function lb(J){const K=this.C();K.ib()!==
J&&(K.pf(J),this.g.ba())}function mb(){return this.C().za().Da()}function nb(){return this.C().za().W}function Qa(){return this.C().Lj()}function ob(){return this.C().ib()}function pb(){return this.C().wl()}function qb(J,K){if(K=this.K().Na.Ej(K)){K=K.Da();J=1===J;var S=this.C().ae;S.Us(K)!==J&&(S.FN(K,J),S.Tl(),this.g.ba())}}function rb(J,K,S){var W=this.K().Na.Ej(J);if(W){J=W.Da();var aa=this.C().ae,ha=aa.If(J);K=Math.floor(K);if(!(0>K||K>=ha.length)){W=W.jb.qx(K);if("color"===W){a.gs(S);K=ha[K];
if(a.Tm(K))return;K.Om(a)}else{"percent"===W&&(S/=100);if(ha[K]===S)return;ha[K]=S}aa.Us(J)&&this.g.ba()}}}function sb(){return this.C().Mi()}function tb(){return this.C().Je()}function ub(J,K){const S=this.ca().ta();if(0===S.length)return!1;const W=J.ca();var aa=W.ta();if(0===aa.length)return!1;aa=new Set(aa);const ha=new Set;for(let ia=0,ra=S.length;ia<ra;++ia){var da=S[ia];if(1===K)for(const va of da.parents())va.ts(J)&&aa.has(va)&&ha.add(va);else{if(0===K){if(da=da.ya(),null===da)continue}else da=
da.ux();da.ts(J)&&aa.has(da)&&ha.add(da)}}if(0===ha.size)return!1;W.SN(ha);J.Dd();return!0}function vb(J,K){const S=this.ca().ta();if(0===S.length)return!1;const W=J.ca();var aa=W.ta();if(0===aa.length)return!1;aa=new Set(aa);const ha=new Set;for(let da=0,ia=S.length;da<ia;++da){const ra=S[da];2===K&&!ra.Je()&&ra.ts(J)&&aa.has(ra)&&ha.add(ra);for(const va of 0===K?ra.children():ra.Nm())2===K&&va.Je()||va.ts(J)&&aa.has(va)&&ha.add(va)}if(0===ha.size)return!1;W.SN(ha);J.Dd();return!0}function wb(J,
K){const S=this.ca().ta();if(0===S.length)return!1;const W=J.ca();var aa=W.ta();if(0===aa.length)return!1;aa=new Set(aa);const ha=[];for(let da=0,ia=S.length;da<ia;++da){const ra=S[da].QC(K);null!==ra&&ra.ts(J)&&aa.has(ra)&&ha.push(ra)}if(0===ha.length)return!1;W.ay(ha);J.Dd();return!0}function xb(J,K){return e.compare(this.qa.Zw(),J,K)}function yb(J,K,S,W,aa,ha,da,ia){const ra=this.qa,va=this.g.$w().K();for(const Ca of J.hT(ra,va)){if(!Ca.Lb().TS)break;ra.hl(Ca,{ns:K,os:S,wp:W,vp:aa,ms:ha,qs:da,
Hv:ia})}}function zb(J){const K=this.qa,S=this.g.$w().K();for(const W of J.hT(K,S))K.Pi(W)}function la(){this.qa.Mi()&&this.qa.ya().Pi(this.qa)}function Aa(){return this.qa.Zw()}function Db(J,K){J=Math.floor(J);K=Math.floor(K);const S=this.C();2>J||2>K||!isFinite(J)||!isFinite(K)?(S.Vx(),S.Bb()):S.wC(J,K)}function Eb(J,K,S,W,aa,ha,da,ia){const ra=this.C();ra.PN(J,K,{mode:0===S?"absolute":"relative",x:W,y:aa,nK:ha,MU:da,OU:ia})&&ra.Bb()}function Fb(){const J=this.C();return J.uh()?J.ul().$i:0}function Gb(){const J=
this.C();return J.uh()?J.ul().nj:0}function Hb(J){const K=this.C();J=2===J?!K.fc():0!==J;K.fc()!==J&&K.Uf(J)}function Ib(J,K){this.i3(J,K)}function Ua(J,K){this.h3(J,""+K)}function Wa(J){this.i2(J)}function Xa(){this.jL()}function Ya(){this.vK()}function Ma(){return this.zG}function g(J){this.My(0!==J)}function n(){return this.xc}function u(J,K,S){return e.compare(this.Ga().le(J),K,S)}function w(J){return!!this.Ga().le(J)}function y(J,K){const S=this.ca(),W=S.ta();if(!W.length)return!1;let aa=W[0],
ha=aa,da=aa.le(K);for(let ia=1,ra=W.length;ia<ra;++ia){aa=W[ia];const va=aa.le(K);if(0===J&&va<da||1===J&&va>da)da=va,ha=aa}S.Il(ha);return!0}function C(J){if(this.g.nh().bj){{const W=this.ca();if(W.Oc){W.Wi(!1);W.Dw();var K=this.ta();for(let aa=0,ha=K.length;aa<ha;++aa){var S=K[aa];S.ie===J?W.Xn(S):W.Iy(S)}this.Dd();J=!!W.H.length}else{K=W.H;S=0;for(let aa=0,ha=K.length;aa<ha;++aa){const da=K[aa];K[S]=da;da.ie===J?W.Xn(da):++S}e.Ee(K,S);this.Dd();J=!!K.length}}}else J=D(this,J);return J}function D(J,
K){K=J.I().Ii(K);if(!K)return!1;const S=J.ca();if(!S.Oc&&!S.H.includes(K))return!1;if(J.fb){if(K.K().eC(J))return S.Il(K),J.Dd(),!0}else if(K.K()===J)return S.Il(K),J.Dd(),!0;return!1}function G(){this.g.mn(this.qa)}function H(){return!0}function L(){return!0}function N(J,K){this.Ga().Pl(J,K)}function O(J,K){const S=this.Ga(),W=S.le(J);"number"===typeof W&&"number"!==typeof K?K=parseFloat(K):"string"===typeof W&&"string"!==typeof K&&(K=K.toString());S.Pl(J,W+K)}function T(J,K){const S=this.Ga(),W=
S.le(J);"number"===typeof W&&("number"!==typeof K&&(K=parseFloat(K)),S.Pl(J,W-K))}function R(J,K){this.Ga().Pl(J,K?1:0)}function Z(J){const K=this.Ga();K.Pl(J,0===K.le(J)?1:0)}function Y(J){let K;try{K=JSON.parse(J)}catch(S){console.error("Failed to load from JSON string: ",S);return}J=this.Ga();J.Gy("state");J.Kc(K,"state")}function V(){return JSON.stringify(this.Ga().Vc("state"))}function pa(){return this.Ga().K().W}function ka(){const J=this.g.jf().GG;let K=J.H.length;const S=this.g.Ao;for(const W of S)J.fb?
W.K().eC(J)&&++K:W.K()===J&&++K;return K}function na(){return this.g.jf().GG.ca().ta().length}function oa(){return this.qa.rn()}function ma(){return this.qa.ie}e.XU=function(J,K){const S=J[1],W=J[4],aa=J[5],ha=J[6],da=J[7],ia=J[8],ra=J[10],va=J[11],Ca=J[12],pc=J[13],qc=J[14],ta=K.J,ja=K.Qb;K=K.hf;J[3]&&(ta.Cfa=c,ta.Dfa=f,ta.lha=b,ta.mha=d,ta.Wia=m,ja.Ah=k,ja.Bh=p,ja.Dla=r,ja.Ela=l,ja.iia=h,ja.hia=q,K.Pma=t,K.Qma=v,K.BT=z);W&&(ta.Bfa=A,ta.vfa=F,ja.$j=x,ja.Xj=E,ja.Jd=I,K.Lma=M,K.yga=P,K.afa=Q,K.cfa=
U,K.bfa=ba,K.$ea=X);aa&&(ta.lV=fa,ta.X_=sa,ta.W_=ua,ja.oe=ca,ja.zka=qa,ja.Aka=ea,ja.Bka=ya,ja.Cka=Na,ja.Gla=cb,K.Rea=Sa);ha&&(ta.fc=Ta,ta.xfa=db,ja.Uf=Ga,ja.Yj=Ea,ja.Wka=Oa,K.Opacity=eb,K.sfa=La);da&&(ta.jha=fb,ta.dja=gb,ta.Efa=Pa,ja.lia=hb,ja.jia=ib,ja.kia=jb,ja.Tma=kb,ja.pf=lb,K.Eha=mb,K.Dha=nb,K.Sma=Qa,K.Rma=ob,K.jma=pb);ia&&(ja.Yka=qb,ja.Zka=rb);pc&&(ta.Mi=sb,ta.Je=tb,ta.bja=ub,ta.Via=vb,ta.$ia=wb,ta.ufa=xb,ja.hl=yb,ja.Pi=zb,ja.yja=la,K.pfa=Aa);qc&&(ja.zla=Db,ja.PN=Eb,K.eia=Fb,K.fia=Gb);ra&&(ta.fc=
Ta,ja.Uf=Hb,ja.Tka=Ib,ja.$ka=Ua,ja.wja=Wa);va&&(ta.$ga=Ma,ja.o3=Xa,ja.Y2=Ya);Ca&&(ta.Gn=n,ja.j3=g);S||(ta.wfa=u,ta.Qga=w,ta.Xia=y,ta.Uia=C,ja.gla=N,ja.Kea=O,ja.cma=T,ja.Ska=R,ja.hma=Z,ta.u1=H,ta.v1=L,ja.Ow=G,ja.QD||(ja.QD=Y),K.tV||(K.tV=V),K.Ffa=ka,K.eja=na,K.Aga=oa,K.pma=ma,K.xia=pa)}}"use strict";
{const e=self.B;e.qE=class extends e.aa{constructor(a){super();this.oa=a;this.wa="";this.Qd=-1;this.dv="";this.eA=!1;this.Sh=null;this.rf=0;this.te=[];this.So=new Map;this.kk=null;this.Ut=-1;this.MG=this.$f=null;this.bv=!1}m(){this.wa="";this.Qd=-1;this.dv="";this.MG=this.$f=this.kk=this.Sh=null;this.Ut=-1;e.G(this.te);for(const a of this.So.values())a.m();this.So.clear()}Ch(){var a=this.oa,c=a.I().Ec;const f=a.jf();this.Sh=f.Ub();this.rf=f.rf+1;if(a=a.FC(this.Sh))this.kk=a,this.$f=a.MV(),this.MG=
a.ZG.map(b=>b.Gd()),a.Nf()&&(this.Ut=a.M1());for(const b of c)if(c=b.ca(),!c.Oc||this.Sh.YZ(b))this.te.push(b),this.So.set(b,e.A(e.$N,c))}M_(a){this.wa="timer";this.Ch();this.Qd=this.oa.I().qg()+a}K_(a){this.wa="signal";this.Ch();this.dv=a.toLowerCase()}C_(a){this.wa="promise";this.Ch();a.then(()=>this.DE()).catch(c=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",c);this.DE()})}l0(){return"timer"===this.wa}j0(){return"signal"===this.wa}g0(){return"promise"===
this.wa}DE(){this.eA=!0}wQ(){return this.l0()?this.Qd<=this.oa.I().qg():this.eA}ZP(a){a.xF(this.Sh,this.rf);for(const [c,f]of this.So.entries())f.xF(c.ca());if(a=this.kk)a.mt(this.$f),a.ZG.map((c,f)=>c.Tf(this.MG[f])),a.Nf()&&a.A2(this.Ut)}C9(a){this.ZP(a);this.Sh.B9(a);this.kk&&this.kk.Nf()&&this.kk.$s(this.Ut);this.oa.Ep(this.te);this.bv=!0}async W5(a){this.ZP(a);for(const c of this.Sh.V5(a))await this.oa.I().Hp(c);this.kk&&this.kk.Nf()&&this.kk.$s(this.Ut);this.oa.Ep(this.te);this.bv=!0}Ln(a){for(const c of this.So.values())c.Ln(a)}ea(){const a=
{},c={t:this.Qd,st:this.dv,s:this.eA,ev:this.Sh.kb,sm:this.te.map(f=>f.kb),sols:a};this.Sh.u7(this.rf)&&(c.act=this.Sh.kL(this.rf).kb);for(const [f,b]of this.So)a[f.kb.toString()]=b.ea();return c}static B5(a,c){const f=a.I();var b=a.HY(c.ev);if(!b)return null;let d=0;if(c.hasOwnProperty("act")){var m=a.uY(c.act);if(!m)return null;d=m.Da()}m=e.A(e.qE,a);m.Qd=c.t;m.wa=-1===m.Qd?"signal":"timer";m.dv=c.st;m.eA=c.s;m.Sh=b;m.rf=d;for(var k of c.sm)(b=f.ox(k))&&m.te.push(b);for(const [p,r]of Object.entries(c.sols))if(c=
f.ox(parseInt(p,10)))k=e.A(e.$N,null),k.ma(a,r),m.So.set(c,k);return m}}}"use strict";{const e=self.B;e.$N=class extends e.aa{constructor(a){super();this.M=null;this.dA=!0;this.H=[];a&&(this.M=a.K(),this.dA=a.Oc,e.dd(this.H,a.H))}m(){this.M=null;e.G(this.H)}xF(a){a.Wi(this.dA);e.dd(a.H,this.H)}Ln(a){e.Zg(this.H,a)}ea(){return{sa:this.dA,insts:this.H.map(a=>a.ie)}}ma(a,c){a=a.I();this.dA=!!c.sa;e.G(this.H);for(const f of c.insts)(c=a.Ii(f))&&this.H.push(c)}}}"use strict";
{const e=self.B;function a(c,f){let b=c.get(f);b||(b=new Map,c.set(f,b));return b}e.jt=class extends e.aa{constructor(c){super();this.g=c.nc;this.km=!!c.QT;this.bi=!!c.gda;this.$aa=!!c.fda;this.jba=!!c.wda;this.Maa=!!c.Rca;this.TS=!!c.lea;this.Pba=!!c.kea;this.JS=null;this.PQ=new Map;this.raa=new Map;this.saa=new Map;this.taa=new Map}m(){this.g=null}I(){return this.g}Vs(){return this.$aa}Hl(){return this.jba}qD(){return this.Maa}Ti(c,f){if(!f)throw Error("missing 'this' binding");let b=this.PQ.get(c);
if(b)return b;b=c.bind(f);this.PQ.set(c,b);return b}aP(c,f,b){if(!f)throw Error("missing 'this' binding");const d=a(this.raa,c);let m=d.get(b);if(m)return m;m=c.bind(f,b);d.set(b,m);return m}bP(c,f,b,d){if(!f)throw Error("missing 'this' binding");var m=a(this.saa,c);m=a(m,b);let k=m.get(d);if(k)return k;k=c.bind(f,b,d);m.set(d,k);return k}cP(c,f,b,d,m){if(!f)throw Error("missing 'this' binding");var k=a(this.taa,c);k=a(k,b);k=a(k,d);let p=k.get(m);if(p)return p;p=c.bind(f,b,d,m);k.set(m,p);return p}G$(c){if(!this.km)throw Error("must be single-global plugin");
this.JS=c}Kj(){if(!this.km)throw Error("must be single-global plugin");return this.JS.Kj()}}}"use strict";{const e=self.B;e.sN=class extends e.jt{constructor(a,c){super(a);this.hu=c;this.nba=0;this.$G=new Map;this.yp("elem-focused",f=>f.F8());this.yp("elem-blurred",f=>{f&&f.E8()})}m(){super.m()}a5(a){const c=this.nba++;this.$G.set(c,a);return c}u9(a){this.$G.delete(a)}yp(a,c){this.g.wj(this.hu,a,f=>{const b=this.$G.get(f.elementId);c(b,f)})}}}"use strict";
{const e=self.B;e.kt=class extends e.aa{constructor(a){super();this.M=a;this.g=a.I();this.Og=a.Lb()}m(){this.Og=this.g=this.M=null}K(){return this.M}I(){return this.g}Lb(){return this.Og}mx(){return this.M.mx()}Zs(){}hq(){}aE(){}dE(){}Jj(){return null}}}"use strict";
{const e=self.B;e.Yx=class extends e.aa{constructor(a,c){super();this.qa=a;this.hu=c;this.g=a.I();this.M=this.qa.K();this.kd=this.M.kd;this.Cr=this.Pk=null;this.zu=this.xk=!1;this.tf=null;this.Dv=!1}m(){this.Dv=!0;this.Py();this.KF();this.Cr=this.Pk=null;this.tf&&(this.tf.m(),this.tf=null);this.kd=this.M=this.g=this.qa=null}pO(){return this.Dv}Ga(){return this.qa}I(){return this.g}K(){return this.M}Lb(){return this.kd.Lb()}tl(){return this.qa.rg()}na(a){return this.g.na(a,this.qa,null)}Xd(a){return this.g.Xd(a,
this.qa,null)}NM(a,c){this.g.ct(this.hu,a,c)}QP(a,c){this.g.jm?this.NM(a,c):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.hu,handler:a,data:c,responseId:null})}Oe(){}Oy(){this.xk||(this.Pk||(this.Pk=()=>this.Oe()),this.g.oc().addEventListener("tick",this.Pk),this.xk=!0)}Py(){this.xk&&(this.g.oc().removeEventListener("tick",this.Pk),this.xk=!1)}KF(){this.zu&&(this.g.oc().removeEventListener("tick2",this.Cr),this.zu=!1)}Vc(){return null}Kc(){}pc(){}vg(){}XD(a,c){if(0!==
c){var f=this.pc(a);if("number"!==typeof f)throw Error("expected number");this.vg(a,f+c)}}Jj(){return null}}}"use strict";
{const e=self.B;e.tN=class extends e.Yx{constructor(a,c){super(a,c);this.mb=a.C();this.bT=this.UI=null}m(){if(this.UI){const a=this.g.oc();a.removeEventListener("webglcontextlost",this.UI);a.removeEventListener("webglcontextrestored",this.bT);this.bT=this.UI=null}this.mb=null;super.m()}Rx(){}C(){return this.mb}sl(){throw Error("original size not known");}rl(){throw Error("original size not known");}ax(){return null}bx(){var a=this.ax();return a&&(a=a.Lf())?[a.ua(),a.ra()]:[100,100]}cx(){const a=this.ax();
return a?a.Sg:null}ZC(){const a=this.qa.C();return[a.Ta(),a.Ua()]}}}"use strict";
{const e=self.B,a=e.A(e.Rect);e.rN=class extends e.tN{constructor(c,f){super(c,f);this.iu=this.Lb().a5(this);this.iH=!0;this.jk=this.zG=!1;this.$q=e.A(e.Rect,0,0,-1,-1);c=this.g.fa;this.YR=c.Km;this.XR=c.Jm;this.qH=!1;this.Oy()}m(){this.Lb().u9(this.iu);this.Jl("destroy");this.iu=-1;super.m()}Jl(c,f){f||(f={});f.elementId=this.iu;this.NM(c,f)}PP(c){c||(c={});c.elementId=this.iu;this.QP("focus",c)}NK(c){c||(c={});const f=this.C().fc();c.elementId=this.iu;c.isVisible=f;Object.assign(c,this.hx());this.iH=
!!c.isVisible;this.QP("create",c);this.FQ(!0)}fy(c){c=!!c;this.iH!==c&&(this.iH=c,this.Jl("set-visible",{isVisible:c}))}Oe(){this.FQ(!1)}L$(){const c=this.g.fa.jx();return"Android"===e.Uc.cq&&("scale-inner"===c||"scale-outer"===c||"crop"===c)}FQ(c){var f=this.C();const b=f.za();var d=f.Ta(),m=f.Ua();let [k,p]=b.Hx(d,m),[r,l]=b.Hx(d+f.ua(),m+f.ra());d=this.g.fa;m=d.Yc;const h=d.Lc;if(f.fc()&&b.fc()){if(!this.L$()){if(0>=r||0>=l||k>=m||p>=h){this.fy(!1);return}1>k&&(k=1);1>p&&(p=1);r>=m&&(r=m-1);l>=
h&&(l=h-1)}a.set(k,p,r,l);f=d.Km;m=d.Jm;!c&&a.cd(this.$q)&&this.YR===f&&this.XR===m?this.fy(!0):(this.$q.Ka(a),this.YR=f,this.XR=m,this.fy(!0),c=null,this.jk&&(c=b.Dj()-.2),this.Jl("update-position",{left:Math.round(this.$q.T)+d.OC(),top:Math.round(this.$q.O)+d.PC(),width:Math.round(this.$q.width()),height:Math.round(this.$q.height()),fontSize:c}))}else this.fy(!1)}jL(){this.PP({focus:!0})}vK(){this.PP({focus:!1})}F8(){this.zG=!0}E8(){this.zG=!1}i3(c,f){this.Jl("set-css-style",{prop:e.HV(c),val:f})}h3(c,
f){this.Jl("set-attribute",{name:c,val:f})}i2(c){this.Jl("remove-attribute",{name:c})}hc(){this.qH||(this.qH=!0,Promise.resolve().then(()=>{this.qH=!1;this.Jl("update-state",this.hx())}))}hx(){}}}"use strict";
{const e=self.B,a=self.b_;e.Fka=class extends e.aa{constructor(c){super();this.g=c.nc;this.NH=e.A(e.cC);this.sA=e.A(e.cC);this.pu=null;this.Kba=c.Dpa||null}m(){this.sA.m();this.NH.m();this.g=null}I(){return this.g}b5(c){this.NH.Kb(c)}CL(){return this.NH.KC()}zg(c){this.sA.Kb(c)}Yn(c){this.sA.ys(c)}ta(){return this.sA.KC()}ZY(){if(null===this.pu){const c=this.Kba;if(c){if(this.pu=new c(this),!(this.pu instanceof a))throw new TypeError("script interface class must derive from IBehavior");}else this.pu=
new a(this)}return this.pu}}}"use strict";{const e=self.B;e.Hka=class extends e.aa{constructor(a){super();this.g=a.I();this.Fc=a;this.M=a.K();this.Ih=a.ol();this.Ih.b5(this.M)}m(){this.Ih=this.M=this.Fc=this.g=null}og(){return this.Fc}K(){return this.M}I(){return this.g}ol(){return this.Ih}}}"use strict";
{const e=self.B;e.Gka=class extends e.aa{constructor(a,c){super();this.$y=a;this.hu=c;this.qa=a.qa;this.g=a.I();this.Fc=a.og();this.kd=this.Fc.kd;this.IR=this.zu=this.xk=!1;this.tf=null}m(){this.Py();this.KF();this.P$();this.tf&&(this.tf.m(),this.tf=null);this.kd=this.Fc=this.g=this.qa=this.$y=null}ol(){return this.Fc.ol()}K(){return this.qa.K()}C(){return this.qa.C()}I(){return this.g}og(){return this.Fc}tl(){return this.$y.tl()}na(a){return this.g.na(a,this.qa,this.Fc)}Xd(a){return this.g.Xd(a,
this.qa,this.Fc)}Oe(){}Oy(){this.xk||(this.g.W4(this),this.xk=!0)}Py(){this.xk&&(this.g.r9(this),this.xk=!1)}KF(){this.zu&&(this.g.s9(this),this.zu=!1)}P$(){this.IR&&(this.g.q9(this),this.IR=!1)}Vc(){return null}Kc(){}pc(){}vg(){}XD(a,c){if(0!==c){var f=this.pc(a);if("number"!==typeof f)throw Error("expected number");this.vg(a,f+c)}}Jj(){return null}}}"use strict";
{const e=self.B;e.D={};e.Cp={};e.Q1=class extends e.aa{constructor(a){super();this.g=a;this.maa=[];this.rS=new Map;this.xd=null;this.jaa=[];this.eG=new Map;this.OR=this.MS=null}pW(a){const c=this.g.sg(a[0]);if(!c)throw Error("missing plugin");e.XU(a,c);a=e.A(c,{nc:this.g,QT:a[1],gda:a[2],fda:a[5],Rca:a[8],wda:a[9],lea:a[13],kea:a[14]});this.maa.push(a);this.rS.set(c,a)}rW(){this.xd=e.A(e.D.eb,{nc:this.g,QT:!0})}kW(a){a=this.g.sg(a[1]);if(!a)throw Error("missing behavior");const c=e.A(a,{nc:this.g});
this.jaa.push(c);this.eG.set(a,c);!this.MS&&e.Cp.gea&&c instanceof e.Cp.gea?this.MS=c:!this.OR&&e.Cp.ida&&c instanceof e.Cp.ida&&(this.OR=c)}sZ(a){return this.rS.get(a)||null}PZ(a){return this.eG.has(a)}xY(a){return this.eG.get(a)||null}Rs(){return this.xd}}}"use strict";
{const e=self.B,a=new Set;e.yD=class extends e.aa{constructor(){super();this.Hr="";this.N=this.R=this.vA=this.uA=this.ji=this.gv=0;this.Jz=!1;this.vo=null;this.Xo="";this.Sg=e.A(e.Rect);a.add(this)}m(){this.Uj();this.vo=null;a.delete(this)}static Rx(){for(const c of a)c.Xo="",c.Sg.set(0,0,0,0)}z0(c){this.Hr=c[0];this.gv=c[1];this.ji=c[2];this.uA=c[3];this.vA=c[4];this.R=c[5];this.N=c[6];this.Jz=!0}y0(c){this.Hr=c[0];this.gv=c[1];this.uA=c[2];this.vA=c[3];this.R=c[4];this.N=c[5];this.ji=c[11];this.Jz=
!0}xn(){return this.gv}ua(){return this.R}ra(){return this.N}async SD(c,f){if(!this.vo)throw Error("no asset");if(this.Xo)throw Error("already loaded texture");this.Xo="loading";c=await this.vo.SD(c,f);if(!c)return this.Xo="",null;this.Xo="loaded";this.Jz||(this.R=c.ua(),this.N=c.ra(),this.Jz=!0);this.Sg.set(this.uA,this.vA,this.uA+this.R,this.vA+this.N);this.Sg.Wk(c.ua(),c.ra());return c}Uj(){this.Xo&&(this.vo&&this.vo.Uj(),this.Xo="",this.Sg.set(0,0,0,0))}Lf(){return this.vo?this.vo.Lf():null}}}"use strict";
{const e=self.B;e.nV=class extends e.aa{constructor(a){super();this.W=a[0];this.oH=!!a[2];this.rr=a[3];this.kb=a[6];this.Ez=a[7].map(c=>e.A(e.mV,c))}m(){for(const a of this.Ez)a.m();e.G(this.Ez)}XY(){var a=Math.floor(0);if(0>a||a>=this.Ez.length)throw new RangeError("invalid frame");return this.Ez[a]}un(){return this.rr}}}"use strict";
{const e=self.B;e.mV=class extends e.aa{constructor(a){super();this.uf=e.A(e.yD);this.uf.y0(a);this.oS=e.A(e.TE,a[7],a[8]);this.Oaa=a[9].map(c=>e.A(e.o_,this,c));this.Paa=new Map;for(const c of this.Oaa)this.Paa.set(c.W.toLowerCase(),c);this.hz=null;a=a[10];6<=a.length&&(this.hz=e.A(e.Fp,a))}m(){this.hz&&(this.hz.m(),this.hz=null);this.uf.m();this.uf=null}mx(){return this.uf}Ms(){return this.oS.ia}Ns(){return this.oS.Y}}}"use strict";
{const e=self.B;e.o_=class extends e.aa{constructor(a,c){super();this.W=c[0];this.tS=e.A(e.TE,c[1],c[2])}m(){}Ta(){return this.tS.ia}Ua(){return this.tS.Y}}}"use strict";
{const e=self.B,a=self.Ci,c=self.UL;e.VD=class extends e.aa{constructor(f,b,d){super();const m=f.sg(d[1]);this.g=f;this.Og=f.No.sZ(m);this.kd=null;this.Pz=m.Instance;this.Oa=b;this.kb=d[11];this.W=d[0];this.Du=this.g.ph(d[14]);this.Xaa=!!d[9];this.fb=!!d[2];this.Zaa=!!d[10];this.$h=d[3].map(k=>({BU:k[0],type:k[1],name:k[2],hda:f.ph(k[3])}));this.paa=d[4];this.Haa=d[5];this.bi=this.Og.bi;this.Na=null;this.waa=e.A(e.g4,f.Ng,f.Mg);this.JG=this.Nq=null;this.Uh=-1;this.IG=this.wz=this.xz=this.HG=this.Gg=
null;this.kH=!1;this.Mh=null;this.OQ=d[8].map(k=>e.tK.Pa(this,k));this.az=[];this.fG=new Map;this.dG=new Map;this.ZS=new Set;this.xm=e.A(e.d4,this);this.ZF=this.YF=this.Vl=this.uf=this.Mh=this.Hq=null;this.Br=0;this.yb=new Map;this.KI=new Map;this.H=[];this.WG=!0;this.Og.qD()&&(this.Na=e.A(e.zj,this,d[12]));d[6]&&(this.uf=e.A(e.yD),this.uf.z0(d[6]));if(d[7]){this.Vl=d[7].map(k=>e.A(e.nV,k));this.YF=new Map;this.ZF=new Map;for(const k of this.Vl)this.YF.set(k.W.toLowerCase(),k),this.ZF.set(k.kb,k)}this.fb?
(this.Nq=[],this.JG=new Set,this.Uh=this.g.k7()):(this.Gg=[],this.HG=new Set,this.xz=[],this.wz=[],this.IG=[]);this.kd=e.A(m.Rn,this,d[15]);this.ER=this.ru=null;this.Rd=e.A(e.Event.oc);if(b=this.kd.Jj()){if(this.ru=new b(this),!(this.ru instanceof c))throw new TypeError("script interface class must derive from IObjectClass");}else this.ru=new c(this);this.Og.km&&(this.Og.G$(this),this.K5(d))}static Pa(f,b,d){return e.A(e.VD,f,b,d)}m(){this.uf&&(this.uf.m(),this.uf=null);if(this.Vl){for(const f of this.Vl)f.m();
e.G(this.Vl);this.YF.clear();this.ZF.clear()}this.xm.m();this.xm=null;this.yb.clear();this.KI.clear();this.g=this.Mh=null}W7(f){for(let b=1,d=f.length;b<d;++b){const m=this.g.He(f[b]);this.Nq.push(m);this.JG.add(m);m.Gg.push(this);m.HG.add(this)}}k$(f){this.kH=!0;this.Mh=f}Dc(){return this.kH}B8(){var f=0;if(!this.fb)for(var b of this.Gg)for(var d of b.OQ){const p=d.W.toLowerCase();this.fG.set(p,d);this.dG.set(p,f);this.az.push(d);++f}for(var m of this.OQ)b=m.W.toLowerCase(),this.fG.set(b,m),this.dG.set(b,
f),this.az.push(m),++f;for(var k of this.az)this.ZS.add(k.ol().constructor);if(!this.fb&&this.Gg.length){f=this.g.aR;e.mB(this.xz,f,0);e.mB(this.wz,f,0);e.mB(this.IG,f,0);f=[];b=k=m=0;for(const p of this.Gg)if(d=p.Uh,this.xz[d]=m,m+=p.$h.length,this.wz[d]=k,k+=p.paa,this.IG[d]=b,b+=p.Haa,(d=p.Na)&&this.Na)for(const r of d.Ff())f.push(r.YV(this.Na));this.Na&&this.Na.U1(f)}}K5(f){const b=this.g.j7(),d=e.A(e.Instance,{nc:this.g,NJ:this,uid:b});d.ty(f[16],[]);this.g.o8(b,d);this.H.push(d)}TZ(){return 0<
this.Br}Zs(f){if(this.fb)return Promise.resolve();this.Br++;return 1===this.Br?this.kd.Zs(f)||Promise.resolve():Promise.resolve()}hq(){if(!this.fb){this.Br--;if(0>this.Br)throw Error("released textures too many times");0===this.Br&&this.kd.hq()}}aE(){if(this.fb)throw Error("not applicable to family");this.kd.aE()}dE(f){return this.fb?Promise.resolve():this.kd.dE(f)}I(){return this.g}Lb(){return this.Og}ph(){return this.Du}Da(){return this.Oa}Of(){return this.Xaa}kO(f){return f&&this.ZS.has(f)}dZ(){return this.$h.map(f=>
f.BU)}cZ(f){return this.$h.findIndex(b=>b.BU===f)}bZ(f){return this.$h.findIndex(b=>b.name===f)}a7(){return this.$h.map(f=>f.hda)}Ls(f){f=Math.floor(f);if(0>f||f>=this.$h.length)throw new RangeError("invalid instance variable index");return this.$h[f].type}xL(f){f=Math.floor(f);if(0>f||f>=this.$h.length)throw new RangeError("invalid instance variable index");return this.$h[f].name}Ww(f){return this.fG.get(f.toLowerCase())||null}Hs(f){f=this.dG.get(f.toLowerCase());return"undefined"===typeof f?-1:
f}qD(){return this.Og.qD()}lO(){return this.Na&&this.Na.LZ()}ca(){return this.xm.ca()}mx(){return this.uf}EN(f){this.Hq=f}eC(f){return this.HG.has(f)}fL(f){return this.JG.has(f)}qn(f){return this.wz[f]}rL(f){return this.xz[f]}PY(){if(!this.Vl)throw Error("no animations");return this.Vl[0].XY()}DY(){if(this.Vl){const f=this.PY().mx();return[f.ua(),f.ra()]}return this.uf?[this.uf.ua(),this.uf.ra()]:[100,100]}Kj(){if(!this.Og.km)throw Error("not a single-global plugin");return this.H[0]}ta(){return this.H}*LT(){yield*this.H}zg(f){this.H.push(f)}Ot(){this.WG=
!0}Ry(){if(this.WG&&!this.fb){var f=this.H,b=0;for(let d=f.length;b<d;++b)f[b].lQ(b);f=this.g.Ao;for(const d of f)d.K()===this&&d.lQ(b++);this.WG=!1}}wL(f){var b=this.H;if(f<b.length)return b[f];f-=b.length;b=this.g.Ao;for(const d of b)if(d.K()===this){if(0===f)return d;--f}return null}tL(f){if(f&&f.Dc()&&f.K()!==this)for(const b of f.siblings())if(b.K()===this)return b;f=this.ca().ta();return f.length?f[0]:null}qZ(f){const b=this.ca().ta();return 0<b.length?b[f.rn()%b.length]:null}*hT(f,b){const d=
this.ca().ta();var m=d.length;const k=b.ca(),p=b.ca().ta(),r=p.length;var l=f.rn();if(b.fb||!k.Oc)l=p.indexOf(f);f=Math.ceil(m/r);m%=r;0===m||l<m?(l*=f,m=f):(l=m*f+(l-m)*(f-1),m=f-1);for(let h=l,q=l+m;h<q;++h)yield d[h]}Dd(){if(this.kH&&!this.fb){this.Ry();var f=this.ca(),b=f.H,d=f.Oc,m=this.g.jf();m=m&&m.Ub()&&m.Ub().se;for(const r of this.Mh.Ek)if(r!==this){r.Ry();var k=r.ca();k.Wi(d);if(!d){var p=k.H;e.G(p);for(const l of b)p.push(r.wL(l.rn()));if(m){p=f.Zc;k=k.Zc;e.G(k);for(const l of p)k.push(r.wL(l.rn()))}}}}}V$(f,
b){for(const d of this.Mh.Ek){const m=d.ca();f?e.Ee(m.Zc,b):e.Ee(m.H,b)}}wn(){this.yb||(this.yb=new Map);return this.yb}PL(){return this.kO(e.Cp.tia)}rD(){return this.kO(e.Cp.Pia)}ea(){const f={instances:this.H.map(b=>b.Vc())};this.yb&&this.yb.size&&(f.ex=e.QE(this.yb));return f}ma(f){this.yb&&(this.yb.clear(),this.yb=null);var b=f.ex;b&&(this.yb=e.GC(b));b=this.H;f=f.instances;for(let d=0,m=Math.min(b.length,f.length);d<m;++d)b[d].Kc(f[d]);for(let d=f.length,m=b.length;d<m;++d)this.g.mn(b[d]);for(let d=
b.length,m=f.length;d<m;++d){b=f[d];let k=null;if(this.bi&&(k=this.g.$b().nx(b.w.l),!k))continue;this.g.lh(this.Hq||this,k,!1,0,0,!0).Kc(b)}this.Ot()}ng(f){var b=this.g;(b=b.Gb&&!b.ja().Ex())&&a.ME();this.Rd.dispatchEvent(f);b&&a.aC()}}}"use strict";{const e=self.B;e.fW=class extends e.aa{constructor(a,c){super();this.g=a;this.Ek=c;for(const f of this.Ek)f.k$(this)}m(){this.g=null}I(){return this.g}OZ(){return this.Ek.some(a=>a.bi)}}}"use strict";
{const e=self.B,a=self.Ci,c=self.Sp,f=[];let b=0;const d=new WeakMap,m=new WeakMap;e.Instance=class extends e.aa{constructor(k){super();this.g=k.nc;this.Nd=k.NJ;this.$d=this.Aa=this.mb=null;this.xR=0;this.ie=k.uid;this.vS=b++;this.Ha=0;this.Xc=this.Re=f;var p=this.Nd.az;0<p.length&&(this.Xc=p.map((r,l)=>e.A(e.uw,{nc:this.g,$I:r,instance:this,index:l})));this.cv=this.Nd.Dc()?[]:null;this.ve=-1;this.Mb=null;p=this.Lb();p.Hl()&&(this.Ha|=4);if(p.bi)if(this.mb=e.A(e.Q4,this,k.Cd),k.RU)this.mb.Tp(k.RU);
else{this.mb.B_();const [r,l]=this.Nd.DY();this.mb.Jd(r,l);this.K().lO()&&this.mb.ae.A0()}k.KT?this.Z7(k.KT):this.U7()}m(){this.$d&&(this.$d.Nt(),this.$d=null);if(0<this.Xc.length){for(var k of this.Xc)k.m();e.G(this.Xc)}this.Aa.m();this.Aa=null;if(k=d.get(this))k.clear(),d.delete(this);if(k=m.get(this))k.clear(),m.delete(this);this.cv&&e.G(this.cv);this.Mb&&(this.Mb.m(),this.Mb=null);this.Nd=this.g=null;0<this.Re.length&&e.G(this.Re);this.mb&&(this.mb.m(),this.mb=null)}Z7(k){0<k.length&&(this.Re=
[],e.dd(this.Re,k))}U7(){const k=this.Nd.$h.length;if(0!==k){this.Re=[];var p=[0,0,""];for(let r=0;r<k;++r)this.Re.push(p[this.Nd.Ls(r)])}}ty(k,p){if(this.Aa)throw Error("already got sdk instance");for(let r=0,l=this.Xc.length;r<l;++r)this.Xc[r].ty(p?p[r]:null);this.Aa=e.A(this.Nd.Pz,this,k);if(!(this.Aa instanceof e.Yx))throw Error("sdk type must derive from SDKInstanceBase");for(let r=0,l=this.Xc.length;r<l;++r);this.Nd.ER&&this.sP()}C(){return this.mb}I(){return this.g}vY(){const k=this.ve;return-1===
k?this.I().ve:k}EE(k){k=+k;if(0>k||!isFinite(k))k=0;this.ve=k}z2(){this.ve=-1}oc(){this.Mb||(this.Mb=e.A(e.Event.oc));return this.Mb}gf(k){this.Aa.gf(k)}w$(){this.Ha|=2}tD(){return 0!==(this.Ha&2)}pF(){this.Ha|=1}bM(){return 0!==(this.Ha&1)}Hl(){return 0!==(this.Ha&4)}ax(){return this.Aa.ax()}bx(){return this.Aa.bx()}cx(){return this.Aa.cx()}ZC(k){return this.Aa.ZC(k)}K(){return this.Nd}ts(k){return k.fb?k.fL(this.K()):this.K()===k}mO(){if(!this.Lb().TS)throw Error("object does not support scene graph");
}Mi(){return null!==this.ya()}ya(){var k=this.C();return k?(k=k.ya())?k.Ga():null:null}ux(){var k=this.C();return k?(k=k.ux())?k.Ga():null:null}*parents(){const k=this.C();if(k)for(const p of k.parents())yield p.Ga()}Je(){const k=this.C();return k?k.Je():!1}Fe(){const k=this.C();return k?k.Fe().map(p=>p.Ga()):[]}*children(){const k=this.C();if(k)for(const p of k.children())yield p.Ga()}*Nm(){const k=this.C();if(k)for(const p of k.Nm())yield p.Ga()}Zw(){const k=this.C();return k?k.Zw():0}QC(k){const p=
this.C();return p?(k=p.QC(k))?k.Ga():null:null}hl(k,p){this.mO();k.mO();this.C().hl(k.C(),p||{})}Pi(k){const p=this.C();p&&p.Pi(k.C())}dx(){const k=this.C();return k?k.dx():!1}a4(){var k=this.C();if(k&&(k=k.gI))for(const p of k)if(k=this.g.Ii(p[2])){const r=p[3];this.hl(k,{ns:!!(r>>0&1),os:!!(r>>1&1),wp:!!(r>>2&1),vp:!!(r>>3&1),ms:!!(r>>4&1),Hv:!!(r>>5&1),qs:!!(r>>6&1)})}}Dc(){return null!==this.cv}qq(k){this.cv.push(k)}XZ(k){return!!this.JL(k)}JL(k){const p=this.siblings();if(null===p||0===p.length)return!1;
for(const r of p)if(r.K()===k)return r;return null}siblings(){return this.cv}yh(){for(const k of this.siblings())k.K().ca().Zj(k)}g9(){for(const k of this.siblings())k.K().ca().Iy(k)}F$(k){for(const p of this.siblings())p.K().ca().H[k]=p}f9(){for(const k of this.siblings())k.K().ca().Xn(k)}E$(k){for(const p of this.siblings())p.K().ca().Zc[k]=p}Lb(){return this.Nd.Lb()}lQ(k){this.xR=k}rn(){this.Nd.Ry();return this.xR}lL(k){const p=this.Xc;for(let r=0,l=p.length;r<l;++r)if(p[r].og().kb===k)return r;
return-1}le(k){k|=0;const p=this.Re;if(0>k||k>=p.length)throw new RangeError("invalid instance variable");return p[k]}h7(k){const p=this.Re[k];return 0===this.Nd.Ls(k)?!!p:p}Pl(k,p){k|=0;const r=this.Re;if(0>k||k>=r.length)throw new RangeError("invalid instance variable");switch(this.Nd.Ls(k)){case 0:r[k]=p?1:0;break;case 1:r[k]="number"===typeof p?p:parseFloat(p);break;case 2:r[k]="string"===typeof p?p:p.toString();break;default:throw Error("unknown instance variable type");}}u3(k,p){if(0!==p){k|=
0;var r=this.Re;if(0>k||k>=r.length)throw new RangeError("invalid instance variable");var l=r[k];if("number"===typeof l)r[k]="number"===typeof p?r[k]+p:r[k]+parseFloat(p);else{if("boolean"===typeof l)throw Error("can not set offset of boolean variable");if("string"===typeof l)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}wn(){let k=d.get(this);if(k)return k;k=new Map;d.set(this,k);return k}mP(k){const p=this.K();if(p.Rd.pD(k))return!0;for(const r of p.Gg)if(r.Rd.pD(k))return!0;
return this.g.Rd.pD(k)?!0:!1}MF(){const k=new Set;k.add(this);const p=this.C();if(p&&p.Je())for(const r of this.Nm())if(k.add(r),r.Dc())for(const l of r.siblings())k.add(l);if(this.Dc())for(const r of this.siblings())k.add(r);for(const r of k.values())r.AQ()}AQ(){if(this.mP("instancecreate")){const k=this.K(),p=new e.Event("instancecreate");p.instance=this.rg();k.ng(p);for(const r of k.Gg)r.ng(p);this.g.ng(p)}this.g.na(this.Lb().constructor.J.u1,this,null)}T$(){this.g.na(this.Lb().constructor.J.v1,
this,null)}R6(k){if(this.$d){var p=new e.Event("destroy");p.cda=k;this.ng(p)}if(this.mP("instancedestroy")){p=this.K();var r=new e.Event("instancedestroy");r.instance=this.rg();r.cda=k;p.ng(r);for(const l of p.Gg)l.ng(r);this.g.ng(r)}}Vc(k="full"){const p={};"full"===k?p.uid=this.ie:p.c3=!0;if("visual-state"!==k){var r=d.get(this);r&&r.size&&(p.ex=e.QE(r));-1!==this.ve&&(p.mts=this.ve);if(0<this.Nd.$h.length){r={};var l=this.Nd.dZ();for(let h=0,q=this.Re.length;h<q;++h)r[l[h].toString()]=this.Re[h];
p.ivs=r}if(this.Xc.length){r={};for(const h of this.Xc)(l=h.Vc())&&(r[h.og().kb.toString()]=l);p.behs=r}}this.mb&&(p.w=this.mb.ea(k));(k=this.Aa.Vc())&&(p.data=k);return p}Gy(k="full"){this.mb&&this.mb.Gy(k)}Kc(k,p="full"){if("full"===p)this.ie=k.uid;else if(!k.c3)return;if("visual-state"!==p){var r=d.get(this);r&&(r.clear(),d.delete(this));if(r=k.ex)r=e.GC(r),d.set(this,r);this.ve=k.hasOwnProperty("mts")?k.mts:-1;if(r=k.ivs)for(const [q,t]of Object.entries(r))if(r=this.Nd.cZ(parseInt(q,10)),!(0>
r||r>=this.Re.length)){var l=t;null===l&&(l=NaN);this.Re[r]=l}}if(this.Lb().bi){r=k.w;var h=r.l;this.mb.za().kb!==h&&(l=this.mb.za(),(h=l.Jf().nx(h))?(this.mb.Pt(h),l.Yn(this,!0),h.zg(this,!0),h.Vf(),this.mb.Bb()):"full"===p&&this.g.mn(this));this.mb.ma(r,p)}if("visual-state"!==p&&(p=k.behs))for(const [q,t]of Object.entries(p))p=this.lL(parseInt(q,10)),0>p||p>=this.Xc.length||this.Xc[p].Kc(t);(k=k.data)&&this.Aa.Kc(k)}rg(){return this.$d||this.sP()}sP(){var k=this.mb?self.xD:c;const p=this.Aa.Jj(),
r=this.Nd.ER,l=r||p||k;c.Ch(this);this.$d=new l;c.Ch(null);if(p&&!(this.$d instanceof k))throw new TypeError(`script interface class '${p.name}' does not extend the right base class '${k.name}'`);if(r&&(k=p||k,!(this.$d instanceof k)))throw new TypeError(`setInstanceClass(): class '${r.name}' does not extend the right base class '${k.name}'`);return this.$d}g7(k){if(0!==this.Re.length){var p={},r=this.Nd.a7();for(let l=0,h=r.length;l<h;++l)p[r[l]]={configurable:!1,enumerable:!0,get:e.Instance.prototype.h7.bind(this,
l),set:e.Instance.prototype.Pl.bind(this,l)};p=Object.create(Object.prototype,p);k.ioa={value:p,writable:!1}}}b7(k){var p=this.Xc;if(0!==p.length){var r={};for(const l of p)r[l.og().ph()]={value:l.tl(),writable:!1};p=Object.create(Object.prototype,r);k.Fv={value:p,writable:!1}}}ng(k){k.instance=this.rg();var p=this.g;(p=p.Gb&&!p.ja().Ex())&&a.ME();this.rg().dispatchEvent(k);p&&a.aC()}}}"use strict";
{const e=self.B;e.N2=class extends e.aa{constructor(a){super();this.Xb=a;this.kc=null;this.ez=[];this.QA=a.ua();this.MA=a.ra();this.OA=this.NA=1;this.wA=0}m(){this.kc=null;e.G(this.ez)}RN(a){this.wA=(this.kc=a)?a.Qa():0}ya(){return this.kc}Je(){return 0<this.ez.length}Fe(){return this.ez}K3(a){this.NA=a}L3(a){this.OA=a}Ki(){return this.Xb.yl()?this.kc.ua()/this.kc.wb.QA:1}Li(){return this.Xb.xl()?this.kc.ra()/this.kc.wb.MA:1}ea(){return{sw:this.QA,sh:this.MA,sx:this.NA,sy:this.OA,psa:this.wA,c:this.ez.map(a=>
{let c="";a.yn()&&(c+="x");a.zn()&&(c+="y");a.yl()&&(c+="w");a.xl()&&(c+="h");a.wx()&&(c+="a");a.xx()&&(c+="z");a.dx()&&(c+="d");return{uid:a.Ga().ie,f:c}})}}ma(a){this.QA=a.sw;this.MA=a.sh;this.NA=a.sx;this.OA=a.sy;this.wA=a.psa}tF(a){const c=this.Xb,f=c.I();for(const b of a.c){a=f.Ii(b.uid).C();const d=b.f,m={};m.ns=d.includes("x");m.os=d.includes("y");m.wp=d.includes("w");m.vp=d.includes("h");m.ms=d.includes("a");m.qs=d.includes("z");m.Hv=d.includes("d");c.hl(a,m)}}}}"use strict";
{const e=self.B,a=e.A(e.Rect);e.A(e.Le);const c=e.A(e.Event,"bboxchange",!1),f=e.A(e.hb,0,0,0,0),b=e.A(e.Fp),d=e.A(e.hb,1,1,1,1),m=e.A(e.Rect,0,0,-1,-1),k=e.A(e.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),r=[];let l=!0;e.Q4=class extends e.aa{constructor(h,q){super();this.qa=h;this.M=h.K();this.g=h.I();this.fj=q;this.qj=-1;this.Ha=196635;this.M.Lb().Vs()&&(this.Ha|=128);this.kr=this.jr=this.qG=this.lI=this.Xa=this.Yh=this.si=this.Hc=this.Y=this.ia=NaN;this.jG=e.A(e.Rect);this.kG=e.A(e.Le);
this.RQ=k;this.Yu=m;this.ki=this.Er=this.oI=null;this.io=this.bb=d;this.ae=this.Uo=null;this.qa.K().lO()&&(this.ae=e.A(e.P_,this.qa,this));this.gI=this.wb=null;this.hI=this.CS=NaN;this.fi=null}pF(){this.Ha|=256}m(){this.Uo&&(this.g.Ps().bN(this.Uo),this.Uo=null);this.oI=null;this.Er&&(this.Er.hU.m(),this.Er=null);this.ki&&(this.ki.clear(),this.ki=null);this.Vx();this.Mi()&&this.ya().Pi(this);if(this.Je()){const h=[...this.Fe()];for(const q of h)this.Pi(q)}this.Jy();this.fj=this.g=this.M=this.qa=null}Tp(h){l=
!1;this.Pn(h[0],h[1]);this.pf(h[2]);this.Jd(h[3],h[4]);this.Vs()?this.oe(h[6]):this.Xa=0;f.dl(h[7]);this.Ly(f);this.AE(h[8]);this.BE(h[9]);this.Qf(h[10]);this.ae&&this.ae.V7(h[12]);h[14]&&(this.gI=h[14][1],this.CS=h[14][2]);if(h[15]){var q=h[15];this.wC(q[0],q[1]);h=this.ul();q=q[2];for(let t=0,v=q.length;t<v;++t){const z=q[t];for(let A=0,F=z.length;A<F;++A){const x=z[A],E=h.Pp(A,t);E.Ah(x[0]);E.Bh(x[1]);E.pf(x[2]);E.FE(x[3]);E.GE(x[4])}}}l=!0;this.xq()}B_(){this.lI=this.Xa=this.Yh=this.si=this.Hc=
this.Y=this.ia=0;this.qG=1;this.kr=this.jr=0;this.xq()}I(){return this.g}K(){return this.M}Ga(){return this.qa}Ht(){return this.wx()?this.ya().Qa()-this.wb.wA:0}Ah(h){h=+h;if(this.yn()){const q=this.wb;h-=this.Ta();const t=-this.Ht();0===t?this.ia+=h/q.Ki():(this.ia+=Math.cos(t)*h/q.Ki(),this.zn()&&(this.Y+=Math.sin(t)*h/q.Li()))}else this.ia=h}o1(h){h=+h;this.yn()?this.Ah(this.Ta()+h):this.ia+=h}Ta(){if(this.yn()){let h=this.ia;const q=this.wb,t=this.ya(),v=this.Ht();0===v?h*=q.Ki():(h=h*q.Ki()*
Math.cos(v),this.zn()&&(h-=this.Y*q.Li()*Math.sin(v)));return t.Ta()+h}return this.ia}Bh(h){h=+h;if(this.zn()){const q=this.wb;h-=this.Ua();const t=-this.Ht();0===t?this.Y+=h/q.Li():(this.yn()&&(this.ia-=Math.sin(t)*h/q.Ki()),this.Y+=Math.cos(t)*h/q.Li())}else this.Y=h}p1(h){h=+h;this.zn()?this.Bh(this.Ua()+h):this.Y+=h}Ua(){if(this.zn()){let h=this.Y;const q=this.wb,t=this.ya(),v=this.Ht();0===v?h*=q.Li():(h=h*q.Li()*Math.cos(v),this.yn()&&(h+=this.ia*q.Ki()*Math.sin(v)));return t.Ua()+h}return this.Y}Pn(h,
q){h=+h;q=+q;if(this.ML()){const v=this.yn(),z=this.zn(),A=this.wb,F=h-this.Ta(),x=q-this.Ua();var t=-this.Ht();if(0===t)this.ia=v?this.ia+F/A.Ki():h,this.Y=z?this.Y+x/A.Li():q;else{const E=Math.sin(t);t=Math.cos(t);this.ia=v?z?this.ia+(t*F-E*x)/A.Ki():this.ia+t*F/A.Ki():h;this.Y=z?v?this.Y+(E*F+t*x)/A.Li():this.Y+t*x/A.Li():q}}else this.ia=h,this.Y=q}ZD(h,q){h=+h;q=+q;this.ML()?this.Pn(this.Ta()+h,this.Ua()+q):(this.ia+=h,this.Y+=q)}OX(h,q){return this.Ta()===h&&this.Ua()===q}pf(h){h=+h;this.xx()&&
(h-=this.ya().ib());this.Hc!==h&&(this.Hc=h,this.JQ(),h=this.za(),0!==this.Hc&&h.iQ(),h.Vf())}JQ(){this.xq();if(this.Je()){const h=this.Fe();for(let q=0,t=h.length;q<t;q++){const v=h[q];v.xx()&&v.JQ()}}}q1(h){this.pf(this.ib()+h)}ib(){return this.xx()?this.ya().ib()+this.Hc:this.Hc}wl(){return this.za().ib()+this.ib()}$j(h){h=+h;this.si=this.yl()?this.si*(h/this.ua()):h}YD(h){h=+h;this.yl()?this.$j(this.ua()+h):this.si+=h}ua(){return this.yl()?this.ya().ua()*this.si:this.si}Xj(h){h=+h;this.Yh=this.xl()?
this.Yh*(h/this.ra()):h}WD(h){h=+h;this.xl()?this.Xj(this.ra()+h):this.Yh+=h}ra(){return this.xl()?this.ya().ra()*this.Yh:this.Yh}Jd(h,q){h=+h;q=+q;this.si=this.yl()?this.si*(h/this.ua()):h;this.Yh=this.xl()?this.Yh*(q/this.ra()):q}wZ(){if(this.Mi()){const h=this.wb;return Math.min(h.Ki(),h.Li())}return 1}Vs(){return 0!==(this.Ha&128)}oe(h){h=+h;this.Vs()&&(this.wx()&&(h-=this.ya().Qa()),h=e.zd(h),this.Xa!==h&&(this.Xa=h,this.qF()))}k1(h){h=+h;0!==h&&this.Vs()&&(this.Xa=e.zd(this.Xa+h),this.qF())}qF(){this.Ha|=
262144;if(this.Je()){const h=this.Fe();for(let q=0,t=h.length;q<t;q++)h[q].qF()}}Qa(){return this.wx()?e.zd(this.ya().Qa()+this.Xa):this.Xa}FP(){const h=this.Ha;if(0!==(h&262144)){var q=this.Qa();this.lI=Math.sin(q);this.qG=Math.cos(q);this.Ha=h&-262145}}mD(){this.FP();return this.lI}RC(){this.FP();return this.qG}AE(h){this.jr=+h}m1(h){this.jr+=+h}Ms(){return this.jr}BE(h){this.kr=+h}n1(h){this.kr+=+h}Ns(){return this.kr}Ly(h){this.bb.cd(h)||(this.bb===d?(this.bb=e.A(e.hb,h),this.io=e.A(e.hb,h),this.io.UJ()):
h.Jv(1,1,1,1)?this.io=this.bb=d:(this.bb.set(h),this.io.set(h),this.io.UJ()),this.xq())}Yj(h){h=e.xa(+h,0,1);this.bb.ep!==h&&(f.Om(this.bb),f.ep=h,this.Ly(f))}l1(h){this.Yj(this.Ie()+h)}Ie(){return this.bb.ep}WN(h){this.bb.Tm(h)||(f.Om(h),f.ep=this.bb.ep,this.Ly(f))}X3(h,q,t){f.iw(h,q,t);this.WN(f)}eD(){return this.io}dx(){return 0!==(this.Ha&512)}f3(h){this.qf(512,h)}yn(){return 0!==(this.Ha&1024)}S3(h){this.qf(1024,h)}zn(){return 0!==(this.Ha&2048)}ML(){return 0!==(this.Ha&3072)}T3(h){this.qf(2048,
h)}yl(){return 0!==(this.Ha&4096)}R3(h){this.qf(4096,h)}xl(){return 0!==(this.Ha&8192)}Q3(h){this.qf(8192,h)}wx(){return 0!==(this.Ha&16384)}P3(h){this.qf(16384,h)}xx(){return 0!==(this.Ha&32768)}U3(h){this.qf(32768,h)}DO(){this.Ha&=-65025}hl(h,q){if(h!==this&&!h.Mi()&&!this.oP(h)&&!this.nP(h)){var t=h.Ta(),v=h.Ua(),z=h.ua(),A=h.ra(),F=h.Qa(),x=h.ib();h.pQ(this);h.S3(q.ns);h.T3(q.os);h.R3(q.wp);h.Q3(q.vp);h.P3(q.ms);h.U3(q.qs);h.f3(q.Hv);q.ns&&(h.ia=t-this.Ta(),q.wp&&(h.ia/=this.ua()/this.wb.QA));
q.os&&(h.Y=v-this.Ua(),q.vp&&(h.Y/=this.ra()/this.wb.MA));q.wp&&(h.si=z/this.ua(),h.wb.K3(h.si));q.vp&&(h.Yh=A/this.ra(),h.wb.L3(h.Yh));q.ms&&(h.Xa=F-this.Qa());q.qs&&(h.Hc=x-this.ib());this.X4(h);this.Bb()}}Pi(h){if(h.ya()===this){var q=h.Ta(),t=h.Ua(),v=h.ua(),z=h.ra(),A=h.Qa(),F=h.ib();h.pQ(null);h.DO();h.Pn(q,t);h.Jd(v,z);h.oe(A);h.pf(F);this.t9(h);this.Bb()}}z9(){for(var h of this.children())this.Pi(h);(h=this.ya())&&h.Pi(this);this.DO()}Mi(){return null!==this.ya()}ya(){const h=this.wb;return null!==
h?h.ya():null}ux(){let h=this;for(;h.Mi();)h=h.ya();return h}*parents(){let h=this.ya();for(;h;)yield h,h=h.ya()}QZ(h){return this.Fe().includes(h)}Je(){const h=this.wb;return null!==h?h.Je():!1}Fe(){const h=this.wb;return null!==h?h.Fe():r}children(){return this.Fe()}*Nm(){for(const h of this.children())yield h,yield*h.Nm()}Zw(){return this.Fe().length}QC(h){const q=this.Fe();h=Math.floor(+h);return 0>h||h>=q.length?null:q[h]}aF(h){this.wb||(this.wb=e.A(e.N2,this));h&&this.wb.RN(h)}Jy(){this.wb&&
(this.wb.m(),this.wb=null)}pQ(h){h?(h.aF(null),this.aF(h)):(this.wb&&this.wb.RN(null),this.Je()||this.Jy())}nP(h){if(!this.Mi())return!1;const q=this.ya();return q===h?!0:q.nP(h)}oP(h){if(this.QZ(h))return!0;for(const q of this.Fe())if(q.oP(h))return!0;return!1}X4(h){this.wb.Fe().push(h)}t9(h){const q=this.wb.Fe(),t=q.indexOf(h);-1!==t&&q.splice(t,1);0!==q.length||this.Mi()||this.Jy();h.Je()||h.Jy()}CE(h){this.hI=h}xq(){if(l){var h=this.g.Ps();this.Uo&&h.bN(this.Uo);this.Uo=h.UU(h.LA||"<default>",
this.pg(),this.io,this.ib())}}zl(){return this.bb===d}Qf(h){h|=0;if(0>h||31<h)throw new RangeError("invalid blend mode");this.pg()!==h&&(this.Ha=this.Ha&-2080374785|h<<26,this.xq())}pg(){return(this.Ha&2080374784)>>26}Pt(h){this.fj=h;0!==this.ib()&&this.fj.iQ()}za(){return this.fj}Jf(){return this.za().Jf()}Ny(h){this.qj=h|0}Lj(){this.fj.Sy();return this.qj}qf(h,q){this.Ha=q?this.Ha|h:this.Ha&~h}fc(){return 0!==(this.Ha&1)}Uf(h){this.qf(1,h)}CD(){return 0!==(this.Ha&8)}b3(h){h=!!h;this.CD()!==h&&
(this.qf(8,h),h?this.Bb():this.UP())}J3(h,q){this.qf(32,h);this.ki&&this.ki.clear();if(q.trim()){this.ki||(this.ki=new Set);for(const t of q.split(" "))t&&this.ki.add(t.toLowerCase())}else this.ki=null}Bb(){this.Ha|=65554;this.g.ba();this.fj.cp&&(this.hC(this.jG,this.kG,!0),this.Ha&=-3,this.aaa());0!==(this.Ha&4)&&this.qa.oc().dispatchEvent(c);if(null!==this.wb){const h=this.wb.Fe();for(let q=0,t=h.length;q<t;++q)h[q].Bb()}}hC(h,q,t){const v=this.Ta(),z=this.Ua(),A=this.ua(),F=this.ra(),x=this.Qa();
h.eh(v-this.jr*A,z-this.kr*F,A,F);t&&this.uh()&&this.L6(h);0===x?q.bn(h):(h.offset(-v,-z),q.uU(h,this.mD(),this.RC()),q.offset(v,z),q.wJ(h));h.normalize()}DQ(){const h=this.Ha;0!==(h&2)&&(this.hC(this.jG,this.kG,!0),this.Ha=h&-3)}Gf(){this.DQ();return this.jG}Xw(){this.DQ();return this.kG}X2(h){this.qf(4,h)}ZL(){return 0!==(this.Ha&4)}iM(h){return 0===this.ib()?h.MT(this.Gf()):this.L7()}L7(){const h=this.za(),q=this.wl();if(q>=h.NC())return!1;h.NL(q,a);return a.MT(this.Gf())}VZ(){return null!==this.oI||
this.uh()}CZ(){return this.d7(this.ua(),this.ra(),this.Qa(),this.mD(),this.RC())}d7(h,q,t,v,z){let A=this.Er;null===A&&(this.Er=A={hU:e.A(e.Fp),width:NaN,height:NaN,angle:NaN});const F=A.hU;if(A.width===h&&A.height===q&&A.angle===t)return F;const x=this.oI;if(this.uh()){const E=this.Ms(),I=this.Ns(),M=this.ul();let P=this.fi.$T;P||(x?(b.Ka(x),b.offset(E,I)):b.Xda(),P=M.O_(b),this.fi.$T=P);M.t4(P,F);F.offset(-E,-I);F.kK(h,q,v,z)}else x?(F.Ka(x),F.kK(h,q,v,z)):F.Zda(this.Xw(),-this.Ta(),-this.Ua());
A.width=h;A.height=q;A.angle=t;return F}OO(){this.D3();const h=this.Er;null!==h&&(h.width=NaN)}wC(h,q){h=Math.floor(h);q=Math.floor(q);if(!this.Ga().Lb().Pba)throw Error("object does not support mesh");this.Vx();this.fi={gK:e.A(e.ka.vM,h,q),IU:e.A(e.ka.vM,h,q),$T:null}}uh(){return null!==this.fi}ul(){if(!this.uh())throw Error("no mesh");return this.fi.gK}DZ(){if(!this.uh())throw Error("no mesh");return this.fi.IU}y3(){this.qf(65536,!1)}d0(){return 0!==(this.Ha&65536)}D3(){this.qf(131072,!0)}L6(h){var q=
this.fi.gK;const t=Math.min(q.oZ(),0),v=Math.min(q.pZ(),0),z=Math.max(q.mZ(),1);q=Math.max(q.nZ(),1);const A=h.width(),F=h.height();h.offsetLeft(t*A);h.offsetTop(v*F);h.Bda((z-1)*A);h.Ada((q-1)*F)}Vx(){this.fi&&(this.fi.gK.m(),this.fi.IU.m(),this.fi=null,this.OO())}PN(h,q,t){h=Math.floor(h);q=Math.floor(q);var v=t.mode||"absolute";if(!p.has(v))throw Error("invalid mode");v="relative"===v;let z=t.x,A=t.y;const F=t.nK;let x="number"===typeof t.MU?t.MU:v?0:-1;t="number"===typeof t.OU?t.OU:v?0:-1;if(!this.uh())return!1;
const E=this.ul(),I=E.Pp(h,q);if(null===I)return!1;let M=!1;"number"===typeof F&&I.ib()!==F&&(I.pf(F),M=!0);v&&(z+=h/(E.$i-1),A+=q/(E.nj-1));-1!==x||v?(v&&(x+=h/(E.$i-1)),x=e.xa(x,0,1)):x=I.gg;-1!==t||v?(v&&(t+=q/(E.nj-1)),t=e.xa(t,0,1)):t=I.ig;if(I.Ta()===z&&I.Ua()===A&&I.gg===x&&I.ig===t)return M;I.Ah(z);I.Bh(A);I.FE(x);I.GE(t);this.OO();return!0}tD(){return this.qa.tD()}JK(h,q){return this.Gf().vi(h,q)&&this.Xw().vi(h,q)?this.tD()?void 0:this.VZ()?this.CZ().vi(h-this.Ta(),q-this.Ua()):!0:!1}UP(){const h=
this.RQ;h!==k&&(this.M.waa.zt(this.qa,h,null),this.RQ=k)}aaa(){const h=this.za();if(h.cp&&0===(this.Ha&256)){var q=h.qr,t=this.Gf(),v=this.Yu;a.set(q.ck(t.T),q.dk(t.O),q.ck(t.Z),q.dk(t.U));v.cd(a)||(t=this.qa,v===m?(q.zt(t,null,a),this.Yu=e.A(e.Rect,a)):(q.zt(t,v,a),v.Ka(a)),h.G3())}}VP(){const h=this.Yu;h!==m&&(this.za().qr.zt(this.qa,h,null),this.Yu=m)}V4(){const h=this.qa,q=this.fj,t=q.H;t.length&&t[t.length-1]===h||(q.Yn(h,!1),q.zg(h,!1),this.g.ba())}T4(){const h=this.qa,q=this.fj,t=q.H;t.length&&
t[0]===h||(q.Yn(h,!1),q.c9(h),this.g.ba())}U4(h){const q=this.qa,t=this.fj;if(t.Jf()!==h.Jf())throw Error("layer from different layout");h!==t&&(t.Yn(q,!0),this.Pt(h),h.zg(q,!0),this.g.ba())}S4(h,q){const t=this.qa,v=this.fj;if(h.ie!==t.ie){var z=h.C();if(!z)throw Error("expected world instance");var A=z.za();z=!1;v.Da()!==A.Da()&&(v.Yn(t,!0),this.Pt(A),A.zg(t,!0),z=!0);h=A.V0(t,h,!!q);(z||h)&&this.g.ba()}}v$(h){this.qf(64,h)}Ts(){return 0!==(this.Ha&64)}ea(h){const q={x:this.Ta(),y:this.Ua(),w:this.ua(),
h:this.ra(),l:this.za().kb,zi:this.Lj()};0!==this.ib()&&(q.ze=this.ib());0!==this.Qa()&&(q.a=this.Qa());this.zl()||(q.c=this.bb.toJSON());.5!==this.Ms()&&(q.oX=this.Ms());.5!==this.Ns()&&(q.oY=this.Ns());0!==this.pg()&&(q.bm=this.pg());this.fc()||(q.v=this.fc());this.CD()||(q.ce=this.CD());this.ZL()&&(q.be=this.ZL());this.ae&&(q.fx=this.ae.ea());const t=0!==(this.Ha&32);t&&(q.sfi=t);this.ki&&(q.sft=[...this.ki].join(" "));this.wb&&"visual-state"!==h&&(q.sgi=this.wb.ea());this.uh()&&(q.mesh=this.ul().Vc());
return q}Gy(h){"visual-state"!==h&&this.z9()}ma(h,q){l=!1;this.Ah(h.x);this.Bh(h.y);this.$j(h.w);this.Xj(h.h);this.Ny(h.zi);this.pf(h.hasOwnProperty("ze")?h.ze:0);this.oe(h.hasOwnProperty("a")?h.a:0);h.hasOwnProperty("c")?f.dl(h.c):h.hasOwnProperty("o")?(f.Om(this.bb),f.ep=h.o):f.tp(1,1,1,1);this.Ly(f);this.AE(h.hasOwnProperty("oX")?h.oX:.5);this.BE(h.hasOwnProperty("oY")?h.oY:.5);this.Qf(h.hasOwnProperty("bm")?h.bm:0);this.Uf(h.hasOwnProperty("v")?h.v:!0);this.b3(h.hasOwnProperty("ce")?h.ce:!0);
this.X2(h.hasOwnProperty("be")?h.be:!1);this.J3(h.hasOwnProperty("sfi")?h.sfi:!1,h.hasOwnProperty("sft")?h.sft:"");this.ae&&h.hasOwnProperty("fx")&&this.ae.ma(h.fx);if(h.hasOwnProperty("sgi")&&"visual-state"!==q){this.aF(null);const t=this.wb,v=h.sgi;t.ma(v);const z=this.I().oc(),A=()=>{z.removeEventListener("afterload",A);0===(this.Ha&256)&&t.tF(v)};z.addEventListener("afterload",A)}h.hasOwnProperty("mesh")?(h=h.mesh,this.wC(h.cols,h.rows),this.ul().Kc(h)):this.Vx();this.Bb();l=!0;this.xq()}}}"use strict";
{const e=self.B;e.tK=class extends e.aa{constructor(a,c){super();const f=a.I(),b=f.No,d=f.sg(c[1]);b.PZ(d)||b.kW(c);this.g=f;this.M=a;this.Ih=b.xY(d);this.kd=null;this.Pz=d.Instance;this.kb=c[2];this.W=c[0];this.Du=this.g.ph(c[3]);this.kd=e.A(d.Rn,this)}static Pa(a,c){return e.A(e.tK,a,c)}m(){this.Ih=this.g=null;this.kd.m();this.Pz=this.kd=null}I(){return this.g}K(){return this.M}ol(){return this.Ih}ph(){return this.Du}}}"use strict";
{const e=self.B,a=self.c_;e.uw=class extends e.aa{constructor(c){super();this.g=c.nc;this.Fc=c.$I;this.Ih=this.Fc.ol();this.qa=c.instance;this.Oa=c.index;this.$d=this.Aa=null;this.Ih.zg(this.qa)}m(){this.$d&&(this.$d.Nt(),this.$d=null);this.Ih.Yn(this.qa);this.Aa.m();this.qa=this.Ih=this.Fc=this.g=this.$d=this.Aa=null}ty(c){if(this.Aa)throw Error("already got sdk instance");this.Aa=e.A(this.Fc.Pz,this,c);this.D7()}I(){return this.g}og(){return this.Fc}ol(){return this.Ih}Ag(){return this.Oa}Vc(){return this.Aa.Vc()}Kc(c){return this.Aa.Kc(c)}static JE(c,
f){var b=c.qa,d=f.qa;const m=b.K().Da(),k=d.K().Da();if(m!==k)return m-k;b=b.vS;d=d.vS;return b!==d?b-d:c.$y.Ag()-f.$y.Ag()}D7(){const c=this.Aa.Jj(),f=c||a;a.Ch(this);this.$d=new f;a.Ch(null);if(c&&!(this.$d instanceof a))throw new TypeError(`script interface class '${c.name}' does not extend the right base class '${a.name}'`);}tl(){return this.$d}}}"use strict";
{const e=self.B;e.zj=class extends e.aa{constructor(a,c){super();this.Xb=a;this.Yf=[];this.Fh=[];this.pz=new Map;this.Fg=[];this.lr=!0;for(const f of c)a=e.A(e.YK,this,f,this.Yf.length),this.Yf.push(a),this.pz.set(a.W.toLowerCase(),a),3<=f.length&&this.Fg.push(this.nF(f[2]));this.I().Z4(this)}m(){e.G(this.Yf);e.G(this.Fh);this.pz.clear();e.G(this.Fg);this.Xb=null}U1(a){if(a.length){this.Yf=a.concat(this.Yf);for(const c of a)this.pz.set(c.W.toLowerCase(),c);for(let c=0,f=this.Yf.length;c<f;++c)this.Yf[c].y$(c)}}nF(a){a=
a.slice(0);for(let c=0,f=a.length;c<f;++c){const b=a[c];if(Array.isArray(b)){const d=e.A(e.hb);d.dl(b);a[c]=d}}return a}I(){return this.Xb.I()}Tl(){e.G(this.Fh);let a=!0;for(const c of this.Yf)c.Cb&&(this.Fh.push(c),c.jb.lr||(a=!1));this.lr=a}Ff(){return this.Yf}LZ(){return 0<this.Yf.length}Ej(a){return this.pz.get(a.toLowerCase())||null}oL(a){a=Math.floor(+a);if(0>a||a>=this.Yf.length)throw new RangeError("invalid effect type index");return this.Yf[a]}Us(a){return this.oL(a).Cb}FN(a,c){this.oL(a).$x(c)}Ts(){return 0<
this.Fh.length}If(a){return this.Fg[a]}static K2(a){return a&&a instanceof e.hb?{t:"color",v:a.toJSON()}:a}static C0(a){if("object"===typeof a){if("color"===a.t){const c=e.A(e.hb);c.dl(a.v);return c}throw Error("invalid effect parameter type");}return a}static uN(a){return a.map(e.zj.K2)}static qM(a){return a.map(e.zj.C0)}Vc(){return this.Yf.map(a=>({name:a.W,active:a.Cb,params:e.zj.uN(this.Fg[a.Da()])}))}Kc(a){for(const c of a)if(a=this.Ej(c.name))a.$x(c.active),this.Fg[a.Da()]=e.zj.qM(c.params);
this.Tl()}}}"use strict";
{const e=self.B;e.YK=class extends e.aa{constructor(a,c,f){super();this.Na=a;this.Fb=c[0];this.W=c[1];this.Oa=f;this.jb=null;this.Cb=!0}m(){this.jb=this.Na=null}YV(a){a=e.A(e.YK,a,[this.Fb,this.W],-1);a.jb=this.jb;a.Cb=this.Cb;return a}qP(a){a=a.IL(this.Fb);if(!a)throw Error("failed to find shader program '"+this.Fb+"'");this.jb=a}y$(a){this.Oa=a}Da(){return this.Oa}I(){return this.Na.I()}$x(a){this.Cb=!!a}EY(){const a=[];for(let c=0,f=this.jb.bp.length;c<f;++c){const b=this.jb.qx(c);if("float"===
b||"percent"===b)a.push(0);else if("color"===b)a.push(e.A(e.hb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}"use strict";
{const e=self.B;e.P_=class extends e.aa{constructor(a,c){super();this.qa=a;this.Vba=c;this.Na=a.K().Na;this.$n=[];this.Fh=[];this.lr=!0;this.Fg=[];for(const f of this.Na.Ff())this.$n.push(!0);this.Tl()}m(){e.G(this.$n);e.G(this.Fh);e.G(this.Fg);this.Na=this.qa=null}V7(a){for(const c of a)this.Fg.push(this.nF(c))}nF(a){a=a.slice(0);for(let c=0,f=a.length;c<f;++c){const b=a[c];if(Array.isArray(b)){const d=e.A(e.hb);d.dl(b);a[c]=d}}return a}A0(){for(const a of this.Na.Ff())this.Fg.push(a.EY())}I(){return this.qa.I()}Tl(){e.G(this.Fh);
const a=this.Na.Ff(),c=this.Fh,f=this.$n;let b=!0;for(let d=0,m=a.length;d<m;++d)if(f[d]){const k=a[d];c.push(k);k.jb.lr||(b=!1)}this.lr=b;this.Vba.v$(!!c.length)}If(a){return this.Fg[a]}Us(a){return this.$n[a]}FN(a,c){this.$n[a]=!!c}Ff(){return this.Na.Ff()}ea(){return this.Na.Ff().map(a=>({name:a.W,active:this.$n[a.Da()],params:e.zj.uN(this.Fg[a.Da()])}))}ma(a){for(const c of a)if(a=this.Na.Ej(c.name))this.$n[a.Da()]=c.active,this.Fg[a.Da()]=e.zj.qM(c.params);this.Tl()}}}"use strict";
{const e=self.B;e.A(e.Fp);e.A(e.Fp);e.A(e.Le);e.A(e.Rect);e.A(e.Rect);e.ZV=class extends e.aa{constructor(a){super();this.g=a;this.Hba=[]}m(){this.g=null}CK(){e.G(this.Hba)}}}"use strict";
{const e=self.B;e.g4=class extends e.aa{constructor(a,c){super();this.mG=a;this.lG=c;this.Lh=e.A(e.bE)}m(){this.Lh.m();this.Lh=null}pl(a,c,f){let b=this.Lh.X(a,c);return b?b:f?(b=e.A(e.IZ,this,a,c),this.Lh.Set(a,c,b),b):null}ck(a){a=Math.floor(a/this.mG);return isFinite(a)?a:0}dk(a){a=Math.floor(a/this.lG);return isFinite(a)?a:0}zt(a,c,f){if(c)for(let b=c.T,d=c.Z;b<=d;++b)for(let m=c.O,k=c.U;m<=k;++m){if(f&&f.vi(b,m))continue;const p=this.pl(b,m,!1);p&&(p.ne(a),p.Fn()&&this.Lh.ys(b,m))}if(f)for(let b=
f.T,d=f.Z;b<=d;++b)for(let m=f.O,k=f.U;m<=k;++m)c&&c.vi(b,m)||this.pl(b,m,!0).AD(a)}YM(a,c){let f=this.ck(a.T);const b=this.dk(a.O),d=this.ck(a.Z);a=this.dk(a.U);if(isFinite(d)&&isFinite(a))for(;f<=d;++f)for(let m=b;m<=a;++m){const k=this.pl(f,m,!1);k&&k.BC(c)}}}}"use strict";{const e=self.B;e.IZ=class extends e.aa{constructor(a,c,f){super();this.ia=c;this.Y=f;this.H=e.A(e.cC)}m(){this.H.m();this.H=null}Fn(){return this.H.Fn()}AD(a){this.H.Kb(a)}ne(a){this.H.ys(a)}BC(a){e.Ev(a,this.H.KC())}}}"use strict";
{const e=self.B;e.tja=class{constructor(){this.rect=new e.Rect;this.Iv=0}Set(a,c,f,b){this.rect.set(a,c,f,b);this.rect.normalize();this.Iv=0;return this}}}"use strict";
{const e=self.B,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),c=new Set(["high","low"]),f=e.A(e.Le),b=e.A(e.Rect);e.AK=class extends e.aa{constructor(d){super();this.g=d;this.Sa=this.lk=null;this.kR="high-performance";this.$l=this.Zl=this.Dg=this.Eg=this.Lc=this.Yc=this.Jm=this.Km=0;this.Lq=!0;this.nk=this.pk=this.US=0;this.Faa=this.dR="letterbox-scale";this.Caa=this.Baa=0;this.Xh=this.SI="high";this.Vq=!1;this.Wt=[];this.$A=new Set;this.Gz=this.jI=
null;this.gm=this.Iz=0;this.lu=NaN;this.Hz=0;this.AH=new Map;this.IA="";this.mI=1;this.KS=e.A(e.Rect);this.nI="";this.LS=this.hv=null;this.Ju=0;this.fe=-1;this.pm=0;this.GH=m=>this.pm=m.progress;this.Xe=null;this.Ye={Sv:null,bw:null,pw:null};this.sI=this.OS=this.tI=0;this.mi="fade-in";this.rI=null;this.NS=new Promise(m=>this.rI=m)}t$(d){this.kR=d}async lg(d){this.lk=d.canvas;this.lk.addEventListener("webglcontextlost",k=>this.Mt(k));this.lk.addEventListener("webglcontextrestored",()=>this.vF());const m=
{powerPreference:this.kR,CT:!0,depth:this.g.Vk};"Android"===e.Uc.cq&&"Chromium"===e.Uc.ww&&75>e.Uc.gC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),m.IJ=1);"standard"===this.g.Dq?m.alpha=!0:(m.alpha=!1,m.HJ=!0);this.Sa=e.A(e.ka.O4,this.lk,m);await this.Sa.Bx();this.Sa.Si()||(this.Hz=NaN);this.g.wj("runtime","window-resize",k=>this.W8(k));this.g.wj("runtime","fullscreenchange",k=>this.G8(k));
this.g.wj("runtime","fullscreenerror",k=>this.H8(k));this.Vq=!!d.isFullscreen;this.Jd(d.windowInnerWidth,d.windowInnerHeight,!0);this.jI=self.C3_Shaders;await this.wP();d=!1;for(const k of this.g.UF){for(const p of k.Ff())p.qP(this.Sa),p.jb.yv&&(d=!0);k.Tl()}this.g.I$(d);this.Sa.Si()&&(this.Gz=e.A(e.ka.rO,this.Sa));this.Sa.zE(this.Lq)}async wP(){if(this.jI){var d=[];for(const [m,k]of Object.entries(this.jI))d.push(this.Sa.QK(k,e.ka.Ct.SC(),m));await Promise.all(d);this.Sa.w2();this.Sa.zh()}}m(){this.lk=
this.Sa=this.g=null}W8(d){const m=d.devicePixelRatio;this.g.jm&&(self.devicePixelRatio=m);this.g.n$(m);this.Vq=!!d.isFullscreen;this.Jd(d.innerWidth,d.innerHeight);this.g.ba()}G8(d){this.Vq=!!d.isFullscreen;this.Jd(d.innerWidth,d.innerHeight,!0);this.g.ba()}H8(d){this.Vq=!!d.isFullscreen;this.Jd(d.innerWidth,d.innerHeight,!0);this.g.ba()}Jd(d,m,k=!1){d=Math.floor(d);m=Math.floor(m);if(0>=d||0>=m)throw Error("invalid size");if(this.Km!==d||this.Jm!==m||k){this.Km=d;this.Jm=m;k=this.Is();"letterbox-scale"===
k?this.o5(d,m):"letterbox-integer-scale"===k?this.n5(d,m):"off"===k?this.l5(d,m):this.m5(d,m);this.$$(k);this.lk.width=this.Eg;this.lk.height=this.Dg;this.g.ct("canvas","update-size",{marginLeft:this.Zl,marginTop:this.$l,styleWidth:this.Yc,styleHeight:this.Lc});this.Sa.Jd(this.Eg,this.Dg,!0);for(const p of this.Wt)this.Sa.GW(p);e.G(this.Wt)}}o5(d,m){const k=this.g.Cj(),p=this.g.Ng,r=this.g.Mg,l=p/r;d/m>l?(this.Yc=Math.round(m*l),this.Lc=m,this.Zl=Math.floor((d-this.Yc)/2),this.$l=0):(this.Yc=d,this.Lc=
Math.round(d/l),this.Zl=0,this.$l=Math.floor((m-this.Lc)/2));this.Eg=Math.round(this.Yc*k);this.Dg=Math.round(this.Lc*k);this.g.wt(p,r)}n5(d,m){const k=this.g.Cj();1!==k&&(d+=1,m+=1);const p=this.g.Ng,r=this.g.Mg;var l=p/r;l=d/m>l?m*l*k/p:d/l*k/r;1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l));this.Eg=Math.round(p*l);this.Dg=Math.round(r*l);this.Yc=this.Eg/k;this.Lc=this.Dg/k;this.Zl=Math.max(Math.floor((d-this.Yc)/2),0);this.$l=Math.max(Math.floor((m-this.Lc)/2),0);this.g.wt(p,r)}m5(d,m){const k=this.g.Cj();
this.Yc=d;this.Lc=m;this.Eg=Math.round(this.Yc*k);this.Dg=Math.round(this.Lc*k);this.$l=this.Zl=0;d=this.Dj();this.g.wt(this.Yc/d,this.Lc/d)}l5(d,m){const k=this.g.Cj();this.Yc=this.g.ri;this.Lc=this.g.pi;this.Eg=Math.round(this.Yc*k);this.Dg=Math.round(this.Lc*k);this.Vq?(this.Zl=Math.floor((d-this.Yc)/2),this.$l=Math.floor((m-this.Lc)/2)):this.$l=this.Zl=0;this.g.wt(this.g.ri,this.g.pi)}$$(d){if("high"===this.SI)this.pk=this.Eg,this.nk=this.Dg,this.Xh="high";else{let k;if("off"===this.Is()){var m=
this.g.ri;k=this.g.pi}else m=this.g.Ng,k=this.g.Mg;this.Eg<m&&this.Dg<k?(this.pk=this.Eg,this.nk=this.Dg,this.Xh="high"):(this.pk=m,this.nk=k,this.Xh="low","scale-inner"===d?(d=m/k,m=this.Km/this.Jm,m<d?this.pk=this.nk*m:m>d&&(this.nk=this.pk/m)):"scale-outer"===d&&(d=m/k,m=this.Km/this.Jm,m>d?this.pk=this.nk*m:m<d&&(this.nk=this.pk/m)))}}q3(d){if(!a.has(d))throw Error("invalid fullscreen mode");this.dR=d}jx(){return this.dR}Is(){return this.Vq?this.Faa:this.jx()}GN(d){if(!c.has(d))throw Error("invalid fullscreen scaling quality");
this.SI=d}static Z6(d){switch(d){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Hi(){return this.pk}Gi(){return this.nk}zE(d){this.Lq=!!d}H$(d){this.US=d}n0(){return this.Sa.Dn()}Mt(d){console.log("[Construct 3] WebGL context lost");d.preventDefault();this.Wt=[];this.$A.clear();this.Sa.Sj();this.g.Mt()}async vF(){await this.Sa.$D();await this.wP();
for(const d of this.g.UF)for(const m of d.Ff())m.qP(this.Sa);await this.g.vF();console.log("[Construct 3] WebGL context restored")}Ud(){return this.Sa}Ij(){return"low"===this.Xh?1/this.g.Cj():this.Dj()}Dj(){const d=this.Is();if("off"===d||"crop"===d)return 1;const m=this.g.Ng,k=this.g.Mg,p=m/k,r=this.Eg/this.Dg;return"scale-inner"!==d&&r>p||"scale-inner"===d&&r<p?this.Lc/k:this.Yc/m}tE(d,m,k){m=(m||this.pk)/2+this.Baa;k=(k||this.nk)/2+this.Caa;d.cy(m,k,100*this.g.Cj());d.hy(m,k,0);d.Wx();d.At()}d3(d){const m=
this.Yc/2,k=this.Lc/2;d.cy(m,k,100);d.hy(m,k,0);d.Wx();d.At()}OC(){return this.Zl}PC(){return this.$l}Gs(d){d.depth=this.g.Vk;const m=this.Wt,k=m.findIndex(r=>r.Y_(d));let p;-1!==k?(p=m[k],m.splice(k,1)):p=this.Sa.qW(d);this.$A.add(p);return p}Kl(d){if(!this.$A.has(d))throw Error("render target not in use");this.$A.delete(d);this.Wt.push(d)}*cB(){for(const d of this.g.qb.hw())for(const m of d.Mc){const k=this.AH.get(m);k&&(yield k)}}jZ(d){if(!this.Sa.Si())return null;let m=this.AH.get(d);m||(m={name:d.W,
iK:e.A(e.ka.rO,this.Sa),hB:0,lda:0},this.AH.set(d,m));return m.iK}X$(){if(this.Sa.Si()&&0===this.gm){this.gm=this.Sa.Wh;this.lu=NaN;for(const d of this.cB())d.hB=NaN}}caa(){if(this.Sa.Si()&&isNaN(this.lu)&&(this.lu=this.Gz.vL(this.Iz,this.gm),!isNaN(this.lu))){if(this.g.Gb)for(const d of this.cB())if(d.hB=d.iK.vL(this.Iz,this.gm),isNaN(d.hB))return;this.Gz.VK(this.gm);this.Hz=Math.min(this.lu,1);if(this.g.Gb){for(const d of this.cB())d.iK.VK(this.gm),d.lda=Math.min(d.hB,1);self.Ci.uma(this.Hz,[...this.cB()])}this.Iz=
this.gm;this.gm=0}}lx(){return this.Hz}ZN(d,m,k,p,r,l){this.IA=d;this.mI=m;this.KS.eh(k,p,r,l);return this.hv?this.hv:this.hv=new Promise(h=>{this.LS=h})}s8(){if(this.IA){var d=this.lk,m=this.KS,k=e.xa(Math.floor(m.T),0,d.width),p=e.xa(Math.floor(m.O),0,d.height),r=m.width();r=0===r?d.width-k:e.xa(Math.floor(r),0,d.width-k);m=m.height();m=0===m?d.height-p:e.xa(Math.floor(m),0,d.height-p);(0!==k||0!==p||r!==d.width||m!==d.height)&&0<r&&0<m&&(d=e.lg(r,m),d.getContext("2d").drawImage(this.lk,k,p,r,m,
0,0,r,m));e.xw(d,this.IA,this.mI).then(l=>{this.nI=URL.createObjectURL(l);this.hv=null;this.LS(this.nI)});this.IA="";this.mI=1}}A_(d){2===d?(this.Xe=e.A(e.ka.jE,this.Sa),this.Xe.KN(),this.Xe.vE("Arial"),this.Xe.wE(16),this.Xe.IN("center"),this.Xe.XN("center"),this.Xe.Jd(300,200)):0===d?(d=this.g.dr)&&d.SD(this.Sa).catch(m=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",m)):4===d&&(this.g8().then(m=>{"done"===this.mi?this.Sa.Fi(m):this.Ye.Sv=m}).catch(m=>console.warn("Failed to load splash image: ",
m)),this.vP("splash-images/splash-poweredby-512.png").then(m=>{"done"===this.mi?this.Sa.Fi(m):this.Ye.bw=m}).catch(m=>console.warn("Failed to load splash image: ",m)),this.vP("splash-images/splash-website-512.png").then(m=>{"done"===this.mi?this.Sa.Fi(m):this.Ye.pw=m}).catch(m=>console.warn("Failed to load splash image: ",m)))}async g8(){var d=(new URL("splash-images/splash-logo.svg",this.g.MC())).toString();d=await e.Bj(d);d=await this.g.d2(d);return await this.Sa.Jw(d,{Tv:"high"})}async vP(d){d=
(new URL(d,this.g.MC())).toString();d=await e.Bj(d);return await this.Sa.Jw(d,{Tv:"high"})}uD(){this.g.ct("runtime","hide-cordova-splash")}h4(){this.Ju=Date.now();this.g.oc().addEventListener("loadingprogress",this.GH);this.fe=requestAnimationFrame(()=>this.TO());3!==this.g.cr&&this.uD()}async NX(){this.pm=1;const d=this.g.cr;4===d&&await this.NS;this.NS=this.rI=null;-1!==this.fe&&(cancelAnimationFrame(this.fe),this.fe=-1);this.g.oc().removeEventListener("loadingprogress",this.GH);this.GH=null;this.Xe&&
(this.Xe.m(),this.Xe=null);this.g.h2();this.Sa.xt();this.Ye.Sv&&(this.Sa.Fi(this.Ye.Sv),this.Ye.Sv=null);this.Ye.bw&&(this.Sa.Fi(this.Ye.bw),this.Ye.bw=null);this.Ye.pw&&(this.Sa.Fi(this.Ye.pw),this.Ye.pw=null);this.Sa.us();this.Sa.Es();this.mi="done";this.Iz=this.Sa.Wh;3===d&&this.uD()}TO(){if(-1!==this.fe){var d=this.Sa;d.xt();this.fe=-1;var m=this.g.td.TG,k=this.g.cr;3!==k&&(this.d3(d),d.us(),d.iq(),d.zh(),d.Sf(null));if(0===k)this.C6(m);else if(1===k)this.wy(m,120,0);else if(2===k)this.B6(m);
else if(3===k)e.noop();else if(4===k)this.D6(m);else throw Error("invalid loader style");d.Es();this.fe=requestAnimationFrame(()=>this.TO())}}B6(d){d?this.Xe.BN(1,0,0):this.Xe.BN(.6,.6,.6);this.Xe.Sl(Math.round(100*this.pm)+"%");d=this.Yc/2;const m=this.Lc/2;f.zU(d-150,m-100,d+150,m+100);this.Sa.Sf(this.Xe.Lf());this.Sa.Jn(f,this.Xe.Sg)}wy(d,m,k){const p=this.Sa;p.AN();d?p.Me(1,0,0,1):p.Me(.118,.565,1,1);d=this.Yc/2;const r=this.Lc/2,l=m/2;b.eh(d-l,r-4+k,Math.floor(m*this.pm),8);p.Rect(b);b.eh(d-
l,r-4+k,m,8);b.offset(-.5,-.5);b.uB(.5,.5);p.Me(0,0,0,1);p.pM(b);b.uB(1,1);p.Me(1,1,1,1);p.pM(b)}C6(d){var m=this.g.dr;if(m)if(m=m.Lf()){var k=m.ua(),p=m.ra(),r=this.Yc/2,l=this.Lc/2,h=k/2;p/=2;f.zU(r-h,l-p,r+h,l+p);this.Sa.Sf(m);this.Sa.Le(f);this.wy(d,k,p+16)}else this.wy(d,120,0);else this.wy(d,120,0)}D6(d){const m=this.Sa,k=this.Ye.Sv,p=this.Ye.bw,r=this.Ye.pw,l=Date.now();0===this.tI&&(this.Ju=l);const h=this.g.Xp()||this.g.Vaa&&!this.g.Z_(),q=h?0:200,t=h?0:3E3;let v=1;"fade-in"===this.mi?v=
Math.min((l-this.Ju)/300,1):"fade-out"===this.mi&&(v=Math.max(1-(l-this.sI)/300,0));m.AN();m.Me(.231*v,.251*v,.271*v,v);b.set(0,0,this.Yc,this.Lc);m.Rect(b);const z=Math.ceil(this.Yc),A=Math.ceil(this.Lc);let F;256<this.Lc?(m.Me(.302*v,.334*v,.365*v,v),F=Math.max(.005*A,2),b.eh(0,.8*A-F/2,z,F),m.Rect(b),d?m.Me(v,0,0,v):m.Me(.161*v,.953*v,.816*v,v),d=z*this.pm,b.eh(.5*z-d/2,.8*A-F/2,d,F),m.Rect(b),m.Me(v,v,v,v),m.zh(),p&&(d=1.5*e.xa(.22*A,105,.6*z),F=d/8,b.eh(.5*z-d/2,.2*A-F/2,d,F),m.Sf(p),m.Rect(b)),
k&&(F=d=Math.min(.395*A,.95*z),b.eh(.5*z-d/2,.485*A-F/2,d,F),m.Sf(k),m.Rect(b)),r&&(d=1.5*e.xa(.22*A,105,.6*z),F=d/8,b.eh(.5*z-d/2,.868*A-F/2,d,F),m.Sf(r),m.Rect(b))):(m.Me(.302*v,.334*v,.365*v,v),F=Math.max(.005*A,2),b.eh(0,.85*A-F/2,z,F),m.Rect(b),d?m.Me(v,0,0,v):m.Me(.161*v,.953*v,.816*v,v),d=z*this.pm,b.eh(.5*z-d/2,.85*A-F/2,d,F),m.Rect(b),m.Me(v,v,v,v),m.zh(),k&&(F=d=.55*A,b.eh(.5*z-d/2,.45*A-F/2,d,F),m.Sf(k),m.Rect(b)));this.tI++;"fade-in"===this.mi&&300<=l-this.Ju&&2<=this.tI&&(this.mi="wait",
this.OS=l);"wait"===this.mi&&l-this.OS>=t&&1<=this.pm&&(this.mi="fade-out",this.sI=l);("fade-out"===this.mi&&l-this.sI>=300+q||h&&1<=this.pm&&500>l-this.Ju)&&this.rI()}}}"use strict";
{const e=self.B,a=self.Ci,c={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let f=!0;e.qN=class extends e.aa{constructor(b){b=Object.assign({},c,b);super();this.Ou=b.messagePort;this.oaa=b.baseUrl;this.jm=!!b.isInWorker;f=b.ife;this.em=b.exportType;this.LR=!!b.isiOSCordova;this.Vaa=!!b.isFBInstantAvailable;this.xba=b.opusWasmScriptUrl;this.nS=b.opusWasmBinaryUrl;this.re=this.uaa=this.Gb=!("preview"!==this.em||!b.isDebug);this.tG=0;this.RF=
[];this.iaa=[];this.ZH=this.uS=this.CA="";this.Mg=this.Ng=0;this.WQ=self.devicePixelRatio;this.cr=this.pi=this.ri=this.UH=this.TH=0;this.OI=!1;this.cj=!0;this.NI=!1;this.dr=null;this.td=e.A(e.vV,this,b);this.qb=e.A(e.r0,this);this.oa=e.A(e.VX,this);this.No=e.A(e.Q1,this);this.gz=e.A(e.ZV,this);this.zb=e.A(e.r4,this);this.zI=e.A(e.v4,this);this.Ec=[];this.QH=new Map;this.RH=new Map;this.aR=0;this.kaa=[];this.UF=[];this.Gq=[];this.Ao=[];this.Rz=new Map;this.Kz=!1;this.Qu=this.SH=0;this.zo=new Map;this.Bo=
new Set;this.Sz=new Set;this.tA=[];this.NR=[];this.fa=null;this.Vk=!1;this.KG="vsync";this.Dq="standard";this.wd="trilinear";this.Wq=!1;this.OH=!0;this.pH=this.pS=!1;this.Qba={cU:d=>{this.Lk=this.fe=-1;this.Oe(d)},nea:d=>{this.Lk=-1;this.Oe(d,!1,"skip-render")},Rda:()=>{this.fe=-1;this.cN()}};this.Lk=this.fe=-1;this.sz=this.zm=0;this.vR=this.aA=this.Lz=!1;this.nH=!0;this.yr=0;this.Gba=()=>Math.random();this.oz=this.dm=this.lA=this.PA=0;this.ve=1;this.hS=30;this.OG=e.A(e.OD);this.RI=e.A(e.OD);this.Cz=
-1;this.qA=this.zk=this.Bz=this.to=0;this.dj=!1;this.Iu=this.Zu="";this.br=null;this.Io="";this.fI=this.YH=null;this.Mb=e.A(e.Event.oc);this.yG=new Map;this.WH=new Map;this.mba=0;this.JR=!1;this.QI=[];this.qo={pretick:e.A(e.Event,"pretick",!1),tick:e.A(e.Event,"tick",!1),tick2:e.A(e.Event,"tick2",!1),instancedestroy:e.A(e.Event,"instancedestroy",!1),beforelayoutchange:e.A(e.Event,"beforelayoutchange",!1),layoutchange:e.A(e.Event,"layoutchange",!1)};this.qo.instancedestroy.instance=null;this.Rd=e.A(e.Event.oc);
this.$S=null;this.Xl=e.A(e.Kn,e.uw.JE);this.fo=e.A(e.Kn,e.uw.JE);this.ho=e.A(e.Kn,e.uw.JE);this.Bu=e.A(e.o0,this,b.jobScheduler);b.canvas&&(this.fa=e.A(e.AK,this));this.Ou.onmessage=d=>this._OnMessageFromDOM(d.data);this.wj("runtime","visibilitychange",d=>this.T8(d));this.wj("runtime","opus-decode",d=>this.eaa(d.arrayBuffer));this.wj("runtime","get-remote-preview-status-info",()=>this.o7());this.wj("runtime","js-invoke-function",d=>this.Dy(d));this.wj("runtime","go-to-last-error-script",self.goToLastErrorScript);
this.Mb.addEventListener("window-blur",d=>this.U8(d));this.Mb.addEventListener("window-focus",()=>this.V8());this.zb.jV();this.Zh=null;this.Saa=new WeakMap;this.iz={keyboard:null,aU:null,GU:null}}static Pa(b){return e.A(e.qN,b)}m(){e.G(this.Ec);this.QH.clear();this.RH.clear();this.qb.m();this.qb=null;this.oa.m();this.oa=null;this.No.m();this.No=null;this.td.m();this.td=null;this.gz.m();this.gz=null;this.zb.m();this.zb=null;this.zI.m();this.zI=null;this.fa&&(this.fa.m(),this.fa=null);this.Mb.m();this.Mb=
null}["_OnMessageFromDOM"](b){const d=b.type;if("event"===d)this.IP(b);else if("result"===d)this.O8(b);else throw Error(`unknown message '${d}'`);}IP(b){if(this.JR){var d=b.component,m=b.handler,k=b.data,p=b.dispatchOpts,r=!(!p||!p.dispatchRuntimeEvent);p=!(!p||!p.dispatchUserScriptEvent);var l=b.responseId;if("runtime"===d&&(r&&(b=new e.Event(m),b.data=k,this.Mb.Cca(b)),p)){b=new e.Event(m,!0);for(const [h,q]of Object.entries(k))b[h]=q;this.ng(b)}if(b=this.yG.get(d))if(b=b.get(m)){r=null;try{r=b(k)}catch(h){console.error(`Exception in '${d}' handler '${m}':`,
h);null!==l&&this.Hy(l,!1,""+h);return}null!==l&&(r&&r.then?r.then(h=>this.Hy(l,!0,h)).catch(h=>{console.error(`Rejection from '${d}' handler '${m}':`,h);this.Hy(l,!1,""+h)}):this.Hy(l,!0,r))}else r||p||console.warn(`[Runtime] No DOM handler '${m}' for component '${d}'`);else r||p||console.warn(`[Runtime] No DOM event handlers for component '${d}'`)}else this.QI.push(b)}Hy(b,d,m){this.Ou.postMessage({type:"result",responseId:b,isOk:d,result:m})}O8(b){const d=b.responseId,m=b.isOk;b=b.result;const k=
this.WH.get(d);m?k.resolve(b):k.reject(b);this.WH.delete(d)}wj(b,d,m){let k=this.yG.get(b);k||(k=new Map,this.yG.set(b,k));if(k.has(d))throw Error(`[Runtime] Component '${b}' already has handler '${d}'`);k.set(d,m)}ct(b,d,m){this.Ou.postMessage({type:"event",component:b,handler:d,data:m,responseId:null})}dt(b,d){const m=this.mba++,k=new Promise((p,r)=>{this.WH.set(m,{resolve:p,reject:r})});this.Ou.postMessage({type:"event",component:"runtime",handler:b,data:d,responseId:m});return k}async Tp(b){this.Gb?
await a.Tp(this):self.Ci&&self.Ci.Ega(this);var [d]=await Promise.all([this.td.gL("data.json"),this.r8(),this.Bu.Tp()]);this.T7(d);await this.F7(b);this.Xp()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");d=this.Ud();console.info(`[C3 runtime] Hosted in ${this.jm?"worker":"DOM"}, rendering with WebGL ${d.md} [${d.wv}] (${d.$_()?"desynchronized":"standard"} compositing)`);d.sR&&console.warn("[C3 runtime] WebGL indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");
this.JR=!0;for(const m of this.QI)this.IP(m);e.G(this.QI);this.fa&&this.fa.h4();for(const m of b.runOnStartupFunctions)this.RF.push(this.I9(m));await Promise.all([this.td.oO(),...this.RF]);e.G(this.RF);if(this.td.TG)this.fa&&this.fa.uD();else return this.fa&&await this.fa.NX(),await this.Mb.nJ(new e.Event("beforeruntimestart")),await this.xt(),this.Ou.postMessage({type:"runtime-ready"}),this}async I9(b){try{await b(this.Zh)}catch(d){console.error("[C3 runtime] Error in runOnStartup function: ",d)}}T7(b){b=
b.project;this.CA=b[0];this.uS=b[16];this.ZH=b[31];const d=b[39]||"loading-logo.png";this.Wq=!!b[9];this.Ng=this.ri=b[10];this.Mg=this.pi=b[11];this.TH=this.Ng/2;this.UH=this.Mg/2;this.Dq=b[36];this.KG=b[37];"low-latency"===this.Dq&&this.T_()&&77>=e.Uc.gC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Dq="standard");this.Vk=!!b[40];this.wd=
b[14];this.OI=!!b[18];this.cr=b[19];this.Qu=b[21];this.pS=b[22];const m=this.td;m.h$(b[7]);m.s$(b[32]);m.x$(b[28]);m.J$(b[29]);if(0===this.cr){let h="";this.Xp()?m.kF(d)&&(h=m.AL(d)):h=m.wR+d;h&&(this.dr=m.RD({url:h}))}this.fa&&(this.fa.q3(e.AK.Z6(b[12])),this.fa.GN(b[23]?"high":"low"),this.fa.zE(0!==b[24]),this.fa.t$(b[34]),this.fa.H$(b[41]));this.No.rW();this.tA=self.xK();for(var k of b[2])this.No.pW(k);this.tA=self.xK();this.a8();for(var p of b[3])k=e.VD.Pa(this,this.Ec.length,p),this.Ec.push(k),
this.QH.set(k.W.toLowerCase(),k),this.RH.set(k.kb,k);for(const h of b[4])this.Ec[h[0]].W7(h);for(var r of b[27])p=r.map(h=>this.Ec[h]),this.kaa.push(e.A(e.fW,this,p));for(const h of this.Ec)h.B8();for(const h of b[5])this.qb.Pa(h);(r=b[1])&&(r=this.qb.Np(r))&&this.qb.m3(r);for(var l of b[33])this.zb.Pa(l);for(const h of b[35])this.zI.Pa(h);this.E7();for(const h of b[6])this.oa.Pa(h);this.oa.Eb();this.A7();e.G(this.tA);this.Ed();l="any";b=b[20];1===b?l="portrait":2===b&&(l="landscape");this.ct("runtime",
"set-target-orientation",{targetOrientation:l})}k7(){return this.aR++}Z4(b){this.UF.push(b)}async F7(b){this.fa&&(await this.fa.lg(b),this.fa.A_(this.cr))}async r8(){if(!this.td.V_()){var b=null;try{b=this.LR&&"file:"===location.protocol?await this.td.KK(this.nS):await this.td.Cs(this.nS)}catch(d){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",d);return}b?this.cV(b):this.bV();await this.dV([this.xba])}}async eaa(b){return await this.ZB("OpusDecode",{arrayBuffer:b},
[b])}async xt(){this.Lz=!0;this.PA=Date.now();if(this.OI){for(var b of this.Ec);this.td.oO().then(()=>{this.cj=!1;this.LP()})}else this.cj=!1;this.td.s3();this.Gb&&a.Eka(f);for(const d of this.qb.Hh)d.D5();b=this.qb.SY();await b.mF(null,this.Ud());await b.yQ(!0);this.to=performance.now();this.OI||this.LP();(await this.dt("before-start-ticking")).isSuspended?this.yr++:this.Oe()}LP(){this.na(e.D.eb.J.C1,null,null);this.ct("runtime","register-sw")}sg(b){b=Math.floor(b);const d=this.tA;if(0>b||b>=d.length)throw Error("invalid object reference");
return d[b]}a8(){for(const b of self.FV){const d=e.first(Object.keys(b));this.NR.push(d)}}ph(b){b=Math.floor(b);const d=this.NR;if(0>b||b>=d.length)throw Error("invalid prop reference");return d[b]}MC(){return this.oaa}ja(){return this.oa}fd(){return this.oa.fd()}jf(){return this.oa.jf()}Ub(){return this.oa.Ub()}nh(){return this.oa.nh()}$w(){return this.oa.$w()}Rs(){return this.No.Rs()}He(b){b=Math.floor(b);if(0>b||b>=this.Ec.length)throw new RangeError("invalid index");return this.Ec[b]}cD(b){return this.QH.get(b.toLowerCase())||
null}ox(b){return this.RH.get(b)||null}*$ba(){for(const b of this.Ec)b.fb||(yield*b.LT())}oc(){return this.Mb}ng(b){b.nc=this.Zh;const d=this.Gb&&!this.oa.Ex();d&&a.ME();this.Rd.dispatchEvent(b);d&&a.aC()}nn(b){b.nc=this.Zh;return this.Rd.nJ(b)}A3(b,d){this.Ng=b;this.Mg=d}wt(b,d){this.ri=b;this.pi=d}n$(b){this.WQ=b}Cj(){return this.WQ}Hi(){return this.fa?this.fa.Hi():this.ri}Gi(){return this.fa?this.fa.Gi():this.pi}Ij(){return this.fa?this.fa.Ij():1}Dj(){return this.fa?this.fa.Dj():1}OC(){return this.fa?
this.fa.OC():0}PC(){return this.fa?this.fa.PC():0}jx(){return this.fa?this.fa.jx():"off"}Gs(b){return this.fa?this.fa.Gs(b):null}Kl(b){this.fa&&this.fa.Kl(b)}I$(b){this.NI=!!b}lx(){return this.fa?this.fa.lx():NaN}GD(){return"nearest"!==this.wd}h2(){this.dr&&(this.dr.m(),this.dr=null)}$b(){return this.qb.$b()}RD(b){return this.td.RD(b)}PK(b,d,m,k,p){return this.lh(b,d,!1,m,k,!1,p)}lh(b,d,m,k,p,r,l){var h=null;let q=null;b instanceof e.VD?(q=b,q.fb&&(h=q.Nq,q=h[Math.floor(this.fq()*h.length)]),h=q.Hq):
(h=b,q=this.He(h[1]));b=q.Lb().bi;if(this.cj&&b&&!q.Zaa)return null;const t=d;b||(d=null);var v=m&&!r&&h&&!this.zo.has(h[2])?h[2]:this.Qu++;const z=h?h[0]:null,A=e.A(e.Instance,{nc:this,NJ:q,Cd:d,RU:z,KT:h?h[3]:null,uid:v});this.zo.set(v,A);v=null;b&&(v=A.C(),"undefined"!==typeof k&&"undefined"!==typeof p&&(v.Ah(k),v.Bh(p)));d&&(l||d.zg(A,!0),d.Jf().tM(q));this.SH++;if(q.Dc()&&!m&&!r){for(var F of q.Mh.Ek){if(F===q)continue;const x=this.lh(F,t,!1,v?v.Ta():k,v?v.Ua():p,!0,!1);A.qq(x)}for(const x of A.siblings()){x.qq(A);
for(const E of A.siblings())x!==E&&x.qq(E)}}b&&!m&&l&&this.HO(A,z,v,d,k,p);if(q.Dc()&&!m&&!r&&l)for(const x of A.siblings())m=x.C(),F=x.K().Hq[0],this.HO(x,F,m,d,m.Ta(),m.Ua());!r&&l&&("undefined"===typeof k&&(k=z[0]),"undefined"===typeof p&&(p=z[1]),d=v.ux(),k=k-v.Ta()+d.Ta(),p=p-v.Ua()+d.Ua(),d.Pn(k,p));q.Ot();p=h?e.fJ(h[5]):null;h=h?h[4].map(x=>e.fJ(x)):null;b&&z&&z[13]&&A.w$();A.ty(p,h);this.Ao.push(A);this.Kz=!0;this.Gb&&a.Fga(A);return A}HO(b,d,m,k,p,r){var l=m.CS,h=m.gI;b.C().CE(l);if(h){"undefined"===
typeof p&&(p=d[0]);"undefined"===typeof r&&(r=d[1]);l=new Set;m=d[0];d=d[1];for(const A of h){var q=A[1],t=A[2];h=A[3];var v=!!A[4];const F=A[5];t=this.qb.bD(A[0]).za(q).$Y(t);q=this.He(t[1]);var z=b.XZ(q);const x=l.has(q);z&&!x&&v?(v=b.JL(q),z=p+t[0][0]-m,t=r+t[0][1]-d,v.C().Pn(z,t),v.C().CE(F),b.hl(v,{ns:!!(h>>0&1),os:!!(h>>1&1),wp:!!(h>>2&1),vp:!!(h>>3&1),ms:!!(h>>4&1),Hv:!!(h>>5&1),qs:!!(h>>6&1)}),l.add(q)):(q=this.lh(t,k,!1,p+t[0][0]-m,r+t[0][1]-d,!1,!0),q.C().CE(F),b.hl(q,{ns:!!(h>>0&1),os:!!(h>>
1&1),wp:!!(h>>2&1),vp:!!(h>>3&1),ms:!!(h>>4&1),Hv:!!(h>>5&1),qs:!!(h>>6&1)}))}}}mn(b){if(!this.Bo.has(b)){var d=b.K(),m=this.Rz.get(d);if(m){if(m.has(b))return;m.add(b)}else m=new Set,m.add(b),this.Rz.set(d,m);this.Gb&&a.Gga(b);b.pF();this.Kz=!0;if(b.Dc())for(const k of b.siblings())this.mn(k);for(const k of b.children())k.dx()&&this.mn(k);this.qb.eM()||this.dj||(d=this.ja(),d.ff(!0),b.T$(),d.ff(!1));b.R6(this.qb.eM())}}Ed(){this.Kz&&(this.T6(),this.U6(),this.Kz=!1,this.ba())}T6(){for(const b of this.Ao){const d=
b.K();d.zg(b);for(const m of d.Gg)m.zg(b),m.Ot()}e.G(this.Ao)}U6(){this.Mb.jq(!0);for(const [b,d]of this.Rz.entries())this.V6(b,d),d.clear();this.Rz.clear();this.Mb.jq(!1)}V6(b,d){for(const k of d){var m=this.qo.instancedestroy;m.instance=k;this.Mb.dispatchEvent(m);this.zo.delete(k.ie);if(m=k.C())m.UP(),m.VP(),m.pF();this.Bo.add(k);this.SH--}e.Zg(b.ta(),d);b.Ot();this.Sz.add(b);b.ta();for(const k of b.Gg)e.Zg(k.ta(),d),k.Ot(),this.Sz.add(k);if(b.Lb().bi){b=new Set([...d].map(k=>k.C().za()));for(const k of b)k.p9(d)}}j7(){return this.Qu++}o8(b,
d){this.zo.set(b,d)}Mt(){this.Mb.dispatchEvent(e.A(e.Event,"webglcontextlost"));this.ut(!0);for(var b of this.Ec)!b.fb&&b.TZ()&&b.hq();(b=this.$b())&&b.Mt();e.yD.Rx();e.VL.Rx()}async vF(){await this.$b().mF(null,this.Ud());this.Mb.dispatchEvent(e.A(e.Event,"webglcontextrestored"));this.ut(!1);this.ba()}T8(b){this.ut(b.hidden)}U8(b){this.Xp()&&this.pS&&!e.Uc.ID&&!b.data.parentHasFocus&&(this.ut(!0),this.pH=!0)}V8(){this.pH&&(this.ut(!1),this.pH=!1)}WP(){const b=this.Qba;"vsync"===this.KG?-1===this.fe&&
(this.fe=self.requestAnimationFrame(b.cU)):"unlimited-tick"===this.KG?(-1===this.Lk&&(this.Lk=e.kE(b.nea)),-1===this.fe&&(this.fe=self.requestAnimationFrame(b.Rda))):-1===this.Lk&&(this.Lk=e.kE(b.cU))}r5(){-1!==this.fe&&(self.cancelAnimationFrame(this.fe),this.fe=-1);-1!==this.Lk&&(e.LV(this.Lk),this.Lk=-1)}Hn(){return 0<this.yr}ut(b){var d=this.Hn();this.yr+=b?1:-1;0>this.yr&&(this.yr=0);b=this.Hn();!d&&b?(console.log("[Construct 3] Suspending"),this.r5(),this.Mb.dispatchEvent(e.A(e.Event,"suspend")),
this.na(e.D.eb.J.G1,null,null)):d&&!b&&(console.log("[Construct 3] Resuming"),this.to=this.lA=d=performance.now(),this.zk=this.qA=this.Bz=this.Cz=0,this.Mb.dispatchEvent(e.A(e.Event,"resume")),this.na(e.D.eb.J.D1,null,null),this.Ax()||this.Oe(d))}W4(b){this.Xl.Kb(b)}r9(b){this.Xl.ne(b)}q9(b){this.fo.ne(b)}s9(b){this.ho.ne(b)}j5(){this.Xl.wg(!0);for(const b of this.Xl)b.Oe();this.Xl.wg(!1)}i5(){this.fo.wg(!0);for(const b of this.fo);this.fo.wg(!1)}k5(){this.ho.wg(!0);for(const b of this.ho);this.ho.wg(!1)}*N5(){this.Xl.wg(!0);
for(const b of this.Xl){const d=b.Oe();e.Cl(d)&&(yield*d)}this.Xl.wg(!1)}*M5(){this.fo.wg(!0);for(const b of this.fo)e.Cl(void 0)&&(yield*void 0);this.fo.wg(!1)}*O5(){this.ho.wg(!0);for(const b of this.ho)e.Cl(void 0)&&(yield*void 0);this.ho.wg(!1)}async Oe(b,d,m){this.vR=!0;const k="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.Lz&&(!this.Hn()||d||k)&&(d=performance.now(),this.aA=!0,b||(b=d),this.u8(b),b=this.l4(),this.re&&await b,b=this.Mb.Dca(this.qo.pretick),b instanceof
Promise&&await b,b=this.k4(),this.re&&await b,this.z8()&&await this.t7(),this.qb.Wp()&&await this.q8(),b=this.m4(),this.re&&await b,m&&this.cN(),this.Hn()||k||this.WP(),this.zm++,this.sz++,this.aA=!1,this.zk+=performance.now()-d)}async l4(){const b=this.oa,d=this.Gb;this.Ed();b.ff(!0);this.et(this.$b());d&&a.oq();this.re?await b.zW():b.J2();d&&a.aV();this.bt();b.ff(!1);this.Ed();b.ff(!0)}async k4(){const b=this.Gb,d=this.re,m=this.Mb,k=this.qo,p=this.$S;b&&a.oq();d?await this.Nw(this.N5()):this.j5();
d?await this.Nw(this.M5()):this.i5();b&&a.WU();b&&a.oq();d?await this.RK(k.tick):m.dispatchEvent(k.tick);b&&a.fV();this.oa.ff(!1);this.ng(p.tick)}async m4(){const b=this.oa,d=this.Mb,m=this.qo,k=this.Gb,p=this.re;k&&a.oq();p?await b.xW(this.qb):b.H2(this.qb);k&&a.aV();this.gz.CK();this.TP();this.nH=!1;b.ff(!0);k&&a.oq();p?await this.Nw(this.O5()):this.k5();k&&a.WU();k&&a.oq();p?await this.RK(m.tick2):d.dispatchEvent(m.tick2);k&&a.fV();b.ff(!1);p&&await b.pN()}TP(){if(0!==this.Bo.size){var b=this.Mb;
b.jq(!0);for(const d of this.Sz)d.xm.Ln(this.Bo);this.Sz.clear();this.oa.j2(this.Bo);for(const d of this.Bo)d.m();this.Bo.clear();b.jq(!1)}}async q8(){const b=this.qb;let d=0;for(;b.Wp()&&10>d++;)await this.PO(b.Ru)}u8(b){if(0!==this.lA){this.dm=Math.max(b-this.lA,0)/1E3;const d=1/this.hS;.5<this.dm?this.dm=0:this.dm>d&&(this.dm=d)}this.lA=b;this.oz=this.dm*this.ve;this.OG.Kb(this.oz);this.RI.Kb(this.dm);this.fa&&this.fa.caa();1E3<=b-this.to&&(this.to+=1E3,1E3<=b-this.to&&(this.to=b),this.Bz=this.Cz,
this.Cz=0,this.qA=Math.min(this.zk/1E3,1),this.zk=0,this.fa&&this.fa.X$(),this.Gb&&a.tma());this.Cz++}async PO(b){const d=this.Mb,m=this.qb.$b();await m.Q$();m.W$(b,this.Ud());m===b&&this.oa.Cw();this.gz.CK();this.TP();d.dispatchEvent(this.qo.beforelayoutchange);e.xj.HN(!0);await b.mF(m,this.Ud());e.xj.HN(!1);await b.yQ(!1);d.dispatchEvent(this.qo.layoutchange);this.ba();this.nH=!0;this.Ed()}ba(){this.OH=!0}Ud(){return this.fa?this.fa.Ud():null}Ps(){return this.Ud()}cN(){const b=this.fa;if(b&&!b.n0()){var d=
this.Ud();d.xt();d.PV();if(this.OH){var m=this.Gb;m&&a.oq();this.OH=!1;var k=null;d.Si()&&(k=this.fa.Gz.oK(),d.bO(k));this.Vk&&"low"===b.Xh?d.n3(b.Hi(),b.Gi()):d.U2();d.zh();d.rE();d.Me(1,1,1,1);d.pe(null);d.Sf(null);d.ey(this.Vk);this.qb.$b().gf(d);k&&d.aL(k);d.Es();m&&(a.Iea(),a.vma());b&&b.s8()}else d.q_()}}na(b,d,m){if(!this.Lz)return!1;var k=!this.aA&&!this.oa.FD();let p=0;k&&(p=performance.now());const r=this.Gb;r&&this.dy(!1);b=this.oa.Rt(this.qb,b,d,m);k&&(k=performance.now()-p,this.zk+=k,
r&&a.Oea(k));r&&this.dy(!0);return b}async Xd(b,d,m){if(!this.re)return this.na(b,d,m);if(!this.Lz)return!1;if(this.Ax())return this.oa.c2(b,d,m);if(!this.$b())return this.oa.fE(b,d,m);const k=performance.now();b=this.oa.Ft(this.qb,b,d,m);for(d=b.next();!d.done;)await this.Hp(d.value),d=b.next();this.Hn()||this.oa.FD()||(await this.oa.pN(),this.vR&&!this.aA&&this.WP());this.zk+=performance.now()-k;return d.value}et(b){this.Gq.push(b)}bt(){if(!this.Gq.length)throw Error("layout stack empty");this.Gq.pop()}cb(){return this.Gq.length?
this.Gq[this.Gq.length-1]:this.$b()}gx(b){return b&&-1!==b.ve?this.dm*b.ve:this.oz}EE(b){if(isNaN(b)||0>b)b=0;this.ve=b}QN(b){this.hS=e.xa(b,1,120)}qg(){return this.OG.X()}nD(){return this.RI.X()}Mj(){++this.sz}Ii(b){if(this.dj)throw Error("cannot call while loading state - wait until afterload event");return this.zo.get(b)||null}RP(){this.zo.clear();for(const b of this.Ec)if(!b.fb)for(const d of b.ta())this.zo.set(d.ie,d)}Xp(){return"preview"===this.em}Z_(){return"cordova"===this.em}T_(){return"Android"===
e.Uc.cq&&("cordova"===this.em||"playable-ad"===this.em||"instant-games"===this.em)}E3(b){b=!!b;this.Wq!==b&&(this.Wq=b,this.ba())}L2(b){this.Zu=b}B0(b){this.Iu=b}QD(b){this.br=b}z8(){return!(!this.Zu&&!this.Iu&&null===this.br)}async t7(){this.Zu&&(this.Ed(),await this.q6(this.Zu),this.YE());this.Iu&&(await this.p6(this.Iu),this.YE(),this.Gb&&a.Rla());if(null!==this.br){this.Ed();try{await this.QO(this.br),this.Io=this.br,await this.Xd(e.D.eb.J.HM,null),this.Io=""}catch(b){console.error("[Construct 3] Failed to load state from JSON string: ",
b),await this.Xd(e.D.eb.J.IM,null)}this.YE()}}YE(){this.Iu=this.Zu="";this.br=null}n7(){this.YH||(this.YH=localforage.iJ({name:"c3-localstorage-"+this.ZH,description:this.CA}));return this.YH}hP(){this.fI||(this.fI=localforage.iJ({name:"c3-savegames-"+this.ZH,description:this.CA}));return this.fI}async q6(b){const d=await this.b$();try{await this.hP().setItem(b,d),console.log("[Construct 3] Saved state to storage ("+d.length+" chars)"),this.Io=d,await this.Xd(e.D.eb.J.E1,null),this.Io=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",
m),await this.Xd(e.D.eb.J.F1,null)}}async p6(b){try{const d=await this.hP().getItem(b);if(!d)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+d.length+" chars)");await this.QO(d);this.Io=d;await this.Xd(e.D.eb.J.HM,null);this.Io=""}catch(d){console.error("[Construct 3] Failed to load state from storage: ",d),await this.Xd(e.D.eb.J.IM,null)}}async b$(){const b={c3save:!0,version:1,rt:{time:this.qg(),walltime:this.nD(),timescale:this.ve,tickcount:this.zm,execcount:this.sz,
next_uid:this.Qu,running_layout:this.$b().kb,start_time_offset:Date.now()-this.PA},types:{},layouts:{},events:this.oa.ea(),timelines:this.zb.ea(),user_script_data:null};for(var d of this.Ec)d.fb||d.PL()||(b.types[d.kb.toString()]=d.ea());for(const m of this.qb.Hh)b.layouts[m.kb.toString()]=m.ea();d=this.bF("save");d.saveData=null;await this.nn(d);b.user_script_data=d.saveData;return JSON.stringify(b)}async QO(b){b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");
if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");this.Mb.dispatchEvent(e.A(e.Event,"beforeload"));for(var d of this.$ba())d.Gy();this.dj=!0;d=b.rt;this.OG.Set(d.time);this.RI.Set(d.walltime);this.ve=d.timescale;this.zm=d.tickcount;this.sz=d.execcount;this.PA=Date.now()-d.start_time_offset;var m=d.running_layout;if(m!==this.$b().kb)if(m=this.qb.bD(m))await this.PO(m);else return;for(const [p,r]of Object.entries(b.types))m=this.ox(parseInt(p,
10)),!m||m.fb||m.PL()||m.ma(r);this.Ed();this.RP();this.dj=!1;this.Qu=d.next_uid;for(const [p,r]of Object.entries(b.layouts))(d=this.qb.bD(parseInt(p,10)))&&d.ma(r);this.oa.ma(b.events);for(var k of this.Ec)if(!k.fb&&k.Dc())for(const p of k.ta()){d=p.rn();for(const r of k.Mh.Ek)if(r!==k){m=r.ta();if(0>d||d>=m.length)throw Error("missing sibling instance");p.qq(m[d])}}this.zb.ma(b.timelines);this.Mb.dispatchEvent(e.A(e.Event,"afterload"));k=this.bF("load");k.saveData=b.user_script_data;await this.nn(k);
this.ba()}async dV(b){b=(await Promise.all(b.map(d=>this.td.Bj(d)))).map(d=>URL.createObjectURL(d));this.Bu.p_(b)}bV(){this.Bu.P2()}cV(b){this.Bu.Q2(b)}ZB(b,d,m){return this.Bu.ZB(b,d,m)}async d2(b){var d=d||2048;var m=m||2048;return this.jm?(await this.dt("raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:d,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,d,m)}fq(){return this.Gba()}o7(){return{fps:this.Bz,cpu:this.qA,gpu:this.lx(),
layout:this.$b()?this.$b().W:"",renderer:this.Ud().wv}}Ax(){return this.Gb?a.Ax():!1}Hp(b){return this.re?a.Hp(b):Promise.resolve()}Zb(){return this.re?a.ffa():!1}dy(b){b?this.tG--:this.tG++;this.Z$()}Z$(){this.re=this.Gb&&this.uaa&&0===this.tG}BD(){return this.Gb&&a.BD()}gM(){return this.Gb&&this.Ud().Si()&&a.gM()}async Nw(b){if(b)for(const d of b)await this.Hp(d)}RK(b){return this.Nw(this.Mb.Eca(b))}Dy(b){return this.oa.Dy(b.name,b.params)}bF(b){b=e.A(e.Event,b,!1);b.nc=this.Zh;return b}E7(){var b=
{};for(const d of this.Ec)b[d.ph()]={value:d.ru,enumerable:!0,writable:!1};b=Object.create(Object.prototype,b);this.Zh=new self.i_(this,b);this.$S={tick:this.bF("tick")}}A7(){const b={};for(const d of this.ja().VF)b[d.ph()]=d.iP();this.Zh.B7(b)}yP(b,d){this.Saa.set(b,d)}};self.C3_CreateRuntime=e.qN.Pa;self.C3_InitRuntime=(b,d)=>b.Tp(d)}"use strict";
{const e=self.B;e.o0=class extends e.aa{constructor(a,c){super();this.g=a;this.Eo=new Map;this.oba=0;this.uu=c.inputPort;c.outputPort.onmessage=f=>this.KP(f);this.bS=c.maxNumWorkers;this.Cu=1;this.nR=this.xu=!1}async Tp(){}p_(a){this.uu.postMessage({type:"_import_scripts",scripts:a})}P2(){this.uu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}Q2(a){this.uu.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}ZB(a,c,f){f||(f=[]);const b=this.oba++;a={type:a,isBroadcast:!1,
jobId:b,params:c,transferables:f};c=new Promise((d,m)=>{this.Eo.set(b,{resolve:d,progress:void 0,reject:m,cJ:!1})});this.uu.postMessage(a,f);this.zP();return c}KP(a){a=a.data;const c=a.type,f=a.jobId;switch(c){case "result":this.K8(f,a.result);break;case "progress":this.J8(f,a.progress);break;case "error":this.I8(f,a.error);break;case "ready":this.L8();break;default:throw Error(`unknown message from worker '${c}'`);}}K8(a,c){const f=this.Eo.get(a);if(!f)throw Error("invalid job ID");f.cJ||f.resolve(c);
this.Eo.delete(a)}J8(a,c){a=this.Eo.get(a);if(!a)throw Error("invalid job ID");!a.cJ&&a.progress&&a.progress(c)}I8(a,c){const f=this.Eo.get(a);if(!f)throw Error("invalid job ID");f.cJ||f.reject(c);this.Eo.delete(a)}L8(){this.xu&&(this.xu=!1,this.Cu++,this.Cu<this.bS?this.zP():this.uu.postMessage({type:"_no_more_workers"}))}async zP(){if(!(this.Cu>=this.bS||this.xu||this.nR||this.Eo.size<=this.Cu))try{this.xu=!0,(await this.g.dt("create-job-worker")).outputPort.onmessage=a=>this.KP(a)}catch(a){this.nR=
!0,this.xu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Cu} so far)`,a)}}}}self.C3_Shaders={};"use strict";
var dc=this&&this.Wma||function(){function e(a,c){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f[d]=b[d])};return e(a,c)}return function(a,c){function f(){this.constructor=a}e(a,c);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}(),ec;
(function(e){(function(a){var c=function(){function f(b,d){void 0===b&&(b="");void 0===d&&(d=f.Gl.TL);this.prefix=b;this.level=d}f.prototype.vU=function(b){b=Math.max(b,f.Gl.yC);this.level=b=Math.min(b,f.Gl.i1)};f.Yda=function(b){this.FT=b};f.prototype.debug=function(b){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];this.log(f.Gl.yC,b,d)};f.prototype.info=function(b){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];this.log(f.Gl.TL,b,d)};f.prototype.warn=function(b){for(var d=
[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];this.log(f.Gl.H4,b,d)};f.prototype.error=function(b){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];this.log(f.Gl.eX,b,d)};f.prototype.Yk=function(b,d){for(var m=[],k=2;k<arguments.length;k++)m[k-2]=arguments[k];if(!f.FT||!f.FT(b,this.rJ(d,m)))throw Error(this.rJ("["+b+"] "+d,m));};f.prototype.format=function(b){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];return this.rJ(b,d)};f.prototype.log=function(b,d,m){if(b>=this.level&&
"undefined"!==typeof console&&void 0!==d)try{var k;(k=console.hasOwnProperty(f.YT[b])?console[f.YT[b]]:console.log)&&k.apply(console,[this.prefix,d].concat(m))}catch(p){}};f.prototype.rJ=function(b,d){return(""==this.prefix?"":this.prefix+" ")+b+" "+d.map(function(m){if(void 0!==m)switch(typeof m){case "object":try{return JSON.stringify(m)}catch(k){return m.toString()+"("+k+")"}default:return m.toString()}}).join(" ")};f.Gl={yC:1,TL:2,H4:3,eX:4,i1:6};f.YT=["debug","debug","info","warn","error"];return f}();
a.Mx=c;a.Bt=function(){function f(){}f.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};return f}()})(e.Ei||(e.Ei={}))})(ec||(ec={}));var fc;
(function(e){var a;(function(f){f[f.Ws=0]="Ws";f[f.Wss=1]="Wss"})(a=e.kn||(e.kn={}));(function(f){f[f.None=0]="None";f[f.Byte=1]="Byte";f[f.Short=2]="Short";f[f.Int=3]="Int";f[f.Long=4]="Long";f[f.Float=5]="Float";f[f.Double=6]="Double";f[f.String=7]="String";f[f.Bool=8]="Bool";f[f.Table=9]="Table";f[f.Dict=10]="Dict";f[f.Object=11]="Object"})(e.x4||(e.x4={}));e.Db=function(){function f(){}f.Sd=function(b){return b};f.An=function(b){return b};f.String=function(b){return b};f.WM=function(b,d,m){b[d]=
m};return f}();var c=function(){function f(b,d,m,k){void 0===m&&(m="");void 0===k&&(k="");this.protocol=b;this.Lr=d;this.hK=m;this.ST=3E3;this.Dz="~m~";this.Tq=this.im=this.Uq=!1;this.qS={};this.CG={};this.AS={};this.Vca=Date.now();this.TT=0;this.url=this.Yba(this.Lr,this.protocol);this.L=new ec.Ei.Mx(k&&""!=k?k+":":"")}f.prototype.Yba=function(b,d){var m={SU:"ws://",Dea:"wss://"},k;for(k in m)if(0==b.indexOf(m[k]))return b;switch(d){case a.sO:return m.SU+b;case a.Oma:return m.Dea+b;default:return m.SU+
b}};f.prototype.Ow=function(){};f.prototype.isConnected=function(){return this.im};f.prototype.connect=function(b){var d=this;this.ES=void 0;b=this.url+"/"+b+"?libversion=4.1.0.0";this.wm=""==this.hK?new WebSocket(b,"Json"):new WebSocket(b,this.hK);this.sba();this.wm.onopen=function(){};this.wm.onmessage=function(m){m=d.Aaa(m.data);d.vba(m.toString())};this.wm.onclose=function(m){d.L.debug("onclose: wasClean =",m.wasClean,", code=",m.code,", reason =",m.reason);d.Uq?d.rba():(1006==m.code&&d.wba(),
d.tba())};this.wm.onerror=function(m){d.uba(m)}};f.prototype.disconnect=function(){this.Tq=!0;this.wm&&this.wm.close()};f.prototype.pd=function(b,d){b={req:b,vals:[]};ec.Ei.Bt.isArray(d)?b.vals=d:void 0===d?b.vals=[]:this.L.Yk(201,"PhotonPeer[sendOperation] - Trying to send non array data:",d);this.DS(b);this.L.debug("PhotonPeer[sendOperation] - Sending request:",b)};f.prototype.od=function(b,d){this.QF(this.qS,b,d)};f.prototype.addEventListener=function(b,d){this.QF(this.CG,b.toString(),d)};f.prototype.Be=
function(b,d){this.QF(this.AS,b.toString(),d)};f.prototype.removeEventListener=function(b,d){this.Iba(this.CG,b.toString(),d)};f.prototype.cn=function(b){this.L.vU(b)};f.prototype.EB=function(b){this.L.warn("PhotonPeer: No handler for event",b,"registered.")};f.prototype.GB=function(b){this.L.warn("PhotonPeer: No handler for response",b,"registered.")};f.prototype.Daa=function(b,d){this.vG(this.CG,b.toString(),d)||this.EB(b,d)};f.prototype.Eaa=function(b,d){this.vG(this.AS,b.toString(),d)||this.GB(b,
d)};f.prototype.Nba=function(b){return"[object Object]"==Object.prototype.toString.call(b)?(JSON||this.L.Yk(202,"PhotonPeer[_stringify] - Trying to encode as JSON, but JSON.stringify is missing."),"~j~"+JSON.stringify(b)):String(b)};f.prototype.Iaa=function(b){var d="";b=ec.Ei.Bt.isArray(b)?b:[b];for(var m=0,k=b.length;m<k;m++){var p=null===b[m]||void 0===b[m]?"":this.Nba(b[m]);d+=this.Dz+p.length+this.Dz+p}return d};f.prototype.Aaa=function(b){var d=[];var m=b;-1!==b.indexOf("\x00")&&(m=b.replace(/[\0]/g,
""));b=m;do{if(b.substr(0,3)!==this.Dz)break;b=b.substr(3);m="";for(var k=0,p=b.length;k<p;k++){var r=Number(b.substr(k,1));if(b.substr(k,1)==r)m+=r;else{b=b.substr(m.length+this.Dz.length);m=Number(m);break}}d.push(b.substr(0,m));b=b.substr(m)}while(""!==b);return d};f.prototype.vba=function(b){"~j~"==b.substr(0,3)?this.kS(JSON.parse(b.substr(3))):this.ES?this.kS(b):(this.ES=b,this.qba())};f.prototype.YJ=function(){var b=this;clearTimeout(this.TT);1E3<=this.ST&&(this.TT=setTimeout(function(){var d;
b.DS((d={},d.irq=1,d.vals=[1,Date.now()-b.Vca],d),!0)},this.ST))};f.prototype.DS=function(b,d){void 0===d&&(d=!1);var m=this.Iaa(b);this.wm&&this.im&&!this.Tq?(this.YJ(),this.wm.send(m)):d||this.L.Yk(203,"PhotonPeer[_send] - Operation",b.qpa,'- failed, "isConnected" is',this.im,', "isClosing" is',this.Tq,"!")};f.prototype.kS=function(b){if("object"===typeof b)if(this.L.debug("PhotonPeer[_onMessageReceived] - Socket received message:",b),b={Hca:b.err,uda:b.msg,V:b.vals,lU:b.res,ET:b.evt,Zca:b.irs},
b.V=void 0!==b.V?b.V:[],0<b.V.length&&(b.V=this.Cba(b.V)),void 0!==b.lU){var d=parseInt(b.lU);this.Dba(d,b)}else void 0!==b.ET?(d=parseInt(b.ET),this.Aba(d,b)):void 0!==b.Zca?this.Bba(b):this.L.Yk(204,"PhotonPeer[_onMessageReceived] - Received undefined message type:",b)};f.prototype.Cba=function(b){var d={};if(ec.Ei.Bt.isArray(b))if(0==b.length%2)for(var m,k;0<b.length;)m=b.shift()+"",k=b.shift(),d[m]=k;else this.L.Yk(205,"PhotonPeer[_parseMessageValuesToJSON] - Received invalid values array:",b);
return d};f.prototype.Aba=function(b,d){this.Daa(b,{V:d.V})};f.prototype.Dba=function(b,d){this.Eaa(b,{Pb:d.Hca,wi:d.uda,V:d.V})};f.prototype.Bba=function(b){Date.now();this.L.debug("internal response:",b)};f.prototype.sba=function(){this.L.debug("PhotonPeer[_onConnecting] - Starts connecting",this.url,'..., raising "connecting" event ...');this.Uq=!0;this.mo(f.Vb.hJ);this.YJ()};f.prototype.qba=function(){this.L.debug('PhotonPeer[_onConnect] - Connected successfully! Raising "connect" event ...');
this.Uq=!1;this.im=!0;this.mo(f.Vb.connect);this.YJ()};f.prototype.rba=function(){this.L.error("PhotonPeer[_onConnectFailed] - Socket connection could not be created:",this.url,this.hK,'Wrong host or port?\n Raising "connectFailed event ...');this.Uq=this.im=!1;this.mo(f.Vb.eB)};f.prototype.tba=function(){var b=this.im,d=this.Tq;this.L.debug('PhotonPeer[_onDisconnect] - Socket closed, raising "disconnect" event ...');this.Tq=this.im=this.Uq=!1;b&&(d?this.mo(f.Vb.disconnect):this.mo(f.Vb.dB))};f.prototype.wba=
function(){this.L.debug('PhotonPeer[_onTimeout] - Client timed out! Raising "timeout" event ...');this.mo(f.Vb.timeout)};f.prototype.uba=function(b){this.L.error("PhotonPeer[_onError] - Connection error:",b);this.Uq=this.im=this.Tq=!1;this.mo(f.Vb.error)};f.prototype.QF=function(b,d,m){d in b||(b[d]=[]);m&&"function"===typeof m?(this.L.debug("PhotonPeer[_addListener] - Adding listener for event",d),b[d].push(m)):this.L.error("PhotonPeer[_addListener] - Listener",d,"is not a function but of type",
typeof m,". No listener added!")};f.prototype.vG=function(b,d,m){if(d in b){b=b[d];d=0;for(var k=b.length;d<k;d++)ec.Ei.Bt.isArray(m)||(m=[m]),b[d].apply(this,void 0===m?[]:m);return!0}return!1};f.prototype.mo=function(b){this.vG(this.qS,b,void 0)||this.L.warn("PhotonPeer[_dispatchPeerStatus] - No handler for ",b,"registered.")};f.prototype.Iba=function(b,d,m){if(d in b){var k=b[d].length;b[d]=b[d].filter(function(p){return p!=m});this.L.debug("PhotonPeer[_removeListener] - Removing listener for event",
d,"removed:",k-b[d].length)}};f.Vb={hJ:"connecting",connect:"connect",eB:"connectFailed",disconnect:"disconnect",dB:"connectClosed",error:"error",timeout:"timeout"};return f}();e.Tc=c})(fc||(fc={}));
(function(e){(function(a){var c,f=function(){function l(h,q){this.name=h;this.mc=q;this.fh="";this.Qm={}}l.prototype.qp=function(h,q,t){this.bf&&this.bf.qp(h,q,t)};l.prototype.rp=function(h,q){var t;void 0===t&&(t=void 0);if(this.bf&&this.bf.jg()){var v={};v[h]=q;q={};q[h]=t;this.bf.GS(this.mc,v,!1,q)}};l.prototype.wU=function(h){this.name!=h&&(this.name=h,this.rp(a.j.vj.at,h))};l.prototype.op=function(){};l.prototype.qB=function(h){return this.Qm[h]};l.prototype.cK=function(h,q,t,v){var z;void 0===
t&&(t=!1);this.Qm[h]=q;var A={};A[h]=q;var F;void 0!=v&&(F=(z={},z[h]=v,z));this.bf&&this.bf.jg()&&this.bf.GS(this.mc,A,t,F);this.op(A)};l.prototype.hR=function(){var h={};h[a.j.vj.at]=this.name;for(var q in this.Qm)h[q]=this.Qm[q];return h};l.prototype.iI=function(h){this.bf=h};l.prototype.IT=function(){var h={},q;for(q in this.Qm)h[q]=this.Qm[q];return h};l.prototype.XS=function(h){this.mc=h[a.j.F.hh];h=h[a.j.F.Tx];if(void 0!==h){var q=h[a.j.vj.at];void 0!==q&&(this.name=q);q=h[a.j.vj.yg];void 0!==
q&&(this.fh=q);this.mj(h)}};l.prototype.YS=function(h){this.mc=h[a.j.F.hh]};l.prototype.Ef=function(h,q,t){return t.hasOwnProperty(q)?t[q]:h};l.prototype.mj=function(h){if(h){this.name=this.Ef(this.name,a.j.vj.at,h);var q={},t;for(t in h)parseInt(t).toString()!=t&&this.Qm[t]!==h[t]&&(this.Qm[t]=h[t],q[t]=h[t]);this.op(q)}};l.PG=function(h){return h[a.j.F.hh]};return l}();a.VU=f;var b=function(){function l(h){this.Lr=this.name="";this.tj=0;this.Zk=this.isVisible=!0;this.fl=this.Sm=this.es=0;this.xi=
[];this.plugins=[];this.rT=this.fw=!1;this.bs=0;this.jo={};this.Vu=[];this.name=h}l.prototype.IT=function(){var h={},q;for(q in this.jo)h[q]=this.jo[q];return h};l.prototype.Nca=function(){var h=[],q;for(q in this.Vu)h[q]=this.Vu[q];return h};l.prototype.op=function(){};l.prototype.qB=function(h){return this.jo[h]};l.prototype.MI=function(h){this.Lr=h[a.j.F.pK];if(h=h[a.j.F.Xx])this.name=h};l.prototype.mj=function(h){if(h){this.tj=this.Ef(this.tj,a.j.Rb.Ox,h);this.isVisible=this.Ef(this.isVisible,
a.j.Rb.fc,h);this.Zk=this.Ef(this.Zk,a.j.Rb.JD,h);this.es=this.Ef(this.es,a.j.Rb.N1,h);this.fw=this.Ef(this.fw,a.j.Rb.o2,h);this.Vu=this.Ef(this.Vu,a.j.Rb.SM,h);this.rT=this.Ef(this.rT,a.j.Rb.nC,h);this.bs=this.Ef(this.bs,a.j.Rb.TD,h);this.Sm=this.Ef(this.Sm,a.j.Rb.$K,h);this.fl=this.Ef(this.fl,a.j.Rb.MM,h);this.xi=this.Ef(this.fl,a.j.Rb.YX,h);var q={},t;for(t in h)parseInt(t).toString()!=t&&this.jo[t]!==h[t]&&(this.jo[t]=h[t],q[t]=h[t]);this.op(q)}};l.prototype.Tba=function(h){h&&(this.bs=this.Ef(this.bs,
a.j.F.TD,h))};l.prototype.Ef=function(h,q,t){return t.hasOwnProperty(q)?t[q]:h};return l}();a.tka=b;var d=function(l){function h(q){return l.call(this,q)||this}dc(h,l);h.prototype.cK=function(q,t,v,z){var A;void 0===v&&(v=!1);this.jo[q]=t;var F={};F[q]=t;var x;void 0!=z&&(x=(A={},A[q]=z,A));this.bf&&this.bf.jg()&&this.bf.HS(F,v,x);this.op(F)};h.prototype.rp=function(q,t){var v;void 0===v&&(v=void 0);if(this.bf&&this.bf.jg()){var z={};z[q]=t;t={};t[q]=v;this.bf.HS(z,!1,t)}};h.prototype.cea=function(q){this.isVisible!=
q&&(this.isVisible=q,this.rp(a.j.Rb.fc,q))};h.prototype.bea=function(q){this.Zk!=q&&(this.Zk=q,this.rp(a.j.Rb.JD,q))};h.prototype.eea=function(q){this.tj!=q&&(this.tj=q,this.rp(a.j.Rb.Ox,q))};h.prototype.tU=function(q){this.Sm!=q&&(this.Sm=q,this.rp(a.j.Rb.$K,q))};h.prototype.AU=function(q){this.fl!=q&&(this.fl=q,this.rp(a.j.Rb.MM,q))};h.prototype.xU=function(q){this.Vu=q};h.prototype.iI=function(q){this.bf=q};return h}(b);a.B2=d;var m=function(){function l(h,q,t){this.appId=q;this.appVersion=t;this.Qr=
0;this.Ym=this.Ai="";this.pB=!1;this.kT=!0;this.Ic={};this.gB={};this.Pv={};this.Bi=[];this.bl={};this.Bf={};this.rj=[];this.kp=0;this.fh="";this.xp=a.j.ws.Px;this.lw=this.TB="";this.Kv=[];this.Rv=[];this.state=l.da.yt;this.gb=new ec.Ei.Mx("Client:");this.gl={};if("number"==typeof h)switch(this.Qr=h,h){case e.kn.Ws:this.Ai="ws://app-eu.exitgamescloud.com:9090";this.Ym="ws://ns.exitgames.com:9093";break;case e.kn.Wss:this.Ai="wss://app-eu.exitgamescloud.com:19090";this.Ym="wss://ns.exitgames.com:19093";
break;default:this.Ym=this.Ai="wrong_protocol_error",this.gb.error("Wrong protocol: ",h)}else"string"==typeof h?(this.Qr=e.kn.sO,this.Ym=this.Ai=h):(this.Qr=e.kn.sO,this.Ym=this.Ai="wrong_protocol_type_error",this.gb.error("Wrong protocol type: ",typeof h));this.Wca();this.Wa=this.ZJ("");this.Md=this.XI("",-1,!0);this.Kr(this.Md)}l.prototype.Zv=function(){};l.prototype.Zm=function(){};l.prototype.Yv=function(){};l.prototype.lp=function(){};l.prototype.CB=function(){};l.prototype.DB=function(){};l.prototype.BB=
function(){};l.prototype.zB=function(){};l.prototype.Xv=function(){};l.prototype.Uv=function(){};l.prototype.Vv=function(){};l.prototype.Wv=function(){};l.prototype.mp=function(){};l.prototype.np=function(){};l.prototype.AB=function(){};l.prototype.$v=function(){};l.prototype.nU=function(h){return new d(h)};l.prototype.cT=function(h,q,t){return new f(h,q,t)};l.prototype.xda=function(){return this.Wa.bs?this.Wa.bs:this.kp};l.prototype.ZJ=function(h){void 0===h&&(h="");h=this.nU(h);h.iI(this);return h};
l.prototype.XI=function(h,q,t){void 0===h&&(h="");void 0===q&&(q=-1);void 0===t&&(t=!1);h=this.cT(h,q,t);h.iI(this);return h};l.prototype.dea=function(h){this.Ai=h};l.prototype.dK=function(h){this.fh=h};l.prototype.sU=function(h,q,t){void 0===q&&(q=e.Wd.j.ws.sW);this.xp=q;this.TB=h;this.lw=t};l.prototype.connect=function(h){"boolean"===typeof h&&(h=h?{UT:!0}:{UT:!1});h||(h={});if(this.dJ(l.da.jn)){this.Ob(l.da.jn);this.gb.info("Connecting to Master",this.Ai);this.Ic={};for(var q in h)this.Ic[q]=h[q];
this.ub&&this.ub.Ow();this.ub=new p(this,this.Qr,this.Ai,"");this.zJ(this.ub);this.ub.connect(this.appId);return!0}return!1};l.prototype.fB=function(h){h||(h={});if(this.dJ(l.da.kl)){this.Ob(l.da.kl);this.gb.info("Connecting to NameServer",this.Ym);this.Ic={};for(var q in h)this.Ic[q]=h[q];this.kg&&this.kg.Ow();this.kg=new k(this,this.Qr,this.Ym,"");this.Uca(this.kg);this.kg.connect(this.appId);return!0}return!1};l.prototype.qJ=function(h,q){q=q||{};var t={};void 0!==q.isVisible&&(t[a.j.Rb.fc]=q.isVisible);
void 0!==q.Zk&&(t[a.j.Rb.JD]=q.Zk);void 0!==q.tj&&(t[a.j.Rb.Ox]=q.tj);void 0!==q.iU&&(t[a.j.Rb.SM]=e.Db.String(q.iU));if(void 0!==q.lJ)for(var v in q.lJ)t[v]=q.lJ[v];h.push(a.j.F.Rb,t);h.push(a.j.F.nC,!0);h.push(a.j.F.Dp,!0);void 0!==q.Sm&&h.push(a.j.F.MX,e.Db.An(q.Sm));void 0!==q.fl&&h.push(a.j.F.O1,e.Db.An(q.fl));void 0!==q.plugins&&h.push(a.j.F.D,e.Db.String(q.plugins));h.push(a.j.F.RV,!0);h.push(a.j.F.X1,!0);q.bh&&(h.push(a.j.F.$p),h.push(q.bh),void 0!=q.dh&&(h.push(a.j.F.vh),h.push(q.dh)));q.xi&&
h.push(a.j.F.Kb,q.xi)};l.prototype.uca=function(h,q){this.Wa.name=h?h:"";q=this.sT(q);this.ub&&this.kJ(this.ub,q)};l.prototype.sT=function(h){h=h||{};h.isVisible=this.Wa.isVisible;h.Zk=this.Wa.Zk;h.tj=this.Wa.tj;h.lJ=this.Wa.IT();h.iU=this.Wa.Nca();h.Sm=this.Wa.Sm;h.fl=this.Wa.fl;h.plugins=this.Wa.plugins;h.xi=this.Wa.xi;return h};l.prototype.vT=function(h,q){this.Wa=this.ZJ(h?h:"");if(this.ub)return this.kJ(this.ub,q)};l.prototype.FJ=function(h,q,t){if(!this.ub)return!1;var v=[];q&&(q.tca&&(v.push(a.j.F.Qj,
l.Qj.OK),this.qJ(v,t)),q.Nda&&v.push(a.j.F.Qj,l.Qj.aN),q.xi&&v.push(a.j.F.Kb,q.xi));this.Wa=this.ZJ(h);v.push(a.j.F.Xx,h);this.Pv=q||{};this.gB=t||{};this.gb.info("Join Room",h,q,t,"...");this.ub.pd(a.j.Ea.El,v);return!0};l.prototype.EJ=function(h){if(!this.ub)return!1;var q=[];if(h){void 0!=h.ZT&&h.ZT!=a.j.P0.aY&&(q.push(a.j.F.O0),q.push(h.ZT));var t={},v=!1;if(void 0!=h.oJ)for(var z in h.oJ)t[z]=h.oJ[z],v=!0;void 0!=h.pJ&&0<h.pJ&&(t[a.j.Rb.Ox]=h.pJ,v=!0);v&&(q.push(a.j.F.Rb),q.push(t));h.bh&&(q.push(a.j.F.$p),
q.push(h.bh),void 0!=h.dh&&(q.push(a.j.F.vh),q.push(h.dh)));h.iea&&(q.push(a.j.F.xs),q.push(h.iea));h.xi&&q.push(a.j.F.Kb,h.xi)}this.gb.info("Join Random Room",h&&h.bh,h&&h.dh,"...");this.ub.pd(a.j.Ea.Xs,q);return!0};l.prototype.HS=function(h,q,t){if(this.ec){var v=[];v.push(a.j.F.Tj);v.push(h);v.push(a.j.F.Dp);v.push(!0);q&&(v.push(a.j.F.Tn),v.push(e.Db.Sd(1)));t&&(v.push(a.j.F.eL),v.push(t));this.ec.pd(a.j.Ea.mq,v)}};l.prototype.GS=function(h,q,t,v){if(this.ec){var z=[];z.push(a.j.F.hh);z.push(e.Db.An(h));
z.push(a.j.F.Tj);z.push(q);z.push(a.j.F.Dp);z.push(!0);t&&(z.push(a.j.F.Tn),z.push(e.Db.Sd(1)));v&&(z.push(a.j.F.eL),z.push(v));this.ec.pd(a.j.Ea.mq,z)}};l.prototype.disconnect=function(){this.kg&&this.kg.disconnect();this.ub&&this.ub.disconnect();this.ec&&this.ec.disconnect();this.fz();this.Ob(l.da.ll)};l.prototype.EU=function(h){if(this.jg()){if(this.ec){var q=[];h&&h.rU&&q.push(a.j.F.Tn,e.Db.Sd(2));q.push(a.j.F.jM,!0);this.ec.pd(a.j.Ea.Oi,q);this.pB=!0}this.fz();this.jp()?this.Ob(l.da.Fl):(this.Ob(l.da.ll),
this.connect(this.Ic))}};l.prototype.XT=function(h){if(this.jg()){if(this.ec){var q=[];h&&h.rU&&q.push(a.j.F.Tn,e.Db.Sd(2));this.ec.pd(a.j.Ea.Oi,q);this.pB=!0}this.fz();this.jp()?this.Ob(l.da.Fl):(this.Ob(l.da.ll),this.connect(this.Ic))}};l.prototype.qp=function(h,q,t){this.ec&&this.jg()&&this.ec.qp(h,q,t)};l.prototype.gp=function(h,q){this.ec&&this.jg()&&(this.gb.debug("Group change:",h,q),this.ec.gp(h,q))};l.prototype.nB=function(h){if(this.ub&&this.jp())if(h&&"object"==typeof h){this.Kv=[];for(var q=
0;q<h.length;++q)if("string"==typeof h[q])this.Kv[q]=h[q];else{this.gb.error("FindFriends request error:","Friend name is not a string",q);this.mp(-1,"Friend name is not a string "+q,{});return}this.gb.debug("Find friends:",h);this.ub.nB(this.Kv)}else this.gb.error("FindFriends request error:","Parameter is not an array"),this.mp(-1,"Parameter is not an array",{});else this.gb.error("FindFriends request error:","Not connected to Master"),this.mp(l.Hd.Nx,"Not connected to Master",{})};l.prototype.LB=
function(h){if(this.ub&&this.jp()){this.Rv=[];if(h)if("object"==typeof h)for(var q=0;q<h.length;++q){var t=h[q];if("object"==typeof t){var v=t[0];if(v){if(void 0===t[1])t=a.j.vh.TK;else if("number"==typeof t[1])t=t[1];else{this.MB("Lobby type is invalid",q);return}this.Rv[q]=[v.toString(),t]}else{this.MB("Lobby name is empty",q);return}}else{this.MB("Lobby id is not an array",q);return}}else{this.MB("Parameter is not an array");return}this.ub.LB(this.Rv)}else this.gb.error("LobbyState request error:",
"Not connected to Master"),this.np(l.Hd.Nx,"Not connected to Master",[])};l.prototype.MB=function(h,q){void 0===q&&(q="");this.gb.error("LobbyState request error:",h,q);this.np(-1,h+" "+q,[])};l.prototype.ow=function(h,q,t){this.ub&&this.jp()?(this.gb.debug("WebRpc..."),this.ub.ow(h,q,t)):this.ec&&this.jg()?(this.gb.debug("WebRpc..."),this.ec.ow(h,q,t)):(this.gb.error("WebRpc request error:","Connected to neither Master nor Game server"),this.$v(l.Hd.Nx,"Connected to neither Master nor Game server",
h,0,{}))};l.prototype.sca=function(h){this.kg&&this.CJ()?(this.gb.debug("Connecting to Region Master",h,"..."),this.kg.fU(this.appId,this.appVersion,this.xp,this.TB,this.lw,this.fh,h)):this.fB({region:h})||this.gb.error("Connecting to Region Master error:","Not connected to NameServer")};l.prototype.jp=function(){return this.ub&&this.ub.isConnected()};l.prototype.CJ=function(){return this.kg&&this.kg.isConnected()};l.prototype.PT=function(){return this.state==l.da.Fl};l.prototype.jg=function(){return this.state==
l.da.Ys};l.prototype.cn=function(h){this.gb.vU(h);this.kg&&this.kg.cn(h);this.ub&&this.ub.cn(h);this.ec&&this.ec.cn(h)};l.prototype.eT=function(h){this.Bi.push(h);this.bl[h.name]=h};l.prototype.qca=function(){this.Bi=[];this.bl={}};l.prototype.Kda=function(){this.Bi=this.Bi.filter(function(q){return!q.fw});for(var h in this.bl)this.bl[h].fw&&delete this.bl[h]};l.prototype.Kr=function(h){this.Bf[h.mc]=h;this.rj.push(h);this.Wa.es=this.rj.length;if(0==this.kp||this.kp>h.mc)this.kp=h.mc};l.prototype.Pda=
function(h){delete this.Bf[h];this.rj=this.rj.filter(function(q){return q.mc!=h});this.Wa.es=this.rj.length;this.kp==h&&(this.kp=0<this.rj.length?this.rj.reduce(function(q,t){return q.mc<t.mc?q:t}).mc:0)};l.prototype.eJ=function(){this.Bf={};this.rj=[];this.kp=this.Wa.es=0};l.prototype.Ob=function(h){this.gb.info("State:",l.ak(this.state),"->",l.ak(h));this.state=h;this.Zv(h)};l.prototype.kJ=function(h,q){var t=[];this.Wa.name&&t.push(a.j.F.Xx,this.Wa.name);this.qJ(t,q);h===this.ub&&(this.gB=q);h===
this.ec&&(t.push(a.j.F.Tx),t.push(this.Md.hR()));var v=h==this.ec?this.ec.L:this.ub?this.ub.L:null;v&&v.info("Create Room",q&&q.bh,q&&q.dh,"...");h.pd(a.j.Ea.ln,t)};l.prototype.NU=function(h,q){var t=h[a.j.F.yg];void 0!=t&&(this.dK(t),q.info("Setting userId sent by server:",t));h=h[a.j.F.b1];void 0!=h&&(this.Md.wU(h),q.info("Setting nickname sent by server:",h))};l.prototype.Uca=function(h){var q=this;h.cn(this.gb.level);h.od(e.Tc.Vb.error,function(){q.Ob(l.da.Error);q.We(l.Hd.$0,"NameServer peer error")});
h.od(e.Tc.Vb.eB,function(){q.Ob(l.da.Error);q.We(l.Hd.Z0,"NameServer peer connect failed. "+q.Ym)});h.od(e.Tc.Vb.timeout,function(){q.Ob(l.da.Error);q.We(l.Hd.a1,"NameServer peer timeout")});h.od(e.Tc.Vb.hJ,function(){});h.od(e.Tc.Vb.connect,function(){h.L.info("Connected");q.Ob(l.da.vs);void 0!=q.Ic.region&&h.fU(q.appId,q.appVersion,q.xp,q.TB,q.lw,q.fh,q.Ic.region)});h.od(e.Tc.Vb.disconnect,function(){h==q.kg&&h.L.info("Disconnected")});h.od(e.Tc.Vb.dB,function(){h.L.info("Server closed connection");
q.Ob(l.da.Error);q.We(l.Hd.Y0,"NameServer server closed connection")});h.Be(a.j.Ea.vZ,function(t){h.L.debug("resp GetRegions",t);if(0==t.Pb){t=t.V[a.j.F.gq];for(var v in t);}else h.L.error("GetRegions request error.",t.Pb)});h.Be(a.j.Ea.gn,function(t){h.L.debug("resp Authenticate",t);0==t.Pb?(h.L.info("Authenticated"),h.disconnect(),q.NU(t.V,h.L),q.Ai=t.V[a.j.F.pK],h.L.info("Connecting to Master server",q.Ai,"..."),q.Ic.mw=t.V[a.j.F.lt],q.connect(q.Ic)):(q.Ob(l.da.Error),q.We(l.Hd.X0,"NameServer authentication failed: "+
t.Pb+" "+t.wi))})};l.prototype.zJ=function(h){var q=this;h.cn(this.gb.level);h.od(e.Tc.Vb.error,function(){q.Ob(l.da.Error);q.We(l.Hd.Nx,"Master peer error")});h.od(e.Tc.Vb.eB,function(){q.Ob(l.da.Error);q.We(l.Hd.L0,"Master peer connect failed: "+q.Ai)});h.od(e.Tc.Vb.timeout,function(){q.Ob(l.da.Error);q.We(l.Hd.N0,"Master peer error timeout")});h.od(e.Tc.Vb.hJ,function(){});h.od(e.Tc.Vb.connect,function(){h.L.info("Connected");var t=[];q.Ic.mw?(t.push(a.j.F.lt,q.Ic.mw),h.pd(a.j.Ea.gn,t),h.L.info("Authenticate with secret...")):
(t.push(a.j.F.bC),t.push(q.appId),t.push(a.j.F.Ap),t.push(q.appVersion),q.xp!=a.j.ws.Px&&(t.push(a.j.F.pC,e.Db.Sd(q.xp)),t.push(a.j.F.EK,q.TB),q.lw&&t.push(a.j.F.DK,q.lw)),q.fh&&t.push(a.j.F.yg,q.fh),q.Ic.cf&&t.push(a.j.F.aq,!0),h.pd(a.j.Ea.gn,t),h.L.info("Authenticate..."))});h.od(e.Tc.Vb.disconnect,function(){h==q.ub&&h.L.info("Disconnected")});h.od(e.Tc.Vb.dB,function(){h.L.info("Server closed connection");q.Ob(l.da.Error);q.We(l.Hd.K0,"Master server closed connection")});h.addEventListener(a.j.Td.Vw,
function(t){t=t.V[a.j.F.Vw];q.qca();for(var v in t){var z=new b(v);z.mj(t[v]);q.eT(z)}q.CB(q.Bi);h.L.debug("ev GameList",q.Bi,t)});h.addEventListener(a.j.Td.qY,function(t){t=t.V[a.j.F.Vw];var v=[],z=[],A=[],F;for(F in t){var x=q.Bi.filter(function(E){return E.name==F});0<x.length?(x=x[0],x.mj(t[F]),x.fw?A.push(x):v.push(x)):(x=new b(F),x.mj(t[F]),q.eT(x),z.push(x))}q.Kda();q.DB(q.Bi,v,z,A);h.L.debug("ev GameListUpdate:",q.Bi,"u:",v,"a:",z,"r:",A,t)});h.Be(a.j.Ea.gn,function(t){h.L.debug("resp Authenticate",
t);t.Pb?(q.Ob(l.da.Error),q.We(l.Hd.J0,"Master authentication failed: "+t.Pb+" "+t.wi)):(h.L.info("Authenticated"),q.NU(t.V,h.L),void 0!=t.V[a.j.F.lt]&&(q.Ic.mw=t.V[a.j.F.lt]),q.Ob(l.da.sC),t=[],q.Ic.bh&&(t.push(a.j.F.$p),t.push(q.Ic.bh),void 0!=q.Ic.dh&&(t.push(a.j.F.vh),t.push(q.Ic.dh))),q.kT&&(h.pd(a.j.Ea.ND,t),h.L.info("Join Lobby",q.Ic.bh,q.Ic.dh,"...")))});h.Be(a.j.Ea.ND,function(t){h.L.debug("resp JoinLobby",t);t.Pb||(h.L.info("Joined to Lobby"),q.Ob(l.da.Fl));q.qm(a.j.Ea.ND,t)});h.Be(a.j.Ea.ln,
function(t){h.L.debug("resp CreateGame",t);t.Pb||(q.Wa.MI(t.V),h.L.debug("Created/Joined "+q.Wa.name),q.gJ(a.j.Ea.ln));q.qm(a.j.Ea.ln,t)});h.Be(a.j.Ea.El,function(t){h.L.debug("resp JoinGame",t);t.Pb||(q.Wa.MI(t.V),h.L.debug("Joined "+q.Wa.name),q.gJ(a.j.Ea.El));q.qm(a.j.Ea.El,t)});h.Be(a.j.Ea.Xs,function(t){h.L.debug("resp JoinRandomGame",t);t.Pb||(q.Wa.MI(t.V),h.L.debug("Joined "+q.Wa.name),q.gJ(a.j.Ea.Xs));q.qm(a.j.Ea.Xs,t)});h.Be(a.j.Ea.hL,function(t){h.L.debug("resp FindFriends",t);var v={};
if(t.Pb)h.L.error("FindFriends request error:",t.Pb);else for(var z=t.V[a.j.F.fY]||{},A=t.V[a.j.F.gY]||{},F=0;F<q.Kv.length;++F){var x=q.Kv[F];x&&(v[x]={Eda:z[F],Sda:A[F]})}q.mp(t.Pb,t.wi,v)});h.Be(a.j.Ea.aq,function(t){h.L.debug("resp LobbyStats",t);var v=[];if(t.Pb)h.L.error("LobbyStats request error:",t.Pb);else{var z=t.V[a.j.F.$p],A=t.V[a.j.F.vh]||{},F=t.V[a.j.F.cE]||{},x=t.V[a.j.F.HC]||{};if(z)for(var E=0;E<z.length;++E)v[E]={bh:z[E],dh:A[E],aw:F[E],Lv:x[E]};else for(E=0;E<q.Rv.length;++E)z=
q.Rv[E],v[E]={bh:z[0],dh:z[1],aw:F[E],Lv:x[E]}}q.np(t.Pb,t.wi,v)});h.addEventListener(a.j.Td.aq,function(t){h.L.debug("ev LobbyStats",t);var v=[],z=t.V[a.j.F.$p],A=t.V[a.j.F.vh]||{},F=t.V[a.j.F.cE]||{};t=t.V[a.j.F.HC]||{};if(z)for(var x=0;x<z.length;++x)v[x]={bh:z[x],dh:A[x],aw:F[x],Lv:t[x]};q.np(0,"",v)});h.addEventListener(a.j.Td.oV,function(t){h.L.debug("ev AppStats",t);q.AB(0,"",{aw:t.V[a.j.F.cE],qda:t.V[a.j.F.M0],Lv:t.V[a.j.F.HC]})});h.Be(a.j.Ea.nE,h.QU(this))};l.prototype.gJ=function(h){!this.Ic.UT&&
this.ub&&this.ub.disconnect();this.dJ(l.da.Gp)&&(this.gb.info("Connecting to Game",this.Wa.Lr),this.ec&&this.ec.Ow(),this.ec=new r(this,this.Qr,this.Wa.Lr,""),this.pB=!1,this.Tca(this.ec,h),this.ec.connect(this.appId),this.Ob(l.da.Gp))};l.prototype.Tca=function(h,q){var t=this;h.cn(this.gb.level);h.od(e.Tc.Vb.error,function(){t.Ob(l.da.Error);t.We(l.Hd.nY,"Game peer error")});h.od(e.Tc.Vb.eB,function(){t.Ob(l.da.Error);t.We(l.Hd.mY,"Game peer connect failed: "+t.Wa.Lr)});h.od(e.Tc.Vb.timeout,function(){t.Ob(l.da.Error);
t.We(l.Hd.sY,"Game peer timeout")});h.od(e.Tc.Vb.connect,function(){h.L.info("Connected");var v=[];v.push(a.j.F.bC);v.push(t.appId);v.push(a.j.F.Ap);v.push(t.appVersion);void 0!=t.Ic.mw&&(v.push(a.j.F.lt),v.push(t.Ic.mw));t.xp!=a.j.ws.Px&&(v.push(a.j.F.pC),v.push(e.Db.Sd(t.xp)));t.fh&&v.push(a.j.F.yg,t.fh);h.pd(a.j.Ea.gn,v);h.L.info("Authenticate...")});h.od(e.Tc.Vb.disconnect,function(){h==t.ec&&(t.fz(),h.L.info("Disconnected"))});h.od(e.Tc.Vb.dB,function(){h.L.info("Server closed connection");t.pB||
(t.Ob(l.da.Error),t.We(l.Hd.lY,"Game server closed connection"))});h.Be(a.j.Ea.gn,function(v){h.L.debug("resp Authenticate",v);v.Pb?(t.Ob(l.da.Error),t.We(l.Hd.kY,"Game authentication failed: "+v.Pb+" "+v.wi)):(h.L.info("Authenticated"),h.L.info("Connected"),q==a.j.Ea.ln?t.kJ(h,t.gB):(v=[],v.push(a.j.F.Xx),v.push(t.Wa.name),v.push(a.j.F.Dp),v.push(!0),v.push(a.j.F.Tx),v.push(t.Md.hR()),q==a.j.Ea.El&&(t.Pv.tca&&(v.push(a.j.F.Qj,l.Qj.OK),t.qJ(v,t.gB)),t.Pv.Nda&&v.push(a.j.F.Qj,l.Qj.aN),t.Pv.xi&&v.push(a.j.F.Kb,
t.Pv.xi)),h.pd(a.j.Ea.El,v)),t.Ob(l.da.Hw))});h.Be(a.j.Ea.ln,function(v){h.L.debug("resp CreateGame",v);v.Pb||(t.Md.YS(v.V),h.L.info("myActor: ",t.Md),t.Wa.mj(v.V[a.j.F.Rb]),t.eJ(),t.Kr(t.Md),t.Ob(l.da.Ys),t.Xv(!0));t.qm(a.j.Ea.ln,v)});h.Be(a.j.Ea.El,function(v){h.L.debug("resp JoinGame",v);if(!v.Pb){t.Md.YS(v.V);h.L.info("myActor: ",t.Md);t.eJ();t.Kr(t.Md);var z=v.V[a.j.F.rw],A=v.V[a.j.F.Tx];if(void 0!==z)for(var F=0;F<z.length;F++){var x=z[F],E;void 0!==A&&(E=A[x]);var I="";void 0!==E&&(I=E[a.j.vj.at]);
x==t.Md.mc?x=t.Md:(x=t.XI(I,x),t.Kr(x));void 0!==E&&(I=E[a.j.vj.yg],void 0!=I&&(x.fh=I));void 0!==E&&x.mj(E)}t.Wa.mj(v.V[a.j.F.Rb]);t.Ob(l.da.Ys);t.Xv(!1)}t.qm(a.j.Ea.El,v)});h.Be(a.j.Ea.mq,function(v){h.L.debug("resp SetProperties",v);t.qm(a.j.Ea.mq,v)});h.Be(a.j.Ea.Oi,function(v){h.L.debug("resp Leave",v);h.disconnect();t.qm(a.j.Ea.Oi,v)});h.Be(a.j.Ea.nE,h.QU(this));h.addEventListener(a.j.Td.Gx,function(v){h.L.debug("ev Join",v);if(f.PG(v.V)===t.Md.mc)t.Md.XS(v.V),t.Uv(t.Md);else{var z=t.XI();z.XS(v.V);
t.Kr(z);t.Uv(z)}});h.addEventListener(a.j.Td.Oi,function(v){h.L.debug("ev Leave",v);t.Wa.Tba(v.V);var z=f.PG(v.V);if(z&&t.Bf[z]){var A=t.Bf[z];v.V[a.j.F.jM]?t.Wv(A):(t.Pda(z),t.Vv(A,!1))}});h.addEventListener(a.j.Td.HW,function(v){h.L.debug("ev Disconnect",v);(v=f.PG(v.V))&&t.Bf[v]&&t.Wv(t.Bf[v])});h.addEventListener(a.j.Td.eE,function(v){h.L.debug("ev PropertiesChanged",v);var z=v.V[a.j.F.PE];void 0!==z&&0<z?void 0!==t.Bf[z]&&(z=t.Bf[z],z.mj(v.V[a.j.F.Tj]),t.zB(z)):(t.Wa.mj(v.V[a.j.F.Tj]),t.BB())})};
l.prototype.fz=function(){for(var h in this.Bf)this.Vv(this.Bf[h],!0);this.eJ();this.Kr(this.Md)};l.prototype.qm=function(h,q){q.Pb&&this.gb.warn("Operation",h,"error:",q.wi,"("+q.Pb+")");this.Yv(q.Pb,q.wi,h)};l.prototype.We=function(h,q){this.gb.error("Error:",h,q);this.Zm(h,q)};l.prototype.Wca=function(){this.gl[l.da.Error]=[l.da.jn,l.da.kl];this.gl[l.da.yt]=[l.da.jn,l.da.kl];this.gl[l.da.vs]=[l.da.jn];this.gl[l.da.ll]=[l.da.jn,l.da.kl];this.gl[l.da.sC]=[l.da.Fl,l.da.Gp];this.gl[l.da.Fl]=[l.da.Gp];
this.gl[l.da.Gp]=[l.da.Hw];this.gl[l.da.Hw]=[l.da.Ys]};l.prototype.dJ=function(h){var q=!0;void 0===q&&(q=!1);var t=this.gl[this.state];(t=t&&0<=t.indexOf(h))||(q?this.gb.error("LoadBalancingPeer checkNextState fail: "+l.ak(this.state)+" -> "+l.ak(h)):this.gb.Yk(501,"LoadBalancingPeer checkNextState fail: "+l.ak(this.state)+" -> "+l.ak(h)));return t};l.ak=function(h){return l.jea[h]};l.Qj={TK:0,OK:1,aN:3};l.Hd={r1:0,Nx:1001,L0:1002,K0:1003,N0:1004,$ha:1005,J0:1101,nY:2001,mY:2002,lY:2003,sY:2004,
mga:2005,kY:2101,$0:3001,Z0:3002,Y0:3003,a1:3004,oia:3005,X0:3101};l.da={Error:-1,yt:0,kl:1,vs:2,jn:3,sC:4,Fl:5,Gp:6,Hw:7,Ys:8,ll:10};l.jea=(c={},c[l.da.Error]="Error",c[l.da.yt]="Uninitialized",c[l.da.kl]="ConnectingToNameServer",c[l.da.vs]="ConnectedToNameServer",c[l.da.jn]="ConnectingToMasterserver",c[l.da.sC]="ConnectedToMaster",c[l.da.Fl]="JoinedLobby",c[l.da.Gp]="ConnectingToGameserver",c[l.da.Hw]="ConnectedToGameserver",c[l.da.Ys]="Joined",c[l.da.ll]="Disconnected",c);return l}();a.Zp=m;m=
function(l){function h(){return null!==l&&l.apply(this,arguments)||this}dc(h,l);h.prototype.ow=function(q,t,v){var z=[];z.push(a.j.F.jO,q);z.push(a.j.F.C2,t);v&&v.rU&&z.push(a.j.F.Tn,e.Db.Sd(2));this.pd(a.j.Ea.nE,z)};h.prototype.QU=function(q){var t=this;return function(v){t.L.debug("resp Rpc",v);if(0==v.Pb){var z=v.V[a.j.F.jO];var A=v.V[a.j.F.E2];var F=v.V[a.j.F.D2]}else t.L.error("WebRpc request error:",v.Pb);q.$v(v.Pb,v.wi,z,F,A)}};return h}(e.Tc);a.Gha=m;var k=function(l){function h(q,t,v,z){t=
l.call(this,t,v,z,q.gb.prefix+" NameServer")||this;t.client=q;return t}dc(h,l);h.prototype.EB=function(q,t){this.client.lp(q,t.V[a.j.F.xC],t.V[a.j.F.hh])};h.prototype.GB=function(q,t){this.client.Yv(t.Pb,t.wi,q)};h.prototype.fU=function(q,t,v,z,A,F,x){var E=[];E.push(a.j.F.bC,q);E.push(a.j.F.Ap,t);v!=a.j.ws.Px&&(E.push(a.j.F.pC,e.Db.Sd(v)),E.push(a.j.F.EK,z),A&&E.push(a.j.F.DK,A));F&&E.push(a.j.F.yg,F);E.push(a.j.F.gq,x);this.pd(a.j.Ea.gn,E);this.L.info("Authenticate...")};return h}(m);a.pia=k;var p=
function(l){function h(q,t,v,z){t=l.call(this,t,v,z,q.gb.prefix+" Master")||this;t.client=q;return t}dc(h,l);h.prototype.EB=function(q,t){this.client.lp(q,t.V[a.j.F.xC],t.V[a.j.F.hh])};h.prototype.GB=function(q,t){this.client.Yv(t.Pb,t.wi,q)};h.prototype.nB=function(q){var t=[];t.push(a.j.F.eY);t.push(q);this.pd(a.j.Ea.hL,t)};h.prototype.LB=function(q){var t=[];if(q&&0<q.length){for(var v=[],z=[],A=0;A<q.length;++A)v[A]=q[A][0],z[A]=q[A][1];t.push(a.j.F.$p);t.push(v);t.push(a.j.F.vh);t.push(z)}this.pd(a.j.Ea.aq,
t)};return h}(m);a.aia=p;var r=function(l){function h(q,t,v,z){t=l.call(this,t,v,z,q.gb.prefix+" Game")||this;t.client=q;return t}dc(h,l);h.prototype.EB=function(q,t){this.client.lp(q,t.V[a.j.F.xC],t.V[a.j.F.hh])};h.prototype.GB=function(q,t){this.client.Yv(t.Pb,t.wi,q)};h.prototype.qp=function(q,t,v){if(this.client.jg())this.L.debug("raiseEvent",q,t,v),q=[a.j.F.qC,e.Db.Sd(q),a.j.F.xs,t],v&&(void 0!=v.kU&&v.kU!==a.j.ft.J1&&(q.push(a.j.F.ft),q.push(e.Db.Sd(v.kU))),void 0!=v.cache&&v.cache!==a.j.SX.PW&&
(q.push(a.j.F.Cache),q.push(e.Db.Sd(v.cache))),void 0!=v.AJ&&(this.pT(v.AJ)?(q.push(a.j.F.oD),q.push(e.Db.Sd(v.AJ))):this.L.Yk(502,"raiseEvent - Group not a number: "+v.AJ)),void 0!=v.FU&&(q.push(a.j.F.rw),q.push(v.FU)),v.Dqa&&(q.push(a.j.F.Tn),q.push(e.Db.Sd(1)))),this.pd(a.j.Ea.hE,q);else throw Error("raiseEvent - Not joined!");};h.prototype.gp=function(q,t){var v=[];null!=q&&void 0!=q&&(this.oT(q,"groupsToRemove"),v.push(a.j.F.ne),v.push(e.Db.Sd(q)));null!=t&&void 0!=t&&(this.oT(t,"groupsToAdd"),
v.push(a.j.F.Kb),v.push(e.Db.Sd(t)));this.pd(a.j.Ea.kC,v)};h.prototype.pT=function(q){return!("number"!=typeof q||isNaN(q)||Infinity===q||-Infinity===q)};h.prototype.oT=function(q,t){if(ec.Ei.Bt.isArray(q))for(var v=0;v<q.length;++v){var z=q[v];this.pT(z)||this.L.Yk(503,"changeGroups - "+t+" ("+q+") not an array of numbers: element "+v+" = "+z)}else this.L.Yk(504,"changeGroups - groupsToRemove not an array: "+q)};return h}(m);a.pga=r})(e.Wd||(e.Wd={}))})(fc||(fc={}));
var gc=fc||(fc={}),hc=gc.Lx||(gc.Lx={}),ic=hc.j||(hc.j={});ic.w0={rw:252,hh:254,vj:249,Kb:238,Dp:250,Cache:247,qC:244,xs:245,pY:255,Rb:248,oD:240,Tj:251,ft:246,ne:239,PE:253,LX:236};ic.u0={Gx:255,Oi:254,eE:253};ic.v0={kC:248,EL:251,Gx:255,Oi:254,hE:253,mq:252};var jc=fc||(fc={}),kc=jc.Wd||(jc.Wd={}),lc=kc.j||(kc.j={}),mc=jc.Lx.j.w0,nc=jc.Lx.j.v0,oc=jc.Lx.j.u0;
lc.bL={r1:0,Lia:-3,Kga:-2,Hga:-1,Iga:32767,oga:32766,nga:32765,kga:32764,d1:32760,lga:32758,bia:32757,Lga:32756,Ifa:32755,Xea:32753,hja:32752,gja:32751,wha:32750,vha:32749,xha:32748,uha:32747,tha:32746,zga:32745,Ufa:32744,Mla:32742,Jga:32741};lc.vj={at:255,yg:253};lc.Rb={Ox:255,fc:254,JD:253,N1:252,o2:251,SM:250,nC:249,TD:248,YX:247,MM:246,$K:245};lc.Td={Vw:230,qY:229,pja:228,oV:226,xV:210,Gx:oc.Gx,Oi:oc.Oi,eE:oc.eE,HW:252,aq:224};
lc.F={pK:230,cE:229,HC:228,M0:227,yg:225,bC:224,jja:223,O0:223,Vw:222,lt:221,Ap:220,xV:210,Yea:209,Zea:208,Xx:mc.pY,Dp:mc.Dp,rw:mc.rw,hh:mc.hh,Tx:mc.vj,xC:mc.xs,xs:mc.xs,qC:mc.qC,Rb:mc.Rb,Tj:mc.Tj,PE:mc.PE,ft:mc.ft,Cache:mc.Cache,nC:241,oD:mc.oD,ne:mc.ne,Kb:mc.Kb,MX:mc.LX,O1:235,D:204,pC:217,EK:216,DK:214,Qj:215,TD:203,eY:1,fY:1,gY:2,$p:213,vh:212,aq:211,gq:210,jM:233,RV:232,eL:231,jO:209,C2:208,D2:207,Dka:206,E2:208,Tn:234,b1:202,X1:239};
lc.Ea={gn:230,ND:229,Hha:228,ln:227,El:226,Xs:225,Oi:nc.Oi,hE:nc.hE,mq:nc.mq,EL:nc.EL,kC:nc.kC,hL:222,aq:221,vZ:220,nE:219};lc.P0={aY:0,Rka:1,sja:2};lc.SX={PW:0,dia:1,Dja:2,vja:3,Mea:4,Nea:5,zja:6,Aja:7};lc.ft={J1:0,Qea:1,Zha:2};lc.ws={sW:0,Qla:1,Xfa:2,Px:255};lc.vh={TK:0,KE:2};
(function(e){(function(a){(function(c){var f;c.F={Bw:0,zw:1,U0:2,wM:3,S2:4,R2:5,nfa:6,yg:225,xM:8,W0:9,n4:15,Pla:10,hga:11,Lla:12,RL:14,Tn:21,Tj:22,NV:23};c.Ea={OE:0,RE:1,nja:2,Qka:3,mfa:4,wma:5,Jea:6,xja:7};c.Td={OV:0,Ama:1,V1:2,iga:3,j4:4,OE:5,RE:6,E4:8,F4:9};c.Sn={j1:0,R_:1,I1:2,wV:3,IW:4,s0:5,P1:6};var b=(f={},f[c.Sn.j1]="Offline",f[c.Sn.R_]="Invisible",f[c.Sn.I1]="Online",f[c.Sn.wV]="Away",f[c.Sn.IW]="Dnd",f[c.Sn.s0]="Lfg",f[c.Sn.P1]="Playing",f);c.Aw={sM:255,VM:254};c.yma=function(d){return b[d]}})(a.j||
(a.j={}))})(e.lC||(e.lC={}))})(fc||(fc={}));
(function(e){(function(a){var c,f=function(){return function(m,k){this.sender=m;this.content=k}}();a.wM=f;var b=function(){function m(k){this.name=k;this.rda=[];this.WT=0;this.properties={};this.jU=!1;this.xB=0;this.hs={}}m.prototype.yi=function(){return this.name};m.prototype.Xba=function(k,p){var r=[],l;for(l in k)if(parseInt(l)<p.length){var h=new f(k[l],p[l]);this.rda.push(h);r.push(h)}};m.prototype.Mda=function(k){if(k){for(var p in k)this.properties[p]=null==k[p]?void 0:k[p];p=k[a.j.Aw.VM];
void 0!=p&&(this.jU=p);p=k[a.j.Aw.sM];void 0!=p&&(this.xB=p)}};m.prototype.fT=function(k){return this.hs[k]||Object.keys(this.hs).length>this.xB?!1:this.hs[k]=!0};m.prototype.Qda=function(k){if(!this.hs[k])return!1;delete this.hs[k];return!0};m.prototype.reset=function(){this.hs={};this.properties={}};return m}();a.zw=b;var d=function(m){function k(p,r,l){p=m.call(this,p,r,l)||this;p.UK=100;p.cw={};p.Fda={};p.dqa=[];p.pqa=[];p.kT=!1;return p}dc(k,m);k.prototype.Zv=function(){};k.prototype.Zm=function(){};
k.prototype.fB=function(p){return m.prototype.fB.call(this,p)};k.prototype.NT=function(){return this.state==k.jl.IK};k.prototype.subscribe=function(p,r){"number"==typeof r&&(r={yJ:r});if(this.ub&&this.NT()){this.gb.debug("Subscribe channels:",p);var l=[];l.push(a.j.F.Bw,e.Db.String(p));if(r&&(r.yJ&&l.push(a.j.F.RL,e.Db.An(r.yJ)),r.kda&&(l.push(a.j.F.W0,e.Db.An(r.kda)),void 0===r.yJ&&l.push(a.j.F.RL,e.Db.An(-1))),r.jJ&&r.jJ.jU)){if(r.jJ.xB>this.UK)return this.gb.error("Cannot set MaxSubscribers > "+
this.UK+" when PublishSubscribers == true."),!1;p={};e.Db.WM(p,e.Db.Sd(a.j.Aw.VM),!0);e.Db.WM(p,e.Db.Sd(a.j.Aw.sM),e.Db.An(r.jJ.xB));l.push(a.j.F.Tj,p)}this.ub.pd(a.j.Ea.OE,l);return!0}this.gb.error("subscribe request error:","Not connected to Front End");return!1};k.prototype.unsubscribe=function(p){if(this.ub&&this.NT()){this.gb.debug("Unsubscribe channels:",p);var r=[];r.push(a.j.F.Bw,e.Db.String(p));this.ub.pd(a.j.Ea.RE,r);return!0}this.gb.error("unsubscribe request error:","Not connected to Front End");
return!1};k.prototype.JT=function(p,r,l){void 0==p[r]&&(p[r]=new b(r,l));return p[r]};k.prototype.zJ=function(p){var r=this;m.prototype.zJ.call(this,p);p.addEventListener(a.j.Td.OV,function(l){var h=l.V[a.j.F.S2],q=l.V[a.j.F.U0],t=l.V[a.j.F.zw],v=r.cw[t];v?(v.Xba(h,q),v.WT=l.V[a.j.F.xM]):p.L.warn("ev ChatMessages: Got message from unsubscribed channel ",t)});p.addEventListener(a.j.Td.V1,function(l){var h=l.V[a.j.F.R2],q=l.V[a.j.F.wM],t=l.V[a.j.F.yg];r.JT(r.Fda,r.fh==h?t:h,!0).WT=l.V[a.j.F.xM];new f(h,
q)});p.addEventListener(a.j.Td.j4,function(){});p.addEventListener(a.j.Td.OE,function(l){p.L.debug("ev Subscribe",l);var h=l.V[a.j.F.Bw]||[],q=l.V[a.j.F.n4]||[],t=!1,v=l.V[a.j.F.Tj];l=l.V[a.j.F.NV];void 0!=v&&(1==h.length?t=!0:r.gb.error("Subscribe event for multiple channels with channels properties returned. Ignoring properties."));for(var z in h){var A=h[z];if(z<q.length&&q[z]){var F=r.JT(r.cw,A,!1);F.reset();if(t&&(F.Mda(v),l))for(z in l)if(!F.fT(l[z])){p.L.error("Subscribe: channel '"+A+"' max subscribers exceeded");
break}}}});p.addEventListener(a.j.Td.RE,function(l){p.L.debug("ev Unsubscribe",l);l=l.V[a.j.F.Bw]||[];for(var h in l)delete r.cw[l[h]]});p.addEventListener(a.j.Td.E4,function(l){p.L.debug("ev UserSubscribe",l);var h=l.V[a.j.F.zw];l=l.V[a.j.F.yg];var q=r.cw[h];void 0==q?p.L.error("UserSubscribe: channel '"+h+"' not found"):q.fT(l)||p.L.error("UserSubscribe: channel '"+h+"' max subscribers exceeded")});p.addEventListener(a.j.Td.F4,function(l){p.L.debug("ev UserUnsubscribe",l);var h=l.V[a.j.F.zw];l=
l.V[a.j.F.yg];var q=r.cw[h];void 0==q?p.L.debug("UserUnsubscribe: channel '"+h+"' not found"):q.Qda(l)||p.L.debug("UserUnsubscribe: subscriber '"+l+"' not found in channel '"+h+"'")})};k.ak=function(p){var r=k.jca[p];return void 0===r?m.ak.call(this,p):r};k.jl={Error:-1,yt:0,kl:1,vs:2,eW:3,IK:4,ll:10};k.jca=(c={},c[k.jl.Error]="Error",c[k.jl.yt]="Uninitialized",c[k.jl.kl]="ConnectingToNameServer",c[k.jl.vs]="ConnectedToNameServer",c[k.jl.eW]="ConnectingToFrontEnd",c[k.jl.IK]="ConnectedToFrontEnd",
c[k.jl.ll]="Disconnected",c);return k}(e.Wd.Zp);a.ofa=d})(e.lC||(e.lC={}))})(fc||(fc={}));globalThis.Tfa=ec;globalThis.Va=fc;"use strict";
{const e=self.B;let a=null,c="",f="",b=[],d="",m="",k="";const p=e.A(e.sV);function r(l,h){l=l[1];h=h[1];if("number"===typeof l&&"number"===typeof h)return l-h;l=""+l;h=""+h;return l<h?-1:l>h?1:0}e.D.eb=class extends e.jt{constructor(l){super(l);this.Ve=this.g.ja().Ve;this.vd=this.g.ja().fd();this.su=this.wo=0;this.fR=new Map}m(){super.m()}ba(){this.g.ba()}na(l){this.g.na(l,null,null)}rx(l,h){a&&l===c&&h===f||(a=new RegExp(l,h),c=l,f=h);a.lastIndex=0;return a}GL(l,h,q){if(l===d&&h===m&&q===k)return b;
const t=this.rx(h,q);b=l.match(t);d=l;m=h;k=q;return b}async oF(l,h){if(h.length){this.wo+=h.length;var q=[];for(const t of h)q.push(l.tM(t));await e.W1(q,()=>{this.su++});this.su++;this.su===this.wo&&(this.g.na(e.D.eb.J.y1,null,null),this.wo=this.su=0)}}BQ(l,h){for(const q of h)0===q.H.length&&l.S0(q)}eP(){return p}y9(l){var h=this.g.ja();const q=h.fd(),t=q.Hf(),v=t.Ub(),z=v.Fd();var A=t.Ni();const F=q.Ra(v),x=h.Ve,E=x.Ra();if(A)for(A=0;A<l&&!E.dc;++A)h.mf(z),E.qc(A),v.ug(t,F),h.Sb(z);else for(h=
0;h<l&&!E.dc;++h)E.qc(h),v.ug(t,F);q.La();x.La();return!1}*U5(l){var h=this.g.ja();const q=h.fd(),t=q.Hf(),v=t.Ub(),z=v.Fd();var A=t.Ni();const F=q.Ra(v),x=h.Ve,E=x.Ra();if(A)for(A=0;A<l&&!E.dc;++A)h.mf(z),E.qc(A),yield*v.mg(t,F),h.Sb(z);else for(h=0;h<l&&!E.dc;++h)E.qc(h),yield*v.mg(t,F);q.La();x.La();return!1}faa(){var l=this.g.ja();const h=l.fd(),q=h.Hf(),t=q.Ub(),v=t.Fd();var z=q.Ni();const A=h.Ra(t),F=l.Ve,x=F.Ra();if(z)for(z=0;!x.dc;++z)l.mf(v),x.qc(z),t.ug(q,A)||x.xg(),l.Sb(v);else for(l=0;!x.dc;++l)x.qc(l),
t.ug(q,A)||x.xg();h.La();F.La();return!1}*n6(){var l=this.g.ja();const h=l.fd(),q=h.Hf(),t=q.Ub(),v=t.Fd();var z=q.Ni();const A=h.Ra(t),F=l.Ve,x=F.Ra();if(z)for(z=0;!x.dc;++z)l.mf(v),x.qc(z),(yield*t.mg(q,A))||x.xg(),l.Sb(v);else for(l=0;!x.dc;++l)x.qc(l),(yield*t.mg(q,A))||x.xg();h.La();F.La();return!1}W6(l,h,q){var t=this.g.ja();const v=t.fd(),z=v.Hf(),A=z.Ub(),F=A.Fd(),x=z.Ni(),E=v.Ra(A),I=t.Ve,M=I.Ra();M.iy(l);if(q<h)if(x)for(l=h;l>=q&&!M.dc;--l)t.mf(F),M.qc(l),A.ug(z,E),t.Sb(F);else for(t=h;t>=
q&&!M.dc;--t)M.qc(t),A.ug(z,E);else if(x)for(l=h;l<=q&&!M.dc;++l)t.mf(F),M.qc(l),A.ug(z,E),t.Sb(F);else for(t=h;t<=q&&!M.dc;++t)M.qc(t),A.ug(z,E);v.La();I.La();return!1}*R5(l,h,q){var t=this.g.ja();const v=t.fd(),z=v.Hf(),A=z.Ub(),F=A.Fd(),x=z.Ni(),E=v.Ra(A),I=t.Ve,M=I.Ra();M.iy(l);if(q<h)if(x)for(l=h;l>=q&&!M.dc;--l)t.mf(F),M.qc(l),yield*A.mg(z,E),t.Sb(F);else for(t=h;t>=q&&!M.dc;--t)M.qc(t),yield*A.mg(z,E);else if(x)for(l=h;l<=q&&!M.dc;++l)t.mf(F),M.qc(l),yield*A.mg(z,E),t.Sb(F);else for(t=h;t<=
q&&!M.dc;++t)M.qc(t),yield*A.mg(z,E);v.La();I.La();return!1}X6(l){var h=this.g.ja();const q=h.fd(),t=q.Hf(),v=t.Ub(),z=v.Fd();var A=t.Ni();const F=q.Ra(v),x=h.Ve,E=x.Ra(),I=l.Dc(),M=l.ca(),P=p.Ra();e.dd(P,M.ta());if(A)for(let Q=0,U=P.length;Q<U&&!E.dc;++Q)h.mf(z),A=P[Q],l.ca().Zj(A),I&&A.yh(),E.qc(Q),v.ug(t,F),h.Sb(z);else{M.Wi(!1);l=M.H;e.G(l);l.push(null);for(let Q=0,U=P.length;Q<U&&!E.dc;++Q)h=P[Q],l[0]=h,I&&h.yh(),E.qc(Q),v.ug(t,F)}q.La();x.La();e.G(P);p.La();return!1}*S5(l){var h=this.g.ja();
const q=h.fd(),t=q.Hf(),v=t.Ub(),z=v.Fd();var A=t.Ni();const F=q.Ra(v),x=h.Ve,E=x.Ra(),I=l.Dc(),M=l.ca(),P=p.Ra();e.dd(P,M.ta());if(A)for(let Q=0,U=P.length;Q<U&&!E.dc;++Q)h.mf(z),A=P[Q],l.ca().Zj(A),I&&A.yh(),E.qc(Q),yield*v.mg(t,F),h.Sb(z);else{M.Wi(!1);l=M.H;e.G(l);l.push(null);for(let Q=0,U=P.length;Q<U&&!E.dc;++Q)h=P[Q],l[0]=h,I&&h.yh(),E.qc(Q),yield*v.mg(t,F)}q.La();x.La();e.G(P);p.La();return!1}Y6(l,h){var q=this.g.ja();const t=q.fd(),v=q.nh(),z=t.Hf(),A=z.Ub(),F=A.Fd(),x=z.Ni(),E=t.Ra(A),
I=q.Ve,M=I.Ra(),P=l.Dc(),Q=l.ca(),U=p.Ra();e.G(U);const ba=Q.ta();for(let X=0,fa=ba.length;X<fa;++X)U.push([ba[X],v.ht(1,X)]);U.sort(r);1===h&&U.reverse();if(x)for(let X=0,fa=U.length;X<fa&&!M.dc;++X)q.mf(F),h=U[X][0],l.ca().Zj(h),P&&h.yh(),M.qc(X),A.ug(z,E),q.Sb(F);else{Q.Wi(!1);l=Q.H;e.G(l);l.push(null);for(let X=0,fa=U.length;X<fa&&!M.dc;++X)q=U[X][0],l[0]=q,P&&q.yh(),M.qc(X),A.ug(z,E)}t.La();I.La();e.G(U);p.La();return!1}*T5(l,h){var q=this.g.ja();const t=q.fd(),v=q.nh(),z=t.Hf(),A=z.Ub(),F=A.Fd(),
x=z.Ni(),E=t.Ra(A),I=q.Ve,M=I.Ra(),P=l.Dc(),Q=l.ca(),U=p.Ra();e.G(U);const ba=Q.ta();for(let X=0,fa=ba.length;X<fa;++X)U.push([ba[X],v.ht(1,X)]);U.sort(r);1===h&&U.reverse();if(x)for(let X=0,fa=U.length;X<fa&&!M.dc;++X)q.mf(F),h=U[X][0],l.ca().Zj(h),P&&h.yh(),M.qc(X),yield*A.mg(z,E),q.Sb(F);else{Q.Wi(!1);l=Q.H;e.G(l);l.push(null);for(let X=0,fa=U.length;X<fa&&!M.dc;++X)q=U[X][0],l[0]=q,P&&q.yh(),M.qc(X),yield*A.mg(z,E)}t.La();I.La();e.G(U);p.La();return!1}Ay(l,h){let q=this.fR.get(l);if(q)return q;
if(!h)return null;q={Rm:null,SB:new Map};this.fR.set(l,q);return q}o6(l,h,q,t,v){h.Ge().G2(q);t&&l.Sb(v)}*P5(l,h,q,t,v){yield*h.Ge().wW(q);t&&l.Sb(v)}}}"use strict";{const e=self.B;e.D.eb.Rn=class extends e.aa{constructor(a){super();this.M=a;this.g=a.I();this.Og=a.Lb()}m(){this.Og=this.g=this.M=null}}}"use strict";{const e=self.B;e.D.eb.Instance=class extends e.aa{constructor(a){super();this.qa=a;this.M=this.qa.K();this.kd=this.M.kd;this.g=this.qa.I()}m(){this.g=this.kd=this.M=this.qa=null}}}"use strict";
{const e=self.B,a=[];e.D.eb.J={XX(){return!0},GM(){return!0},FM(){return!0},G1(){return!0},D1(){return!0},Hn(){return this.g.Hn()},ZK(){const c=this.g.jf();return c.AG?!1:!c.Fo},w4(){const c=this.g.nh().wn();let f=c.get("TriggerOnce_lastTick");"undefined"===typeof f&&(f=-1,c.set("TriggerOnce_lastTick",-1));const b=this.g.zm;c.set("TriggerOnce_lastTick",b);return this.g.nH||f!==b-1},Sfa(c){const f=this.g.nh().wn(),b=f.get("Every_lastTime")||0,d=this.g.qg();f.has("Every_seconds")||f.set("Every_seconds",
c);const m=f.get("Every_seconds");if(d>=b+m)return f.set("Every_lastTime",b+m),d>=f.get("Every_lastTime")+.04&&f.set("Every_lastTime",d),f.set("Every_seconds",c),!0;d<b-.1&&f.set("Every_lastTime",d);return!1},Vp(c){return(c=this.g.ja().pL(c))&&c.Vp()},Xp(){return this.g.Xp()},ID(){return e.Uc.ID},C1(){return!0},t1(){return!0},Ofa(){return!0},E1(){return!0},F1(){return!0},HM(){return!0},IM(){return!0},yia(c){return!!this.g.Ii(c)},kha(c){switch(c){case 0:return"browser"===e.Uc.tC;case 1:return"iOS"===
e.Uc.cq;case 2:return"Android"===e.Uc.cq;case 8:return"cordova"===e.Uc.tC;case 9:return"scirra-arcade"===this.g.em;case 10:return"nwjs"===e.Uc.tC;case 13:return"windows-uwp"===this.g.em;default:return!1}},uja(c,f,b){return this.rx(f,b).test(c)},aW(c,f,b){return e.compare(c,f,b)},tfa(c,f,b){return c>=f&&c<=b},zfa(c,f,b){return e.compare(c.Gd(),f,b)},bW(c){return!!c.Gd()},yfa(c,f){const b=this.g.qg();return 0===c?(c=this.g.nh().wn(),!c.get("CompareTime_executed")&&b>=f?(c.set("CompareTime_executed",
!0),!0):!1):e.compare(b,c,f)},hha(c){return isNaN(c)},lV(c,f,b){return e.Mr(e.Ab(c),e.Ab(b))<=e.Ab(f)},X_(c,f){return e.Ze(e.Ab(c),e.Ab(f))},W_(c,f,b){c=e.Ab(c);f=e.Ab(f);b=e.Ab(b);return e.Ze(b,f)?e.Ze(c,f)&&!e.Ze(c,b):!(!e.Ze(c,f)&&e.Ze(c,b))},rha(c,f){return"number"===typeof c?0===f:1===f},Rfa(c){return!!c},Sia(c,f,b,d){if(!c)return!1;const m=this.eP(),k=m.Ra(),p=c.ca();e.dd(k,p.ta());p.Oc&&e.G(p.Zc);const r=this.g.nh();let l=0;for(let h=0,q=k.length;h<q;++h){const t=k[h];k[l]=t;f=r.ht(1,h);d=
r.ht(3,h);e.compare(f,b,d)?++l:p.Xn(t)}e.Ee(k,l);p.ay(k);f=!!k.length;e.G(k);m.La();c.Dd();return f},Tia(c,f){if(!c)return!1;const b=this.eP(),d=b.Ra(),m=c.ca();e.dd(d,m.ta());m.Oc&&e.G(m.Zc);const k=this.g.nh();let p=0;for(let r=0,l=d.length;r<l;++r){const h=d[r];d[p]=h;(f=k.ht(1,r))?++p:m.Xn(h)}e.Ee(d,p);m.ay(d);f=!!d.length;e.G(d);b.La();c.Dd();return f},Zia(c,f){if(!c)return!1;const b=c.ca(),d=b.ta();f=Math.floor(f);if(f>=d.length)return!1;b.Il(d[f]);c.Dd();return!0},cja(c){if(!c)return!1;const f=
c.ca(),b=f.ta(),d=Math.floor(this.g.fq()*b.length);if(d>=b.length)return!1;f.Il(b[d]);c.Dd();return!0},Ria(c){if(!c||!c.H.length)return!1;c.ca().Wi(!0);c.Dd();return!0},aja(c,f,b){if(!c)return!1;const d=c.ca();var m=d.ta();const k=this.g.Ub().se,p=this.g.nh().bj;d.Oc?(e.dd(a,m),d.Dw(),d.Wi(!1)):k?(e.dd(a,d.Zc),e.G(d.Zc)):(e.dd(a,d.H),e.G(d.H));for(let r=0,l=a.length;r<l;++r)m=a[r],e.xor(m.C().JK(f,b),p)?d.Iy(m):d.Xn(m);c.Dd();return e.xor(!!d.H.length,p)},Yia(c){if(!c)return!1;var f=c.fb;let b=null;
const d=this.g.Ao;for(let m=d.length-1;0<=m;--m){const k=d[m];if(f){if(k.K().eC(c)){b=k;break}}else if(k.K()===c){b=k;break}}b||(f=c.ta(),f.length&&(b=f[f.length-1]));if(!b)return!1;c.ca().Il(b);c.Dd();return!0},Bja(c){return this.g.re?this.U5(c):this.y9(c)},Jma(){return this.g.re?this.n6():this.faa()},aga(c,f,b){return this.g.re?this.R5(c,f,b):this.W6(c,f,b)},bga(c){return this.g.re?this.S5(c):this.X6(c)},cga(c,f,b){return this.g.re?this.T5(c,b):this.Y6(c,b)},Fha(c){return c?c.fc():!1},Cha(c){return c?
!c.H.length:!1},Bha(c,f,b){return c?e.compare(100*c.Ie(),f,b):!1},y1(){return!0},gha(){return 0<this.wo}}}"use strict";
{const e=self.B;function a(k,p){const r=k[0]-p[0];return 0!==r?r:k[1]-p[1]}function c(k,p){return k[1]-p[1]}const f=[],b=[],d=e.A(e.Rect),m=e.A(e.hb);e.D.eb.Qb={Y3(k,p){k.Tf(p)},Pea(k,p){k.Dl()&&"number"!==typeof p&&(p=parseFloat(p));k.Tf(k.Gd()+p)},dma(k,p){k.Dl()&&k.Tf(k.Gd()-p)},Z2(k,p){k.Tf(!!p)},s4(k){k.Tf(!k.Gd())},oka(){this.g.ja().t2()},oW(k,p,r,l,h){k&&p&&(r=this.g.PK(k,p,r,l,h))&&(h&&p.aO(r),p=this.g.ja(),p.ff(!0),r.MF(),p.ff(!1),k.ca().Zj(r),r.Dc()&&r.yh())},Hfa(k,p,r,l,h){k&&p&&(k=this.g.cD(k))&&
e.D.eb.Qb.oW.call(this,k,p,r,l,h)},gt(k,p,r,l,h,q,t,v,z,A){if(k){var F=this.g.cb();if(q&&(F=this.g.qb.Np(q),!F))return;q=null;if("number"!==typeof t||0<=t)if(q=F.za(t),!q)return;d.set(p,r,l,h);p=F.gt(k,d,q,v,z,A);k.ca().ay(p);k.Dd()}},Sla(){const k=this.Ve;k.hM()&&k.Kp().xg()},Nn(k,p){(k=this.g.ja().pL(k))&&(0===p?k.Nn(!1):1===p?k.Nn(!0):k.Nn(!k.Vp()))},Fla(k){this.g.EE(k)},Ala(k,p){0>p&&(p=0);if(k){k=k.ca().ta();for(const r of k)r.EE(p)}},rka(k){if(k){k=k.ca().ta();for(const p of k)p.z2()}},nO(k){if(!(0>
k))return this.g.ja().$B().M_(k),!0},Cma(k){this.g.ja().$B().K_(k);return!0},Bma(){const k=this.g.ja();k.$B().C_(k.uZ());return!0},Kla(k){k=k.toLowerCase();for(const p of this.g.ja().zf)p.j0()&&p.dv===k&&p.DE()},async ZN(k,p,r,l,h,q){const t=this.g.fa;t&&(this.ba(),await t.ZN(0===k?"image/png":"image/jpeg",p/100,r,l,h,q),await this.g.Xd(e.D.eb.J.t1,null))},Uka(k,p){if(!(0>=k||0>=p)){this.g.wt(k,p);var r=this.g.cb();r.vw();for(const l of r.Mc)l.SE();if(r=this.g.fa)"off"!==r.Is()&&this.g.A3(k,p),r.Jd(r.Km,
r.Jm,!0),this.g.ba()}},dla(k){const p=this.g.fa;p&&"off"!==p.Is()&&(p.GN(0!==k?"high":"low"),p.Jd(p.Km,p.Jm,!0))},Mn(k){this.g.L2(k)},Mha(k){this.g.B0(k)},Nha(k){this.g.QD(k)},fla(){},pka(){for(const k of this.g.qb.Hh)k.x2()},Bla(k){this.g.E3(0!==k)},QN(k){this.g.QN(k)},Ola(k,p){if(k){var r=k.ca().ta(),l=this.g.cb(),h=k.fb;k=k.Uh;for(let t=0,v=r.length;t<v;++t){var q=r[t];const z=q.C();if(!z)continue;let A;A=h?q.le(p+q.K().rL(k)):q.le(p);f.push([z.za().Da(),z.Lj()]);b.push([q,A])}if(f.length){f.sort(a);
b.sort(c);p=!1;for(let t=0,v=f.length;t<v;++t)r=b[t][0],h=l.aD(f[t][0]),k=f[t][1],q=h.H,q[k]!==r&&(q[k]=r,r.C().Pt(h),h.Vf(),p=!0);p&&this.g.ba();e.G(f);e.G(b)}}},HZ(k){if(!this.g.cj){var p=this.g.qb;p.Wp()||p.yw(k)}},xga(k){if(!this.g.cj){var p=this.g.qb;p.Wp()||(k=p.Np(k))&&p.yw(k)}},sia(k){if(!this.g.cj){var p=this.g.qb;if(!p.Wp()){var r=p.Hh,l=r.indexOf(p.$b());k&&0===l||(k||l!==r.length-1)&&p.yw(r[l+(k?-1:1)])}}},qka(){if(!this.g.cj){var k=this.g.qb;k.Wp()||(k.yw(k.$b()),this.g.ja().u2())}},
sla(k,p){k&&k.Uf(p)},nla(k,p){k&&k.Yj(p/100)},pla(k,p){k&&k.B3(p)},qla(k,p){k&&k.I3(p)},hla(k,p){k&&(p=e.zd(e.Ab(+p)),k.Yi!==p&&(k.oe(p),this.ba()))},ola(k,p,r){k&&k.C3(p/100,r/100)},tla(k,p){k&&k.pf(p)},ila(k,p){k&&(m.gs(p),m.xa(),k=k.Xt,k.Tm(m)||(k.Om(m),this.ba()))},rla(k,p){k&&(p=!!p,k.lm!==p&&(k.V3(p),this.ba()))},jla(k,p){k&&k.pg()!==p&&(k.Qf(p),this.ba())},kla(k,p,r){k&&(k=k.Na,r=k.Ej(r))&&(p=1===p,r.Cb!==p&&(r.$x(p),k.Tl(),this.g.ba()))},lla(k,p,r,l){if(k&&(k=k.Na,p=k.Ej(p))&&(k=k.If(p.Da()),
r=Math.floor(r),!(0>r||r>=k.length))){var h=p.jb.qx(r);if("color"===h){m.gs(l);r=k[r];if(m.Tm(r))return;r.Om(m)}else{"percent"===h&&(l/=100);if(k[r]===l)return;k[r]=l}p.Cb&&this.g.ba()}},mla(k,p){k&&(p=!!p,k.jH!==p&&(k.p3(p),this.ba()))},xla(k){const p=this.g.cb();p.ge!==k&&(p.H3(k),this.ba())},ula(k){k=e.zd(e.Ab(+k));const p=this.g.cb();p.Qa()!==k&&(p.oe(k),this.ba())},vla(k,p){const r=this.g.cb().Na;if(p=r.Ej(p))k=1===k,p.Cb!==k&&(p.$x(k),r.Tl(),this.g.ba())},wla(k,p,r){var l=this.g.cb().Na;if(k=
l.Ej(k))if(l=l.If(k.Da()),p=Math.floor(p),!(0>p||p>=l.length)){var h=k.jb.qx(p);if("color"===h){m.gs(r);p=l[p];if(m.Tm(p))return;p.Om(m)}else{"percent"===h&&(r/=100);if(l[p]===r)return;l[p]=r}k.Cb&&this.g.ba()}},Nka(k){this.g.cb().pt(k)},Oka(k){this.g.cb().qt(k)},Kka(k,p){const r=this.g.cb();r.pt(k);r.qt(p)},Mka(k){if(k&&(k=k.tL())&&(k=k.C())){var p=this.g.cb();p.pt(k.Ta());p.qt(k.Ua())}},async D0(k){const p=this.g.$b();p&&k&&!this.g.cj&&await this.oF(p,k.fb?k.Nq:[k])},async Lha(k){await e.D.eb.Qb.D0.call(this,
this.g.cD(k))},rma(k){const p=this.g.$b();p&&k&&this.BQ(p,k.fb?k.Nq:[k])},y4(k){e.D.eb.Qb.y4.call(this,this.g.cD(k))},sma(){const k=this.g.$b();if(k){var p=k.s7();this.BQ(k,p)}},async Jha(k){const p=this.g.$b();k&&p&&!this.g.cj&&await this.oF(p,k.fP())},async Kha(k){const p=this.g.$b();(k=this.g.qb.Np(k))&&p&&!this.g.cj&&await this.oF(p,k.fP())},gy(k){const p=this.vd.CY();if(p)switch(p.gR){case 1:"number"===typeof k&&p.gy(k);break;case 2:"string"===typeof k&&p.gy(k);break;case 3:p.gy(k)}},Vha(k,p,
r){var l=this.Ay(k.toLowerCase(),!0);const h=l.SB,q=p.toLowerCase();h.has(q)&&console.warn(`[Construct 3] Function map '${k}' string '${p}' already in map; overwriting entry`);(l=e.first(h.values())||l.Rm)&&0!==l.Kk!==(0!==r.Kk)?console.error(`[Construct 3] Function map '${k}' string '${p}' function return type not compatible with other functions in the map; entry ignored`):h.set(q,r)},Wha(k,p){const r=this.Ay(k.toLowerCase(),!0);r.Rm&&console.warn(`[Construct 3] Function map '${k}' already has a default; overwriting entry`);
const l=e.first(r.SB.values())||r.Rm;l&&0!==l.Kk!==(0!==p.Kk)?console.error(`[Construct 3] Function map '${k}' default: function return type not compatible with other functions in the map; entry ignored`):r.Rm=p},hfa(k,p,r){r=Math.floor(r);var l=this.Ay(k.toLowerCase(),!1);if(l){var h=l.SB.get(p.toLowerCase());if(!h)if(l.Rm)h=l.Rm,r=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${k}' string '${p}'; call ignored (consider setting a default)`);return}if(h.Gn())if(0!==
h.Kk)console.warn(`[Construct 3] Call mapped function: map '${k}' string '${p}' has a return type so cannot be called`);else{k=this.g;p=k.ja();var q=p.Ub();l=q.gd();var t=0<l.length;t&&p.Pf(l);var v=[];if(q=p.FC(q)){q=q.$f;for(let z=r,A=q.length;z<A;++z)v.push(q[z].Gd())}r=h.$f;for(let z=v.length,A=r.length;z<A;++z)v.push(r[z].yo);return k.re?this.P5(p,h,v,t,l):this.o6(p,h,v,t,l)}}else console.warn(`[Construct 3] Call mapped function: map name '${k}' not found; call ignored`)}}}"use strict";
{const e=self.B;e.D.eb.hf={joa:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},Cna:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},el(a){return a.toString()},$r(a){return"string"===typeof a?a.length:0},random(a,c){return"undefined"===typeof c?this.g.fq()*a:this.g.fq()*(c-a)+a},lca(...a){return a[Math.floor(this.g.fq()*a.length)]},Zoa(){return Math.PI},hoa(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(e.Ab(a))},cos(a){return Math.cos(e.Ab(a))},tan(a){return Math.tan(e.Ab(a))},asin(a){return e.uj(Math.asin(a))},acos(a){return e.uj(Math.acos(a))},atan(a){return e.uj(Math.atan(a))},exp(a){return Math.exp(a)},oda(a){return Math.log(a)},log10(a){return Math.log(a)/Math.LN10},max(...a){let c=a[0];"number"!==typeof c&&(c=0);for(let f=1,b=a.length;f<b;++f){let d=
a[f];"number"===typeof d&&c<d&&(c=d)}return c},min(...a){let c=a[0];"number"!==typeof c&&(c=0);for(let f=1,b=a.length;f<b;++f){let d=a[f];"number"===typeof d&&c>d&&(c=d)}return c},xa(a,c,f){return e.xa(a,c,f)},Iv(a,c,f,b){return e.Fca(a,c,f,b)},angle(a,c,f,b){return e.uj(e.iT(a,c,f,b))},Ce(a,c,f){return e.Ce(a,c,f)},mK(a,c,f){return e.mK(a,c,f)},KB(a,c,f,b){return e.KB(a,c,f,b)},xT(a,c,f,b,d){return e.xT(a,c,f,b,d)},tT(a,c,f){return e.tT(a,c,f)},Yma(a,c){return e.uj(e.Mr(e.Ab(a),e.Ab(c)))},Zma(a,
c,f){return e.uj(e.YI(e.Ab(a),e.Ab(c),f))},$ma(a,c,f){return e.uj(e.ZI(e.Ab(a),e.Ab(c),e.Ab(f)))},$pa(a,c,f){c|=0;return(a|0)&~(1<<c)|(0!==f?1:0)<<c},jqa(a,c){return(a|0)^1<<(c|0)},boa(a,c){return(a|0)&1<<(c|0)?1:0},Poa(){return"\n"},rqa(a){return"string"===typeof a?a.toUpperCase():""},Hoa(a){return"string"===typeof a?a.toLowerCase():""},left(a,c){return"string"===typeof a?a.substr(0,c):""},mid(a,c,f){return"string"!==typeof a?"":0>f?a.substr(c):a.substr(c,f)},right(a,c){return"string"===typeof a?
a.substr(a.length-c):""},trim(a){return"string"===typeof a?a.trim():""},kqa(a,c,f){if("string"!==typeof a||"string"!==typeof f)return"";a=a.split(f);c=Math.floor(c);return 0>c||c>=a.length?"":a[c]},lqa(a,c){return"string"===typeof a&&"string"===typeof c&&a.length?a.split(c).length:0},find(a,c){return"string"===typeof a&&"string"===typeof c?a.search(new RegExp(e.Bs(c),"i")):-1},Bna(a,c){return"string"===typeof a&&"string"===typeof c?a.search(new RegExp(e.Bs(c),"")):-1},replace(a,c,f){return"string"===
typeof a&&"string"===typeof c&&"string"===typeof f?a.replace(new RegExp(e.Bs(c),"gi"),f):"string"===typeof a?a:""},mpa(a,c,f){c=this.rx(c,f);return a?a.search(c):-1},lpa(a,c,f,b){c=this.rx(c,f);return a?a.replace(c,b):""},kpa(a,c,f){return(a=this.GL(a.toString(),c,f))?a.length:0},jpa(a,c,f,b){b=Math.floor(b);a=this.GL(a.toString(),c,f);return!a||0>b||b>=a.length?"":a[b]},Gqa(a,c){let f=0>a?"-":"";0>a&&(a=-a);f+="0".repeat(Math.max(c-a.toString().length,0));return f+a.toString()},tqa(a){return encodeURIComponent(a)},
sqa(a){return decodeURIComponent(a)},BT(){return this.g.oz},hqa(){return this.g.ve},Cqa(){return(Date.now()-this.g.PA)/1E3},oqa(){return Date.now()},time(){return this.g.qg()},gqa(){return this.g.zm},Soa(){return this.g.SH},Fna(){return this.g.Bz},mna(){return this.g.qA},coa(){return this.g.lx()},Fqa(){return this.g.fa.Eg},Eqa(){return this.g.fa.Dg},Woa(){return this.g.Ng},Voa(){return this.g.Mg},Uoa(){return this.g.Ng},Toa(){return this.g.Mg},Epa(){return this.g.cb().Nk},Fpa(){return this.g.cb().Ok},
Boa(){return this.g.cb().W},Coa(){return this.g.cb().ge},zoa(){return e.uj(this.g.cb().Qa())},Doa(){return this.g.cb().ua()},Aoa(){return this.g.cb().ra()},yqa(a){return(a=this.g.cb().za(a))?a.nd.T:0},Aqa(a){return(a=this.g.cb().za(a))?a.nd.O:0},zqa(a){return(a=this.g.cb().za(a))?a.nd.Z:0},wqa(a){return(a=this.g.cb().za(a))?a.nd.U:0},Bqa(a){return(a=this.g.cb().za(a))?a.nd.width():0},xqa(a){return(a=this.g.cb().za(a))?a.nd.height():0},hna(a,c,f){return(a=this.g.cb().za(a))?a.jC(c,f)[0]:0},ina(a,c,
f){return(a=this.g.cb().za(a))?a.jC(c,f)[1]:0},woa(a,c,f){return(a=this.g.cb().za(a))?a.Hx(c,f)[0]:0},xoa(a,c,f){return(a=this.g.cb().za(a))?a.Hx(c,f)[1]:0},uoa(a){return(a=this.g.cb().za(a))?a.ge:0},poa(a){return(a=this.g.cb().za(a))?e.uj(a.Yi):0},roa(a){return(a=this.g.cb().za(a))?100*a.Ie():0},voa(a){return(a=this.g.cb().za(a))?a.tr:0},soa(a){return(a=this.g.cb().za(a))?100*a.Fk:0},toa(a){return(a=this.g.cb().za(a))?100*a.Gk:0},yoa(a){return(a=this.g.cb().za(a))?a.ib():0},qoa(a){return(a=this.g.cb().za(a))?
a.Da():-1},gna(){const a=this.g.fa;return a?a.nI:""},Goa(a){const c=this.Ve;return c.hM()?a?(a=c.dY(a))?a.Da():0:c.Kp().Da():0},Cpa(){return this.g.Io},fna(a,c,...f){var b=this.Ay(a.toLowerCase(),!1);if(!b)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var d=b.SB.get(c.toLowerCase());if(!d)if(b.Rm)d=b.Rm;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${c}'; returning 0 (consider setting a default)`),
0;b=d.Kk;const m=d.Js();if(0===b)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${c}' has no return type so cannot be called from an expression; returning 0`),0;if(!d.Gn())return m;a=this.g.ja();c=a.Ub().gd();const k=0<c.length;k&&a.Pf(c);const p=d.$f;for(let r=f.length,l=p.length;r<l;++r)f.push(p[r].yo);d=d.Ge();f=d.oE(d.gd(),b,m,...f);k&&a.Sb(c);return f},Foa(){return this.g.td.jA},foa(){return 0===this.wo?1:this.su/this.wo},De(){return"webgl"},ppa(){return this.g.Ud().wv},
goa(){let a=this.g.Ud().GY();return Math.round(100*a/1048576)/100},rpa(a,c,f){return e.K1(a,c,f)},upa(a,c,f){return e.LM(a/100,c/100,f/100)},spa(a,c,f,b){return e.Sx(a/100,c/100,f/100,b/100)},vpa(a,c,f){return e.LM(a/255,c/255,f/255)},tpa(a,c,f,b){return e.Sx(a/255,c/255,f/255,b/255)},dpa(){return this.g.CA},epa(){return this.g.uS},pna(){return this.g.Ub().Gc.W},ona(){return this.g.Ub().Iq}}}"use strict";{const e=self.B;e.D.Text=class extends e.jt{constructor(a){super(a)}m(){super.m()}}}"use strict";
{const e=self.B;e.D.Text.Rn=class extends e.kt{constructor(a){super(a)}m(){super.m()}Zs(){}hq(){}}}"use strict";
{const e=self.B,a=self.ih,c=[0,0,0],f=["left","center","right"],b=["top","center","bottom"],d=new e.Rect,m=new e.Le;e.D.Text.Instance=class extends e.tN{constructor(r,l){super(r);this.Ca="";this.qk=!0;this.Th="Arial";this.jj=12;this.Kg=0;this.Te=this.Se=!1;this.bb=e.A(e.hb);this.Ae=this.Qe=0;this.pj=!0;this.lj=this.Fr=-1;this.vv=0;this.Nc=e.A(e.ka.jE,this.g.Ps(),{timeout:5});this.Nc.HB=()=>this.g.ba();this.Nc.KN();l&&(this.Ca=l[0],this.qk=!!l[1],this.Th=l[2],this.jj=l[3],this.Kg=l[4],this.Se=!!l[5],
this.Te=!!l[6],this.Qe=l[8],this.Ae=l[9],this.pj=0===l[10],r=l[7],this.bb.iw(r[0],r[1],r[2]),this.C().Uf(l[11]));this.Zd()}m(){this.Ul();this.Nc.m();this.Nc=null;super.m()}Zd(){const r=this.Nc;r.Sl(this.Ca);r.V2(this.qk);r.vE(this.Th);r.ON(this.Kg);r.zN(this.Se);r.MN(this.Te);r.Ml(this.bb);r.IN(f[this.Qe]);r.XN(b[this.Ae]);r.Z3(this.pj?"word":"character")}OF(){const r=this.C();this.Nc.wE(this.jj*r.wZ());var l=r.za();l=l.Ij()*l.IC(r.wl());this.Nc.Jd(r.ua(),r.ra(),l)}gf(r){var l=this.C();this.OF();
const h=this.Nc.Lf();if(h){var q=l.za();if(0===l.Qa()&&0===q.Qa()&&0===l.wl()&&!l.uh()&&q.s2()){l=l.Xw();const [t,v]=q.Yp(l.Hb,l.Ib),[z,A]=q.Yp(l.uc,l.vc);l=t-Math.round(t);const F=v-Math.round(v);d.set(t,v,z,A);d.offset(-l,-F);m.bn(d);const [x,E]=r.HL(r.Os());this.g.fa.tE(r,x,E);r.Sf(h);r.Jn(m,this.Nc.Sg);q.IF(r)}else r.Sf(h),l.uh()?this.A6(l,r):this.E6(l,r)}}E6(r,l){r=r.Xw();this.g.Wq&&(r=this.OP(r));l.Jn(r,this.Nc.Sg)}A6(r,l){const h=r.DZ();if(r.d0()){r.hC(d,m,!1);let q=m;this.g.Wq&&(q=this.OP(q));
h.IV(r.ul(),q,this.Nc.Sg);r.y3()}h.gf(l)}OP(r){const l=r.Hb-Math.round(r.Hb),h=r.Ib-Math.round(r.Ib);if(0===l&&0===h)return r;m.Ka(r);m.offset(-l,-h);return m}Vc(){const r={t:this.Ca,c:this.bb.toJSON(),fn:this.Th,ps:this.jj};this.qk&&(r.bbc=this.qk);0!==this.Qe&&(r.ha=this.Qe);0!==this.Ae&&(r.va=this.Ae);this.pj||(r.wr=this.pj);0!==this.Kg&&(r.lho=this.Kg);this.Se&&(r.b=this.Se);this.Te&&(r.i=this.Te);-1!==this.lj&&(r.tw={st:this.Fr,en:this.lj,l:this.vv});return r}Kc(r){this.Ul();this.Ca=r.t;this.bb.dl(r.c);
this.Th=r.fn;this.jj=r.ps;this.qk=r.hasOwnProperty("bbc")?r.bbc:!1;this.Qe=r.hasOwnProperty("ha")?r.ha:0;this.Ae=r.hasOwnProperty("va")?r.va:0;this.pj=r.hasOwnProperty("wr")?r.wr:!0;this.Kg=r.hasOwnProperty("lho")?r.lho:0;this.Se=r.hasOwnProperty("b")?r.b:!1;this.Te=r.hasOwnProperty("i")?r.i:!1;r.hasOwnProperty("tw")&&(r=r.tw,this.Fr=r.st,this.lj=r.en,this.vv=r.l);this.Zd();-1!==this.lj&&this.Oy()}pc(r){switch(r){case 0:return this.Ca;case 1:return this.qk;case 2:return this.Th;case 3:return this.jj;
case 4:return this.Kg;case 5:return this.Se;case 6:return this.Te;case 7:return c[0]=this.bb.Ya,c[1]=this.bb.$a,c[2]=this.bb.Za,c;case 8:return this.Qe;case 9:return this.Ae;case 10:return this.pj?1:0}}vg(r,l){switch(r){case 0:if(this.Ca===l)break;this.Ca=l;this.Zd();break;case 1:if(this.qk===!!l)break;this.qk=!!l;this.Zd();break;case 2:if(this.Th===l)break;this.Th=l;this.Zd();break;case 3:if(this.jj===l)break;this.jj=l;this.Zd();break;case 4:if(this.Kg===l)break;this.Kg=l;this.Zd();break;case 5:if(this.Se===
!!l)break;this.Se=!!l;this.Zd();break;case 6:if(this.Te===!!l)break;this.Te=!!l;this.Zd();break;case 7:r=this.bb;if(r.Ya===l[0]&&r.$a===l[1]&&r.Za===l[2])break;this.bb.iw(l[0],l[1],l[2]);this.Zd();break;case 8:if(this.Qe===l)break;this.Qe=l;this.Zd();break;case 9:if(this.Ae===l)break;this.Ae=l;this.Zd();break;case 10:this.pj!==(0===l)&&(this.pj=0===l,this.Zd())}}Eh(r){this.Ca!==r&&(this.Ca=r,this.Nc.Sl(r),this.g.ba())}O$(r,l){this.Eh(r);this.Fr=this.g.nD();this.lj=this.Fr+l/this.Ga().vY();this.vv=
e.il.cO(r).length;this.Nc.uE(0);this.Oy()}Ul(){this.lj=this.Fr=-1;this.vv=0;this.Nc.uE(-1);this.Py()}M6(){-1!==this.lj&&(this.Ul(),this.na(e.D.Text.J.KM),this.g.ba())}q$(r){this.Th!==r&&(this.Th=r,this.Nc.vE(r),this.g.ba())}i$(r){r=!!r;this.Se!==r&&(this.Se=r,this.Nc.zN(r),this.g.ba())}A$(r){r=!!r;this.Te!==r&&(this.Te=r,this.Nc.MN(r),this.g.ba())}r$(r){this.jj!==r&&(this.jj=r,this.g.ba())}mQ(r){this.Kg!==r&&(this.Kg=r,this.Zd(),this.g.ba())}u$(r){this.Qe!==r&&(this.Qe=r,this.Zd(),this.g.ba())}uQ(r){this.Ae!==
r&&(this.Ae=r,this.Zd(),this.g.ba())}K$(r){r=!!r;this.pj!==r&&(this.pj=r,this.Zd(),this.g.ba())}Oe(){var r=this.g.nD();r>=this.lj?(this.Ul(),this.na(e.D.Text.J.KM),this.g.ba()):(r=e.Oda(this.Fr,this.lj,r,this.vv),r=Math.floor(r),r!==this.Nc.no&&(this.Nc.uE(r),this.g.ba()))}Jj(){return self.l_}};const k=new WeakMap,p=new Map([["top",0],["center",1],["bottom",2]]);self.l_=class extends self.xD{constructor(){super();k.set(this,self.Sp.sq().Aa)}get text(){return k.get(this).Ca}set text(r){a.Id(r);const l=
k.get(this);l.Ul();l.Eh(r)}set lineHeight(r){a.it(r);k.get(this).mQ(r)}get lineHeight(){return k.get(this).Kg}set verticalAlign(r){a.Id(r);r=p.get(r);if("undefined"===typeof r)throw Error("invalid mode");k.get(this).uQ(r)}get verticalAlign(){return b[k.get(this).Ae]}}}"use strict";{const e=self.B;e.D.Text.J={rC(a,c){return c?this.Ca===a:e.Um(this.Ca,a)},nha(){return-1!==this.lj},KM(){return!0}}}"use strict";
{const e=self.B,a=e.A(e.hb);e.D.Text.Qb={Sl(c){this.Ul();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);this.Eh(c.toString())},sK(c){this.Ul();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);(c=c.toString())&&this.Eh(this.Ca+c)},oma(c,f){this.Ul();"number"===typeof c&&1E9>c&&(c=Math.round(1E10*c)/1E10);this.O$(c.toString(),f)},cla(c,f){let b=!1,d=!1;switch(f){case 1:b=!0;break;case 2:d=!0;break;case 3:d=b=!0}if(c!==this.Th||b!==this.Se||d!==this.Te)this.q$(c),this.i$(b),this.A$(d)},
wE(c){this.r$(c)},bla(c){a.gs(c);a.xa();this.bb.Tm(a)||(this.bb.Om(a),this.Nc.Ml(this.bb),this.g.ba())},Ila(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},Xka(c){this.C().Qf(c);this.g.ba()},nma(){this.M6()},ON(c){this.mQ(c)},ela(c){this.u$(c)},Hla(c){this.uQ(c)},Jla(c){this.K$(0===c)}}}"use strict";
{const e=self.B;e.D.Text.hf={Text(){return this.Ca},fja(){return this.qk?e.il.cO(this.Ca):this.Ca},Vfa(){return this.Th},Wfa(){return this.jj},fma(){this.OF();return this.Nc.zZ()},ema(){this.OF();return this.Nc.yZ()},Iha(){return this.Kg}}}"use strict";{const e=self.B;e.D.Ne=class extends e.sN{constructor(a){super(a,"text-input");this.yp("click",(c,f)=>c.uF(f));this.yp("dblclick",c=>c.D8());this.yp("change",(c,f)=>c.C8(f))}m(){super.m()}}}"use strict";{const e=self.B;e.D.Ne.Rn=class extends e.kt{constructor(a){super(a)}m(){super.m()}}}"use strict";
{const e=self.B,a=self.ih,c="text password email number tel url textarea search".split(" ");e.D.Ne.Instance=class extends e.rN{constructor(b,d){super(b,"text-input");this.yd=this.hj=this.Ca="";this.xc=!0;this.To=this.ej=!1;this.wa="text";this.jk=!0;this.Ko=-1;this.Fb="";d&&(this.Ca=d[0],this.hj=d[1],this.yd=d[2],this.C().Uf(d[3]),this.xc=d[4],this.ej=d[5],this.To=d[6],this.wa=c[d[7]],this.jk=d[8],this.Fb=d[9]);this.NK({type:this.wa,id:this.Fb})}m(){super.m()}hx(){return{text:this.Ca,placeholder:this.hj,
title:this.yd,isEnabled:this.xc,isReadOnly:this.ej,spellCheck:this.To,maxLength:this.Ko}}async uF(){this.tl().dispatchEvent(e.A(e.Event,"click",!0));await this.Xd(e.D.Ne.J.Qx)}async D8(){this.tl().dispatchEvent(e.A(e.Event,"dblclick",!0));await this.Xd(e.D.Ne.J.x1)}async C8(b){this.Ca=b.text;this.tl().dispatchEvent(e.A(e.Event,"change",!0));await this.Xd(e.D.Ne.J.H1)}Eh(b){this.Ca!==b&&(this.Ca=b,this.hc())}qQ(b){this.hj!==b&&(this.hj=b,this.hc())}HF(b){this.yd!==b&&(this.yd=b,this.hc())}My(b){b=
!!b;this.xc!==b&&(this.xc=b,this.hc())}rQ(b){b=!!b;this.ej!==b&&(this.ej=b,this.hc())}oQ(b){b=Math.max(+b,-1);this.Ko!==b&&(this.Ko=b,this.hc())}g$(){Promise.resolve().then(()=>this.Jl("scroll-to-bottom"))}gf(){}Vc(){return{t:this.Ca,p:this.hj,ti:this.yd,e:this.xc,r:this.ej,sp:this.To,ml:this.Ko,type:this.wa,id:this.Fb}}Kc(b){this.Ca=b.t;this.hj=b.p;this.yd=b.ti;this.xc=b.e;this.ej=b.r;this.To=b.sp;this.Ko=b.hasOwnProperty("ml")?b.ml:-1;this.wa=b.type;this.Fb=b.id;this.hc()}pc(b){switch(b){case 0:return this.Ca;
case 1:return this.hj;case 2:return this.yd;case 4:return this.xc;case 5:return this.ej;case 6:return this.To;case 8:return this.jk;case 9:return this.Fb}}vg(b,d){switch(b){case 0:if(this.Ca===d)break;this.Ca=d;this.hc();break;case 1:if(this.hj===d)break;this.hj=d;this.hc();break;case 2:if(this.yd===d)break;this.yd=d;this.hc();break;case 4:if(this.xc===!!d)break;this.xc=!!d;this.hc();break;case 5:if(this.ej===!!d)break;this.ej=!!d;this.hc();break;case 6:if(this.To===!!d)break;this.To=!!d;this.hc();
break;case 8:this.jk=!!d;break;case 9:this.Fb!==d&&(this.Fb=d,this.hc())}}Jj(){return self.k_}};const f=new WeakMap;self.k_=class extends self.SL{constructor(){super();f.set(this,self.Sp.sq().Aa)}set text(b){a.Id(b);f.get(this).Eh(b)}get text(){return f.get(this).Ca}set placeholder(b){a.Id(b);f.get(this).qQ(b)}get placeholder(){return f.get(this).hj}set isEnabled(b){f.get(this).My(b)}get isEnabled(){return f.get(this).xc}set eda(b){f.get(this).rQ(b)}get eda(){return f.get(this).ej}set maxLength(b){a.it(b);
f.get(this).oQ(b)}get maxLength(){return f.get(this).Ko}}}"use strict";{const e=self.B;e.D.Ne.J={rC(a,c){return 0===c?e.Um(this.Ca,a):this.Ca===a},H1(){return!0},Qx(){return!0},x1(){return!0}}}"use strict";self.B.D.Ne.Qb={Sl(e){this.Eh(e.toString())},sK(e){""!==e&&this.Eh(this.Ca+e)},Cla(e){this.qQ(e)},N3(e){this.HF(e)},F3(e){this.rQ(0===e)},Lka(){this.g$()},yla(e){this.oQ(e)}};"use strict";self.B.D.Ne.hf={Text(){return this.Ca},cia(){return this.Ko}};"use strict";
{const e=self.B;e.D.yj=class extends e.sN{constructor(a){super(a,"button");this.yp("click",(c,f)=>c.uF(f))}m(){super.m()}}}"use strict";{const e=self.B;e.D.yj.Rn=class extends e.kt{constructor(a){super(a)}m(){super.m()}}}"use strict";
{const e=self.B,a=self.ih;e.D.yj.Instance=class extends e.rN{constructor(f,b){super(f,"button");this.Ca="OK";this.wf=this.Tz=!1;this.Fb=this.yd="";this.jk=this.xc=!0;b&&(this.Tz=1===b[0],this.Ca=b[1],this.yd=b[2],this.C().Uf(b[3]),this.xc=b[4],this.jk=b[5],this.wf=b[6],this.Fb=b[7]);this.NK({id:this.Fb})}m(){super.m()}hx(){return{text:this.Ca,isCheckbox:this.Tz,isChecked:this.wf,title:this.yd,isVisible:this.C().fc(),isEnabled:this.xc}}async uF(f){this.wf=f.isChecked;this.tl().dispatchEvent(e.A(e.Event,
"click",!0));await this.Xd(e.D.yj.J.Qx)}Eh(f){this.Ca!==f&&(this.Ca=f,this.hc())}HF(f){this.yd!==f&&(this.yd=f,this.hc())}My(f){f=!!f;this.xc!==f&&(this.xc=f,this.hc())}jQ(f){this.Tz&&(f=!!f,this.wf!==f&&(this.wf=f,this.hc()))}gf(){}Vc(){return{text:this.Ca,checked:this.wf,title:this.yd,enabled:this.xc}}Kc(f){this.Ca=f.text;this.wf=f.checked;this.yd=f.title;this.xc=f.enabled;this.hc()}pc(f){switch(f){case 1:return this.Ca;case 2:return this.yd;case 4:return this.xc;case 5:return this.jk;case 6:return this.wf;
case 7:return this.Fb}}vg(f,b){switch(f){case 1:if(this.Ca===b)break;this.Ca=b;this.hc();break;case 2:if(this.yd===b)break;this.yd=b;this.hc();break;case 4:if(this.xc===!!b)break;this.xc=!!b;this.hc();break;case 5:this.jk=!!b;break;case 6:if(this.wf===!!b)break;this.wf=!!b;this.hc();break;case 7:this.Fb!==!!b&&(this.Fb=b,this.hc())}}Jj(){return self.d_}};const c=new WeakMap;self.d_=class extends self.SL{constructor(){super();c.set(this,self.Sp.sq().Aa)}set text(f){a.Id(f);c.get(this).Eh(f)}get text(){return c.get(this).Ca}set isEnabled(f){c.get(this).My(f)}get isEnabled(){return c.get(this).xc}set bda(f){c.get(this).jQ(f)}get bda(){return c.get(this).wf}}}"use strict";
{const e=self.B;e.D.yj.J={Qx(){return!0},Rga(){return this.wf},rC(a,c){return c?this.Ca===a:e.Um(this.Ca,a)}}}"use strict";self.B.D.yj.Qb={Sl(e){this.Eh(e)},N3(e){this.HF(e)},Vka(e){this.jQ(0!==e)},ima(){this.Tz&&(this.wf=!this.wf,this.hc())}};"use strict";self.B.D.yj.hf={Text(){return this.Ca}};"use strict";{const e=self.B;e.D.Keyboard=class extends e.jt{constructor(a){super(a)}m(){super.m()}}}"use strict";
{const e=self.B;e.D.Keyboard.Rn=class extends e.kt{constructor(a){super(a)}m(){super.m()}Jj(){return self.f_}};self.f_=class extends self.UL{constructor(a){super(a);a.I().iz.keyboard=this}}}"use strict";
{const e=self.B;e.D.Keyboard.Instance=class extends e.Yx{constructor(a){super(a);this.Fu=new Set;this.Zq=new Set;this.kj=0;this.uv=this.YA="";a=this.I().oc();this.tf=new e.GK(e.nl.Uw(a,"keydown",c=>this.M8(c.data)),e.nl.Uw(a,"keyup",c=>this.N8(c.data)),e.nl.Uw(a,"window-blur",()=>this.NP()),e.nl.Uw(a,"keyboard-blur",()=>this.NP()))}m(){super.m()}M8(a){const c=a.which,f=a.code||c.toString();a=a.key;this.Fu.has(f)||(this.Fu.add(f),this.Zq.add(c),this.YA=f,this.kj=c,this.uv=a,this.na(e.D.Keyboard.J.s1),
this.na(e.D.Keyboard.J.BM),this.na(e.D.Keyboard.J.A1),this.na(e.D.Keyboard.J.z1))}N8(a){const c=a.which,f=a.code||c.toString();a=a.key;this.Fu.delete(f);this.Zq.delete(c);this.YA=f;this.kj=c;this.uv=a;this.na(e.D.Keyboard.J.zM);this.na(e.D.Keyboard.J.DM);this.na(e.D.Keyboard.J.B1);this.na(e.D.Keyboard.J.CM)}NP(){for(const a of this.Zq)this.Zq.delete(a),this.kj=a,this.na(e.D.Keyboard.J.zM),this.na(e.D.Keyboard.J.DM),this.na(e.D.Keyboard.J.CM);this.Fu.clear()}Vc(){return{tk:this.kj,tkk:this.uv}}Kc(a){this.kj=
a.tk;a.hasOwnProperty("tkk")&&(this.uv=a.tkk)}}}"use strict";{const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.D.Keyboard.J={dha(a){return this.Zq.has(a)},BM(a){return this.kj===a},s1(){return!0},zM(){return!0},DM(a){return this.kj===a},cha(a){a=Math.floor(a);return this.Zq.has(a)},z1(a){return this.kj===a},CM(a){return this.kj===a},A1(a){return this.YA===e[a]},B1(a){return this.YA===e[a]},eha(a){return this.Fu.has(e[a])}}}"use strict";
self.B.D.Keyboard.Qb={};"use strict";
{function e(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";
case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";
case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}self.B.D.Keyboard.hf={Aha(){return this.kj},
Ula(a){return e(a)},mma(){return this.uv}}}"use strict";{const e=self.B;e.D.Va=class extends e.jt{constructor(a){super(a)}m(){super.m()}}}"use strict";{const e=self.B;e.D.Va.Rn=class extends e.kt{constructor(a){super(a)}m(){super.m()}}}"use strict";
{const e=self.B;e.D.Va.Instance=class extends e.Yx{uT(){fc.Wd.Zp.prototype.nU=function(c){c=new fc.Wd.B2(c);c.op=function(f){a.hp=[];for(var b in f)a.hp.push(b)};return c};fc.Wd.Zp.prototype.cT=function(c,f,b){c=new fc.Wd.VU(c,f,b);c.op=function(d){a.hp=[];for(var m in d)a.hp.push(m)};return c};ec.Ei.Mx.Yda(function(c,f){a.errorCode=c;a.ip=f;a.na(e.D.Va.J.Zm);return!1});this.$=new fc.Wd.Zp(this.TM,this.rK,this.Ap);var a=this;this.$.cn(this.F0);this.$.Zm=function(c,f){a.errorCode=c;a.ip=f;a.na(e.D.Va.J.Zm)};
this.$.Zv=function(c){a.na(e.D.Va.J.Zv);var f=fc.Wd.Zp;switch(c){case f.da.Fl:a.na(e.D.Va.J.eU);break;case f.da.ll:a.na(e.D.Va.J.Dda)}};this.$.Yv=function(c,f,b){if(c)switch(b){case fc.Wd.j.Ea.Xs:switch(c){case fc.Wd.j.bL.d1:a.na(e.D.Va.J.dU)}break;default:a.errorCode=c,a.ip=f,a.na(e.D.Va.J.Zm)}};this.$.lp=function(c,f,b){a.DT=c;a.Ica=f;a.mc=b;a.na(e.D.Va.J.lp);a.na(e.D.Va.J.Cda)};this.$.CB=function(){a.na(e.D.Va.J.CB)};this.$.DB=function(){a.na(e.D.Va.J.DB)};this.$.BB=function(){a.na(e.D.Va.J.BB)};
this.$.zB=function(c){a.mc=c.mc;a.na(e.D.Va.J.zB)};this.$.Xv=function(){a.na(e.D.Va.J.Xv)};this.$.Uv=function(c){a.mc=c.mc;a.na(e.D.Va.J.Uv)};this.$.Vv=function(c){a.mc=c.mc;a.na(e.D.Va.J.Vv)};this.$.Wv=function(c){a.mc=c.mc;a.na(e.D.Va.J.Wv)};this.$.$v=function(c,f,b,d,m){a.errorCode=c;a.ip=f;a.zea=b;a.yea=d;a.xea=m;a.na(e.D.Va.J.$v)};this.$.mp=function(c,f,b){a.errorCode=c;a.ip=f;a.Rr=b;a.na(e.D.Va.J.mp)};this.$.np=function(c,f,b){a.errorCode=c;a.ip=f;a.cf=b;a.na(e.D.Va.J.np)};this.$.AB=function(c,
f,b){a.errorCode=c;a.ip=f;a.Nr=b;a.na(e.D.Va.J.AB)}}constructor(a,c){super(a);c&&(this.properties=c,this.rK=this.properties[0],this.Ap=this.properties[1],this.TM="wss"==["ws","wss"][this.properties[2]]?this.TM=fc.kn.Wss:fc.kn.Ws,this.gq="eu us asia jp au usw sa cae kr in cn ru rue".split(" ")[this.properties[3]],this.wN=1==this.properties[4],this.xN=this.properties[5],this.F0=this.properties[6]+ec.Ei.Mx.Gl.yC);this.uT()}m(){super.m()}Vc(){return{}}Kc(){}}}"use strict";
self.B.D.Va.J={Zm(){return!0},Zv(){return!0},lp(e){return this.DT==e},Cda(){return!0},CB(){return!0},DB(){return!0},zB(){return!0},BB(){return!0},Xv(){return!0},Uv(){return!0},Vv(){return!0},Wv(){return!0},$v(){return!0},mp(){return!0},np(){return!0},AB(){return!0},eU(){return!0},Dda(){return!0},dU(){return!0},CJ(){return this.$.CJ()},jp(){return this.$.jp()},PT(){return this.$.PT()},jg(){return this.$.jg()}};"use strict";
self.B.D.Va.Qb={dK(e){this.$.dK(e)},sU(e,a){this.$.sU(e,a)},Opa(e){this.wN=1==e},Ypa(e){this.xN=e},Xpa(e){this.gq=e},Jpa(e){this.rK=e},Kpa(e){this.Ap=e},connect(){this.wN?(this.$.dea(this.xN),this.$.connect()):this.gq?this.$.sca(this.gq):this.$.fB()},vT(e,a,c){1==c&&(c=fc.Wd.j.vh.KE);this.$.uca(e,{lobbyName:a,lobbyType:c})},FJ(e,a,c,f,b){1==b&&(b=fc.Wd.j.vh.KE);a={rejoin:a&&!0,createIfNotExists:c&&!0,lobbyName:f,lobbyType:b};f={lobbyName:f,lobbyType:b};f=this.$.sT(f);this.$.FJ(e,a,f)},EJ(e,a,c,f,
b){1==f&&(f=fc.Wd.j.vh.KE);a={matchmakingMode:a,lobbyName:c,lobbyType:f,sqlLobbyFilter:b};e&&(a.oJ=this.$.Wa.jo,a.pJ=this.$.Wa.tj);this.$.EJ(a)},disconnect(){this.$.disconnect()},EU(){this.$.EU()},XT(){this.$.XT()},qp(e,a,c,f,b,d,m){c={interestGroup:c,cache:f,receivers:b,webForward:m};"string"===typeof d&&d&&(c.FU=d.split(",").map(function(k){return parseInt(k)}));this.$.qp(e,a,c)},gp(e,a){switch(e){case 0:this.$.gp(null,[a]);break;case 1:this.$.gp(null,[]);break;case 2:this.$.gp([a],null);break;
case 3:this.$.gp([],null)}},ow(e,a,c){this.$.ow(e,c?JSON.parse(a):a)},nB(e){this.$.nB(e.split(","))},LB(){this.$.LB()},Qpa(e){this.$.Md.wU(e)},Upa(e,a,c,f,b,d){this.$.Bf[e].cK(a,c,f,b?d:void 0)},Vpa(e,a,c,f,b){this.$.Wa.cK(e,a,c,f?b:void 0)},xU(e){this.$.Wa.xU(e.split(","))},Spa(e){this.$.Wa.cea(e?!0:!1)},Rpa(e){this.$.Wa.bea(e?!0:!1)},Tpa(e){this.$.Wa.eea(e)},tU(e){this.$.Wa.tU(e)},AU(e){this.$.Wa.AU(e)},Zpa(){this.$.gb.error("'Set unique userid check' action is deprecated. Please remove it from project. Rooms always created with 'unique userid check' set to true.")},
reset(){this.$.disconnect();this.uT();this.$.gb.info("Photon client reset.")}};"use strict";
self.B.D.Va.hf={bL(){return this.errorCode||0},PX(){return this.ip||""},da(){return this.$.state},i4(){return fc.Wd.Zp.ak(this.$.state)},yg(){return this.$.fh||""},mia(){return this.$.Md.mc},hh(){return this.mc||0},nia(){return this.$.Wa.name||""},Td(){return this.DT||0},TX(){return this.Ica},ska(){return this.$.Bi.length},wka(e){return this.$.Bi[e].name||""},vka(e){return(e=this.$.bl[e])&&e.tj||0},uka(e){return(e=this.$.bl[e])&&e.Zk?1:0},xka(e){return(e=this.$.bl[e])&&e.es},yka(e,a){return(e=this.$.bl[e])&&
e.qB(a)},mja(e){var a=this.$.Wa;return a&&a.qB(e)},Fea(){return this.$.rj.length},Hea(e){var a=this.$.rj[e];return a&&a.mc||-e},Gea(e){var a=this.$.Bf[e];return a&&a.name||"-- not found acorNr "+e},lja(e,a){return(e=this.$.Bf[e])&&e.qB(a)},kfa(){return this.hp&&this.hp.length||0},lfa(e){return this.hp&&this.hp[e]},Yha(){return this.$.xda()},Ima(){return this.zea||""},Hma(){return this.yea||0},Gma(){return this.xea},fga(e){return this.Rr&&this.Rr[e]&&this.Rr[e].Eda?1:0},gga(e){return this.Rr&&this.Rr[e]?
this.Rr[e].Sda:""},Oha(){return this.cf?this.cf.length:0},Qha(e){return this.cf&&this.cf[e]?this.cf[e].bh:""},Sha(e){return this.cf&&this.cf[e]?this.cf[e].dh:0},Rha(e){return this.cf&&this.cf[e]?this.cf[e].aw:0},Pha(e){return this.cf&&this.cf[e]?this.cf[e].Lv:0},Uea(){return this.Nr?this.Nr.aw:0},Tea(){return this.Nr?this.Nr.qda:0},Sea(){return this.Nr?this.Nr.Lv:0}};
{const e=self.B;self.xK=function(){return[e.D.Text,e.D.Ne,e.D.yj,e.D.Keyboard,e.D.Va,e.D.eb.J.GM,e.D.Ne.Qb.o3,e.D.eb.J.XX,e.D.Ne.J.rC,e.D.yj.Qb.j3,e.D.eb.J.ZK,e.D.eb.J.aW,e.D.eb.hf.$r,e.D.Ne.hf.Text,e.D.yj.J.Qx,e.D.eb.Qb.Y3,e.D.Ne.Qb.Sl,e.D.eb.Qb.Z2,e.D.eb.Qb.HZ,e.O2.jY,e.D.Text.Qb.sK,e.D.Text.Qb.Sl,e.D.Va.Qb.connect,e.D.eb.J.bW,e.D.Text.Qb.Uf,e.D.eb.Qb.Nn,e.D.eb.J.Vp,e.D.Va.J.eU,e.D.Va.Qb.vT,e.D.Va.J.jg,e.D.eb.J.w4,e.D.Va.J.Zm,e.D.Va.hf.PX,e.D.Va.Qb.EJ,e.D.Va.J.dU,e.D.Va.Qb.FJ,e.D.Keyboard.J.BM,
e.D.Va.Qb.qp,e.D.Va.hf.hh,e.D.Va.J.lp,e.D.Va.hf.TX,e.D.eb.Qb.s4,e.D.Ne.Qb.F3,e.D.Ne.Qb.Y2,e.D.Va.hf.i4,e.D.Va.Qb.reset,e.D.eb.J.FM]};self.FV=[{gma:0},{zha:0},{xma:0},{Mga:0},{Nma:0},{Pka:0},{Keyboard:0},{gia:0},{Mma:0},{lma:0},{sha:0},{rga:0},{qga:0},{Va:0},{ifa:0},{zma:0},{rY:0},{GV:0},{e_:0},{pha:0},{aha:0},{message:0}]}"use strict";
self.EV=[()=>"",e=>{const a=e.Ui(0).Jp(),c=e.Ui(1);return()=>a(c.EC())},e=>{const a=e.Ui(0).ro;return()=>a.Gd()},e=>{const a=e.Ui(0);return()=>a.EC()},e=>{const a=e.Ui(0).ro;return()=>a.Gd()+"\n"},()=>"HostConnection",()=>"GuestConnection",e=>{const a=e.Ui(0).Jp();return()=>a()},()=>1,e=>{const a=e.Ui(0).Jp(),c=e.Ui(1).ro,f=e.Ui(2);return()=>{var b=a();return"["+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+"]"+c.Gd()+" - "+f.EC()}},()=>0,e=>{const a=e.Ui(0).Jp();return()=>a()+"\n"},
()=>"Your turn",()=>"Wait for opponent"];self.B.O2={async jY(e){const a=e.tB.GV,c=e.tB.e_;let f="";for(var b=0;b<c;b++)f+=a.charAt(Math.floor(Math.random()*a.length));e.tB.rY=f}};
